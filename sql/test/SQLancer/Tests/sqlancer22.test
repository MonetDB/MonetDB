statement ok
START TRANSACTION

statement ok
CREATE TABLE "t2" ("c0" INT)

statement ok
create view v1(vc0) as (select 1 where false)

statement ok
create view v2(vc0) as (select true)

query I nosort
SELECT (SELECT 'a' FROM v1) <> ALL(SELECT 'b' FROM t2) FROM v2
----
1

query I nosort
SELECT CAST(SUM(count) AS BIGINT) FROM (SELECT CAST((SELECT 'a' FROM v1) <> ALL((SELECT 'b' FROM t2) UNION (SELECT 'c' FROM v1)) AS INT)
as count FROM v2) as res
----
1

# this one is right
query I nosort
SELECT 1 FROM v2 WHERE (SELECT 'a' FROM v1) <> ALL((SELECT 'b' FROM t2) UNION (SELECT 'c' FROM v1))
----
1

statement ok
ROLLBACK

statement ok
START TRANSACTION

statement ok
CREATE TABLE t0 (c0 INT)

statement ok
INSERT INTO t0 VALUES (1)

statement ok
CREATE TABLE t1 (c0 INT)

statement ok
INSERT INTO t1 VALUES (1)

query I nosort
SELECT 1 = ANY(SELECT 1 FROM t1 JOIN (SELECT count(*) GROUP BY t0.c0) AS x(x) ON TRUE) FROM t0
----
1

statement ok
ROLLBACK

statement ok
START TRANSACTION

statement ok
CREATE VIEW v1(vc0, vc1, vc2) AS (WITH ctel0n0(ct0n0,ct0n1) AS (VALUES (4, 5)) SELECT 1, 2, 3 FROM ctel0n0)

query III nosort
SELECT * FROM v1
----
1
2
3

statement error 42000!CREATE VIEW: LIMIT not supported
CREATE VIEW v2(vc0, vc1, vc2) AS (WITH ctel0n0(ct0n0,ct0n1) AS (VALUES (4, 5)) SELECT 1, 2, 3 FROM ctel0n0 LIMIT 7)

statement ok
ROLLBACK

statement ok
START TRANSACTION

statement ok
CREATE TABLE t0(c0 INT)

query I nosort
with x(x) as (select 4) select 2 > all(select 3 from t0 full outer join (values (x.x)) as y(y) on false) from x
----
0

statement ok
ROLLBACK
