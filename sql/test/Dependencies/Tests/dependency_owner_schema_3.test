hash-threshold 1000

statement ok
ALTER USER "monet_test" SET SCHEMA "sys"

statement ok
DROP SCHEMA test

statement ok
DROP USER monet_test

statement error
DROP SCHEMA test_2

query TTT nosort
SELECT s.name, u.name, 'DEP_USER' from sys.schemas as s, users u where u.default_schema = s.id order by s.name, u.name
----
sys
.snapshot
DEP_USER
sys
monetdb
DEP_USER

query TTT nosort
SELECT a.name, s.name, 'DEP_SCHEMA' from sys.schemas as s, auths a where s.owner = a.id order by a.name, s.name
----
monetdb
information_schema
DEP_SCHEMA
monetdb
json
DEP_SCHEMA
monetdb
logging
DEP_SCHEMA
monetdb
profiler
DEP_SCHEMA
monetdb
sys
DEP_SCHEMA
monetdb
tmp
DEP_SCHEMA

query TTT nosort
SELECT distinct t.name, v.name, 'DEP_VIEW' from sys.tables as t, sys.tables as v, sys.dependencies as dep where t.id = dep.id AND v.id = dep.depend_id AND dep.depend_type = 5 AND v.type in (1, 11, 21, 31) order by t.name, v.name
----
_columns
columns
DEP_VIEW
_columns
describe_indices
DEP_VIEW
_columns
describe_tables
DEP_VIEW
_columns
ids
DEP_VIEW
_tables
check_constraints
DEP_VIEW
_tables
describe_comments
DEP_VIEW
_tables
describe_constraints
DEP_VIEW
_tables
describe_foreign_keys
DEP_VIEW
_tables
describe_indices
DEP_VIEW
_tables
describe_partition_tables
DEP_VIEW
_tables
ids
DEP_VIEW
_tables
table_constraints
DEP_VIEW
_tables
tables
DEP_VIEW
_tables
views
DEP_VIEW
args
dependency_args_on_types
DEP_VIEW
args
describe_functions
DEP_VIEW
args
dump_function_grants
DEP_VIEW
args
fully_qualified_functions
DEP_VIEW
args
ids
DEP_VIEW
args
parameters
DEP_VIEW
args
routines
DEP_VIEW
auths
dependency_owners_on_schemas
DEP_VIEW
auths
describe_privileges
DEP_VIEW
auths
dump_column_grants
DEP_VIEW
auths
dump_create_roles
DEP_VIEW
auths
dump_create_schemas
DEP_VIEW
auths
dump_function_grants
DEP_VIEW
auths
dump_grant_user_privileges
DEP_VIEW
auths
dump_table_grants
DEP_VIEW
auths
ids
DEP_VIEW
auths
roles
DEP_VIEW
auths
schemata
DEP_VIEW
columns
columns
DEP_VIEW
columns
dependency_columns_on_functions
DEP_VIEW
columns
dependency_columns_on_indexes
DEP_VIEW
columns
dependency_columns_on_keys
DEP_VIEW
columns
dependency_columns_on_procedures
DEP_VIEW
columns
dependency_columns_on_triggers
DEP_VIEW
columns
dependency_columns_on_types
DEP_VIEW
columns
dependency_columns_on_views
DEP_VIEW
columns
describe_column_defaults
DEP_VIEW
columns
describe_comments
DEP_VIEW
columns
describe_privileges
DEP_VIEW
columns
dump_column_grants
DEP_VIEW
columns
geometry_columns
DEP_VIEW
comments
columns
DEP_VIEW
comments
describe_comments
DEP_VIEW
comments
routines
DEP_VIEW
comments
schemata
DEP_VIEW
comments
sequences
DEP_VIEW
comments
tables
DEP_VIEW
comments
views
DEP_VIEW
db_user_info
dependency_schemas_on_users
DEP_VIEW
db_user_info
dump_add_schemas_to_users
DEP_VIEW
db_user_info
dump_create_roles
DEP_VIEW
db_user_info
dump_create_users
DEP_VIEW
db_user_info
roles
DEP_VIEW
db_user_info
users
DEP_VIEW
dependencies
dependencies_vw
DEP_VIEW
dependencies
dependency_args_on_types
DEP_VIEW
dependencies
dependency_columns_on_functions
DEP_VIEW
dependencies
dependency_columns_on_procedures
DEP_VIEW
dependencies
dependency_columns_on_triggers
DEP_VIEW
dependencies
dependency_columns_on_types
DEP_VIEW
dependencies
dependency_columns_on_views
DEP_VIEW
dependencies
dependency_functions_on_functions
DEP_VIEW
dependencies
dependency_functions_on_procedures
DEP_VIEW
dependencies
dependency_functions_on_triggers
DEP_VIEW
dependencies
dependency_functions_on_types
DEP_VIEW
dependencies
dependency_functions_on_views
DEP_VIEW
dependencies
dependency_tables_on_functions
DEP_VIEW
dependencies
dependency_tables_on_procedures
DEP_VIEW
dependencies
dependency_tables_on_triggers
DEP_VIEW
dependencies
dependency_tables_on_views
DEP_VIEW
dependencies
dependency_views_on_functions
DEP_VIEW
dependencies
dependency_views_on_procedures
DEP_VIEW
dependencies
dependency_views_on_views
DEP_VIEW
dependencies
describe_partition_tables
DEP_VIEW
dependency_types
dependencies_vw
DEP_VIEW
describe_column_defaults
dump_column_defaults
DEP_VIEW
describe_comments
dump_comments
DEP_VIEW
describe_constraints
dump_table_constraint_type
DEP_VIEW
describe_foreign_keys
dump_foreign_keys
DEP_VIEW
describe_functions
dump_functions
DEP_VIEW
describe_indices
dump_indices
DEP_VIEW
describe_partition_tables
dump_partition_tables
DEP_VIEW
describe_sequences
dump_sequences
DEP_VIEW
describe_sequences
dump_start_sequences
DEP_VIEW
describe_tables
dump_tables
DEP_VIEW
describe_triggers
dump_triggers
DEP_VIEW
describe_user_defined_types
dump_user_defined_types
DEP_VIEW
fkey_actions
fkeys
DEP_VIEW
fkeys
referential_constraints
DEP_VIEW
fully_qualified_functions
describe_comments
DEP_VIEW
fully_qualified_functions
describe_privileges
DEP_VIEW
function_languages
describe_functions
DEP_VIEW
function_languages
routines
DEP_VIEW
function_types
describe_comments
DEP_VIEW
function_types
describe_functions
DEP_VIEW
function_types
dump_function_grants
DEP_VIEW
function_types
fully_qualified_functions
DEP_VIEW
function_types
ids
DEP_VIEW
function_types
routines
DEP_VIEW
functions
dependency_args_on_types
DEP_VIEW
functions
dependency_columns_on_functions
DEP_VIEW
functions
dependency_columns_on_procedures
DEP_VIEW
functions
dependency_functions_on_functions
DEP_VIEW
functions
dependency_functions_on_procedures
DEP_VIEW
functions
dependency_functions_on_triggers
DEP_VIEW
functions
dependency_functions_on_types
DEP_VIEW
functions
dependency_functions_on_views
DEP_VIEW
functions
dependency_tables_on_functions
DEP_VIEW
functions
dependency_tables_on_procedures
DEP_VIEW
functions
dependency_views_on_functions
DEP_VIEW
functions
dependency_views_on_procedures
DEP_VIEW
functions
describe_comments
DEP_VIEW
functions
describe_functions
DEP_VIEW
functions
dump_function_grants
DEP_VIEW
functions
fully_qualified_functions
DEP_VIEW
functions
ids
DEP_VIEW
functions
parameters
DEP_VIEW
functions
routines
DEP_VIEW
ids
dependencies_vw
DEP_VIEW
idxs
dependency_columns_on_indexes
DEP_VIEW
idxs
dependency_tables_on_indexes
DEP_VIEW
idxs
describe_comments
DEP_VIEW
idxs
describe_indices
DEP_VIEW
idxs
ids
DEP_VIEW
keys
check_constraints
DEP_VIEW
keys
dependency_columns_on_indexes
DEP_VIEW
keys
dependency_columns_on_keys
DEP_VIEW
keys
dependency_keys_on_foreignkeys
DEP_VIEW
keys
dependency_tables_on_foreignkeys
DEP_VIEW
keys
dependency_tables_on_indexes
DEP_VIEW
keys
describe_constraints
DEP_VIEW
keys
describe_foreign_keys
DEP_VIEW
keys
describe_indices
DEP_VIEW
keys
fkeys
DEP_VIEW
keys
ids
DEP_VIEW
keys
referential_constraints
DEP_VIEW
keys
table_constraints
DEP_VIEW
objects
dependency_columns_on_indexes
DEP_VIEW
objects
dependency_columns_on_keys
DEP_VIEW
objects
describe_constraints
DEP_VIEW
objects
describe_foreign_keys
DEP_VIEW
objects
describe_indices
DEP_VIEW
objects
ids
DEP_VIEW
privilege_codes
describe_accessible_tables
DEP_VIEW
privilege_codes
describe_privileges
DEP_VIEW
privilege_codes
dump_column_grants
DEP_VIEW
privilege_codes
dump_function_grants
DEP_VIEW
privilege_codes
dump_table_grants
DEP_VIEW
privileges
describe_accessible_tables
DEP_VIEW
privileges
describe_privileges
DEP_VIEW
privileges
dump_column_grants
DEP_VIEW
privileges
dump_function_grants
DEP_VIEW
privileges
dump_table_grants
DEP_VIEW
range_partitions
describe_partition_tables
DEP_VIEW
roles
describe_accessible_tables
DEP_VIEW
schemas
check_constraints
DEP_VIEW
schemas
columns
DEP_VIEW
schemas
dependency_owners_on_schemas
DEP_VIEW
schemas
dependency_schemas_on_users
DEP_VIEW
schemas
describe_accessible_tables
DEP_VIEW
schemas
describe_column_defaults
DEP_VIEW
schemas
describe_comments
DEP_VIEW
schemas
describe_constraints
DEP_VIEW
schemas
describe_foreign_keys
DEP_VIEW
schemas
describe_functions
DEP_VIEW
schemas
describe_indices
DEP_VIEW
schemas
describe_partition_tables
DEP_VIEW
schemas
describe_privileges
DEP_VIEW
schemas
describe_sequences
DEP_VIEW
schemas
describe_tables
DEP_VIEW
schemas
describe_triggers
DEP_VIEW
schemas
describe_user_defined_types
DEP_VIEW
schemas
dump_add_schemas_to_users
DEP_VIEW
schemas
dump_column_grants
DEP_VIEW
schemas
dump_create_schemas
DEP_VIEW
schemas
dump_create_users
DEP_VIEW
schemas
dump_function_grants
DEP_VIEW
schemas
dump_table_grants
DEP_VIEW
schemas
fully_qualified_functions
DEP_VIEW
schemas
geometry_columns
DEP_VIEW
schemas
ids
DEP_VIEW
schemas
parameters
DEP_VIEW
schemas
referential_constraints
DEP_VIEW
schemas
routines
DEP_VIEW
schemas
schemata
DEP_VIEW
schemas
sequences
DEP_VIEW
schemas
statistics
DEP_VIEW
schemas
storage
DEP_VIEW
schemas
table_constraints
DEP_VIEW
schemas
tables
DEP_VIEW
schemas
views
DEP_VIEW
sequences
columns
DEP_VIEW
sequences
describe_comments
DEP_VIEW
sequences
describe_sequences
DEP_VIEW
sequences
ids
DEP_VIEW
sequences
sequences
DEP_VIEW
storage
schemastorage
DEP_VIEW
storage
tablestorage
DEP_VIEW
storagemodelinput
storagemodel
DEP_VIEW
storagemodelinput
tablestoragemodel
DEP_VIEW
table_partitions
describe_partition_tables
DEP_VIEW
table_types
describe_accessible_tables
DEP_VIEW
table_types
describe_comments
DEP_VIEW
table_types
describe_tables
DEP_VIEW
table_types
ids
DEP_VIEW
table_types
tables
DEP_VIEW
tables
columns
DEP_VIEW
tables
dependency_columns_on_indexes
DEP_VIEW
tables
dependency_columns_on_keys
DEP_VIEW
tables
dependency_columns_on_triggers
DEP_VIEW
tables
dependency_columns_on_types
DEP_VIEW
tables
dependency_columns_on_views
DEP_VIEW
tables
dependency_functions_on_views
DEP_VIEW
tables
dependency_tables_on_foreignkeys
DEP_VIEW
tables
dependency_tables_on_functions
DEP_VIEW
tables
dependency_tables_on_indexes
DEP_VIEW
tables
dependency_tables_on_procedures
DEP_VIEW
tables
dependency_tables_on_triggers
DEP_VIEW
tables
dependency_tables_on_views
DEP_VIEW
tables
dependency_views_on_functions
DEP_VIEW
tables
dependency_views_on_procedures
DEP_VIEW
tables
dependency_views_on_views
DEP_VIEW
tables
describe_accessible_tables
DEP_VIEW
tables
describe_column_defaults
DEP_VIEW
tables
describe_privileges
DEP_VIEW
tables
describe_tables
DEP_VIEW
tables
describe_triggers
DEP_VIEW
tables
dump_column_grants
DEP_VIEW
tables
dump_table_grants
DEP_VIEW
tables
geometry_columns
DEP_VIEW
tables
ids
DEP_VIEW
tables
referential_constraints
DEP_VIEW
tables
statistics
DEP_VIEW
tables
storage
DEP_VIEW
tables
tables
DEP_VIEW
triggers
dependency_columns_on_triggers
DEP_VIEW
triggers
dependency_functions_on_triggers
DEP_VIEW
triggers
dependency_tables_on_triggers
DEP_VIEW
triggers
describe_triggers
DEP_VIEW
triggers
ids
DEP_VIEW
types
dependency_args_on_types
DEP_VIEW
types
dependency_columns_on_types
DEP_VIEW
types
dependency_functions_on_types
DEP_VIEW
types
describe_user_defined_types
DEP_VIEW
types
geometry_columns
DEP_VIEW
types
ids
DEP_VIEW
user_role
dump_grant_user_privileges
DEP_VIEW
value_partitions
describe_partition_tables
DEP_VIEW

query TTT nosort
SELECT t.name, i.name, 'DEP_INDEX' from sys.tables as t, sys.idxs as i where i.table_id = t.id and i.name not in (select name from sys.keys) and t.type in (0, 10, 20, 30) order by t.name, i.name
----

query TTT nosort
(SELECT t.name as name, tri.name as trigname, 'DEP_TRIGGER' from sys.tables as t, sys.triggers as tri where tri.table_id = t.id) UNION (SELECT t.name as name, tri.name as trigname, 'DEP_TRIGGER' from sys.triggers tri, sys.tables t, sys.dependencies dep where dep.id = t.id AND dep.depend_id =tri.id AND dep.depend_type = 8) order by name, trigname
----
schemas
system_update_schemas
DEP_TRIGGER

query TTT nosort
SELECT t.name, fk.name, 'DEP_FKEY' from sys.tables as t, sys.keys as k, sys.keys as fk where fk.rkey = k.id and k.table_id = t.id order by t.name, fk.name
----

query TTT nosort
SELECT t.name, f.name, 'DEP_FUNC' from sys.functions as f, sys.tables as t, sys.dependencies as dep where t.id = dep.id AND f.id = dep.depend_id AND dep.depend_type = 7 AND t.type in (0, 10, 20, 30) ORDER BY t.name, f.name
----
_columns
describe_columns
DEP_FUNC
_tables
describe_columns
DEP_FUNC
_tables
describe_table
DEP_FUNC
_tables
get_remote_table_expressions
DEP_FUNC
comments
describe_columns
DEP_FUNC
comments
describe_function
DEP_FUNC
comments
describe_table
DEP_FUNC
db_user_info
db_users
DEP_FUNC
dump_statements
dump_database
DEP_FUNC
function_languages
describe_function
DEP_FUNC
function_types
describe_function
DEP_FUNC
functions
describe_function
DEP_FUNC
remote_user_info
get_remote_table_expressions
DEP_FUNC
schemas
describe_columns
DEP_FUNC
schemas
describe_function
DEP_FUNC
schemas
describe_table
DEP_FUNC
schemas
get_remote_table_expressions
DEP_FUNC
spatial_ref_sys
getproj4
DEP_FUNC
table_partitions
get_merge_table_partition_expressions
DEP_FUNC
table_types
describe_table
DEP_FUNC

query TTT nosort
SELECT distinct c.name, v.name, 'DEP_VIEW' from sys.columns as c, sys.tables as v, sys.dependencies as dep where c.id = dep.id AND v.id = dep.depend_id AND dep.depend_type = 5 AND v.type in (1, 11, 21, 31) order by c.name, v.name
----
1845 values hashing to f9a2dad1816ec201e57ce394ef9b0abd

query TTT nosort
SELECT c.name, k.name, 'DEP_KEY' from sys.columns as c,  sys.objects as kc, sys.keys as k where kc."name" = c.name AND kc.id = k.id AND k.table_id = c.table_id AND k.rkey = -1 order by c.name, k.name
----
action_id
fkey_actions_action_id_pkey
DEP_KEY
dependency_type_id
dependency_types_dependency_type_id_pkey
DEP_KEY
dependency_type_name
dependency_types_dependency_type_name_unique
DEP_KEY
function_type_id
function_types_function_type_id_pkey
DEP_KEY
function_type_name
function_types_function_type_name_unique
DEP_KEY
id
comments_id_pkey
DEP_KEY
index_type_id
index_types_index_type_id_pkey
DEP_KEY
index_type_name
index_types_index_type_name_unique
DEP_KEY
key_type_id
key_types_key_type_id_pkey
DEP_KEY
key_type_name
key_types_key_type_name_unique
DEP_KEY
keyword
keywords_keyword_pkey
DEP_KEY
language_id
function_languages_language_id_pkey
DEP_KEY
language_name
function_languages_language_name_unique
DEP_KEY
privilege_code_id
privilege_codes_privilege_code_id_pkey
DEP_KEY
privilege_code_name
privilege_codes_privilege_code_name_unique
DEP_KEY
srid
spatial_ref_sys_srid_pkey
DEP_KEY
table_type_id
table_types_table_type_id_pkey
DEP_KEY
table_type_name
table_types_table_type_name_unique
DEP_KEY

query TTT nosort
SELECT c.name, i.name, 'DEP_INDEX' from sys.columns as c,  sys.objects as kc, sys.idxs as i where kc."name" = c.name AND kc.id = i.id AND c.table_id = i.table_id AND i.name not in (select name from sys.keys) order by c.name, i.name
----

query TTT nosort
SELECT c.name, f.name, 'DEP_FUNC' from sys.functions as f, sys.columns as c, sys.dependencies as dep where c.id = dep.id AND f.id = dep.depend_id AND dep.depend_type = 7 ORDER BY c.name, f.name
----
column_id
get_merge_table_partition_expressions
DEP_FUNC
default
describe_columns
DEP_FUNC
expression
get_merge_table_partition_expressions
DEP_FUNC
function_type_id
describe_function
DEP_FUNC
function_type_keyword
describe_function
DEP_FUNC
id
describe_columns
DEP_FUNC
id
describe_columns
DEP_FUNC
id
describe_columns
DEP_FUNC
id
describe_columns
DEP_FUNC
id
describe_function
DEP_FUNC
id
describe_function
DEP_FUNC
id
describe_function
DEP_FUNC
id
describe_table
DEP_FUNC
id
describe_table
DEP_FUNC
id
describe_table
DEP_FUNC
id
get_merge_table_partition_expressions
DEP_FUNC
id
get_merge_table_partition_expressions
DEP_FUNC
id
get_remote_table_expressions
DEP_FUNC
id
get_remote_table_expressions
DEP_FUNC
language
describe_function
DEP_FUNC
language_id
describe_function
DEP_FUNC
language_keyword
describe_function
DEP_FUNC
name
db_users
DEP_FUNC
name
describe_columns
DEP_FUNC
name
describe_columns
DEP_FUNC
name
describe_columns
DEP_FUNC
name
describe_function
DEP_FUNC
name
describe_function
DEP_FUNC
name
describe_table
DEP_FUNC
name
describe_table
DEP_FUNC
name
get_merge_table_partition_expressions
DEP_FUNC
name
get_remote_table_expressions
DEP_FUNC
name
get_remote_table_expressions
DEP_FUNC
null
describe_columns
DEP_FUNC
number
describe_columns
DEP_FUNC
o
dump_database
DEP_FUNC
o
dump_database
DEP_FUNC
o
dump_database
DEP_FUNC
password
get_remote_table_expressions
DEP_FUNC
proj4text
getproj4
DEP_FUNC
query
describe_table
DEP_FUNC
query
get_remote_table_expressions
DEP_FUNC
remark
describe_columns
DEP_FUNC
remark
describe_function
DEP_FUNC
remark
describe_table
DEP_FUNC
s
dump_database
DEP_FUNC
schema_id
describe_columns
DEP_FUNC
schema_id
describe_function
DEP_FUNC
schema_id
describe_table
DEP_FUNC
schema_id
get_remote_table_expressions
DEP_FUNC
srid
getproj4
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
stmt
dump_database
DEP_FUNC
table_id
describe_columns
DEP_FUNC
table_id
get_merge_table_partition_expressions
DEP_FUNC
table_id
get_remote_table_expressions
DEP_FUNC
table_type_id
describe_table
DEP_FUNC
table_type_name
describe_table
DEP_FUNC
type
describe_columns
DEP_FUNC
type
describe_function
DEP_FUNC
type
describe_table
DEP_FUNC
type
get_merge_table_partition_expressions
DEP_FUNC
type_digits
describe_columns
DEP_FUNC
type_scale
describe_columns
DEP_FUNC
username
get_remote_table_expressions
DEP_FUNC

query TTT nosort
SELECT c.name, tri.name, 'DEP_TRIGGER' from sys.columns as c, sys.objects as tri, sys.dependencies as dep where dep.id = c.id AND dep.depend_id =tri.id AND dep.depend_type = 8 order by c.name, tri.name
----

query TTT nosort
SELECT v.name, f.name, 'DEP_FUNC' from sys.functions as f, sys.tables as v, sys.dependencies as dep where v.id = dep.id AND f.id = dep.depend_id AND dep.depend_type = 7 AND v.type in (1, 11, 21, 31) ORDER BY v.name, f.name
----
columns
get_merge_table_partition_expressions
DEP_FUNC
dump_add_schemas_to_users
dump_database
DEP_FUNC
dump_column_defaults
dump_database
DEP_FUNC
dump_column_grants
dump_database
DEP_FUNC
dump_comments
dump_database
DEP_FUNC
dump_create_roles
dump_database
DEP_FUNC
dump_create_schemas
dump_database
DEP_FUNC
dump_create_users
dump_database
DEP_FUNC
dump_foreign_keys
dump_database
DEP_FUNC
dump_function_grants
dump_database
DEP_FUNC
dump_functions
dump_database
DEP_FUNC
dump_grant_user_privileges
dump_database
DEP_FUNC
dump_indices
dump_database
DEP_FUNC
dump_partition_tables
dump_database
DEP_FUNC
dump_sequences
dump_database
DEP_FUNC
dump_start_sequences
dump_database
DEP_FUNC
dump_table_constraint_type
dump_database
DEP_FUNC
dump_table_grants
dump_database
DEP_FUNC
dump_tables
dump_database
DEP_FUNC
dump_triggers
dump_database
DEP_FUNC
dump_user_defined_types
dump_database
DEP_FUNC

query TTT nosort
SELECT v.name, i.name, 'DEP_INDEX' from sys.tables as v, sys.idxs as i where i.table_id = v.id and i.name not in (select name from sys.keys) and v.type in (1, 11, 21, 31) order by v.name, i.name
----

query TTT nosort
SELECT v.name, tri.name, 'DEP_TRIGGER' from sys.tables as v, sys.objects as tri, sys.dependencies as dep where dep.id = v.id AND dep.depend_id =tri.id AND dep.depend_type = 8 AND v.type in (1, 11, 21, 31) order by v.name, tri.name
----

query TTT nosort
SELECT f1.name, f2.name, 'DEP_FUNC' from sys.functions as f1, sys.functions as f2, sys.dependencies as dep where f1.id = dep.id AND f2.id = dep.depend_id AND dep.depend_type = 7 ORDER BY f1.name, f2.name
----
decypher
get_remote_table_expressions
DEP_FUNC
describe_type
describe_columns
DEP_FUNC
dq
get_merge_table_partition_expressions
DEP_FUNC
dq
prepare_esc
DEP_FUNC
dq
schema_guard
DEP_FUNC
dump_table_data
dump_database
DEP_FUNC
getproj4
st_transform
DEP_FUNC
internaltransform
st_transform
DEP_FUNC
ms_trunc
ms_round
DEP_FUNC
regexp_replace
regexp_replace
DEP_FUNC
sq
get_remote_table_expressions
DEP_FUNC
sql_datatype
describe_type
DEP_FUNC
st_geometryn
st_patchn
DEP_FUNC
st_numgeometries
st_numpatches
DEP_FUNC
st_srid
st_transform
DEP_FUNC

query TTT nosort
SELECT f.name, tri.name, 'DEP_TRIGGER' from sys.functions as f, sys.objects as tri, sys.dependencies as dep where dep.id = f.id AND dep.depend_id =tri.id AND dep.depend_type = 8 order by f.name, tri.name
----

query TTT nosort
SELECT k.name, fk.name, 'DEP_FKEY' from sys.keys as k, sys.keys as fk where fk.rkey = k.id order by k.name, fk.name
----

