stdout of test 'simple_plans` in directory 'sql/test/miscellaneous` itself:


# 11:57:38 >  
# 11:57:38 >  "mclient" "-lsql" "-ftest" "-tnone" "-Eutf-8" "-i" "-e" "--host=/var/tmp/mtest-205942" "--port=30914"
# 11:57:38 >  

#start transaction;
#create table myy (col1 int, col2 int);
#insert into myy values (1, 1), (2, 0), (3,3), (4,2);
[ 4	]
#select distinct col1 + col2 from myy order by col1 + col2;
% sys.%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 2	]
[ 6	]
#plan select distinct col1 + col2 from myy order by col1 + col2;
% .plan # table_name
% rel # name
% clob # type
% 110 # length
project (
| group by (
| | project (
| | | table(sys.myy) [ "myy"."col1", "myy"."col2" ] COUNT 
| | ) [ sys.sql_add(bigint["myy"."col1"] as "myy"."col1", bigint["myy"."col2"] as "myy"."col2") as "%2"."%2" ]
| ) [ "%2"."%2" ] [ "%2"."%2" ]
) [ "%2"."%2" ] [ "%2"."%2" ASC ]
#create table myx (x uuid, y uuid);
#plan select * from myx where x in ('1aea00e5db6e0810b554fde31d961965') or y = '1aea00e5db6e0810b554fde31d961965';
% .plan # table_name
% rel # name
% clob # type
% 138 # length
project (
| select (
| | table(sys.myx) [ "myx"."x", "myx"."y" ] COUNT 
| ) [ ("myx"."x" = uuid[char(32) "1aea00e5db6e0810b554fde31d961965"]) or ("myx"."y" = uuid[char(32) "1aea00e5db6e0810b554fde31d961965"]) ]
) [ "myx"."x", "myx"."y" ]
#plan select * from myx where x in ('1aea00e5db6e0810b554fde31d961965') or y is null;
% .plan # table_name
% rel # name
% clob # type
% 102 # length
project (
| select (
| | table(sys.myx) [ "myx"."x", "myx"."y" ] COUNT 
| ) [ ("myx"."x" = uuid[char(32) "1aea00e5db6e0810b554fde31d961965"]) or ("myx"."y" * = uuid "NULL") ]
) [ "myx"."x", "myx"."y" ]
#plan select * from myx where x in ('1aea00e5db6e0810b554fde31d961965', '1aea00e5db6e0810b554fde31d961966') or y = '1aea00e5db6e0810b554fde31d961967';
% .plan # table_name
% rel # name
% clob # type
% 192 # length
project (
| select (
| | table(sys.myx) [ "myx"."x", "myx"."y" ] COUNT 
| ) [ ("myx"."x" in (uuid[char(32) "1aea00e5db6e0810b554fde31d961965"], uuid[char(32) "1aea00e5db6e0810b554fde31d961966"])) or ("myx"."y" = uuid[char(32) "1aea00e5db6e0810b554fde31d961967"]) ]
) [ "myx"."x", "myx"."y" ]
#insert into myx values ('1aea00e5db6e0810b554fde31d961965', '1aea00e5db6e0810b554fde31d961967');
[ 1	]
#select * from myx where x in ('1aea00e5db6e0810b554fde31d961966') or y is not null;
% sys.myx,	sys.myx # table_name
% x,	y # name
% uuid,	uuid # type
% 36,	36 # length
[ 1aea00e5-db6e-0810-b554-fde31d961965,	1aea00e5-db6e-0810-b554-fde31d961967	]
#select * from myx where x in ('1aea00e5db6e0810b554fde31d961966') or y is null;
% sys.myx,	sys.myx # table_name
% x,	y # name
% uuid,	uuid # type
% 36,	36 # length
#CREATE TABLE tab0(col0 INTEGER, col1 INTEGER, col2 INTEGER);
#INSERT INTO tab0 VALUES (97,1,99), (15,81,47),(87,21,10);
[ 3	]
#plan select 1 from tab0 where col1 = 1 or col1 = 81;
% .plan # table_name
% rel # name
% clob # type
% 44 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1" ] COUNT 
| ) [ "tab0"."col1" in (int "1", int "81") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where col1 = 1 or col1 = 81 or col1 = 100;
% .plan # table_name
% rel # name
% clob # type
% 55 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1" ] COUNT 
| ) [ "tab0"."col1" in (int "1", int "81", int "100") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where (col1 = 1 or col1 = 81) or (col2 < 0); 
% .plan # table_name
% rel # name
% clob # type
% 75 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1", "tab0"."col2" ] COUNT 
| ) [ ("tab0"."col1" in (int "1", int "81")) or ("tab0"."col2" < int "0") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where ((col1 = 1 or col1 = 81) or col1 = 100) or (col2 > 10);
% .plan # table_name
% rel # name
% clob # type
% 87 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1", "tab0"."col2" ] COUNT 
| ) [ ("tab0"."col1" in (int "1", int "81", int "100")) or ("tab0"."col2" > int "10") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where ((col1 = 1 or col1 = 81) or col2 = 100) or (col1 = 100); --the rightmost comparison to col1 cannot be merged to the other 2
% .plan # table_name
% rel # name
% clob # type
% 110 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1", "tab0"."col2" ] COUNT 
| ) [ (("tab0"."col1" in (int "1", int "81")) or ("tab0"."col2" = int "100")) or ("tab0"."col1" = int "100") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where col1 <> 1 and col1 <> 81;
% .plan # table_name
% rel # name
% clob # type
% 47 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1" ] COUNT 
| ) [ "tab0"."col1" notin (int "1", int "81") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where col1 <> 1 and col1 <> 81 and (col2 < 0); 
% .plan # table_name
% rel # name
% clob # type
% 72 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1", "tab0"."col2" ] COUNT 
| ) [ "tab0"."col2" < int "0", "tab0"."col1" notin (int "1", int "81") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where (col1 <> 1 and col1 <> 81) or (col2 < 0); 
% .plan # table_name
% rel # name
% clob # type
% 78 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1", "tab0"."col2" ] COUNT 
| ) [ ("tab0"."col1" notin (int "1", int "81")) or ("tab0"."col2" < int "0") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where ((col1 <> 1 and col1 <> 81) and col1 <> 100) or (col2 > 10);
% .plan # table_name
% rel # name
% clob # type
% 90 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1", "tab0"."col2" ] COUNT 
| ) [ ("tab0"."col1" notin (int "1", int "81", int "100")) or ("tab0"."col2" > int "10") ]
) [ tinyint "1" ]
#plan select 1 from tab0 where ((col1 <> 1 and col1 <> 81) or col2 = 100) and (col1 <> 100); --the rightmost comparison to col1 cannot be merged to the other 2
% .plan # table_name
% rel # name
% clob # type
% 108 # length
project (
| select (
| | table(sys.tab0) [ "tab0"."col1", "tab0"."col2" ] COUNT 
| ) [ "tab0"."col1" != int "100", ("tab0"."col1" notin (int "1", int "81")) or ("tab0"."col2" = int "100") ]
) [ tinyint "1" ]
#rollback;

# 11:57:38 >  
# 11:57:38 >  "Done."
# 11:57:38 >  

