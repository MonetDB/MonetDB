statement error
declare table x (a int)

statement error
drop table x

statement ok
CREATE OR REPLACE FUNCTION testtruncate() RETURNS INT
BEGIN
    DECLARE TABLE z (a int);
    INSERT INTO z VALUES (1);
    UPDATE z SET a = 2 WHERE a = 1;
    TRUNCATE z;
    INSERT INTO z VALUES (3);
    DELETE FROM z WHERE a = 3;
    RETURN SELECT a FROM z;
END

statement ok
CREATE OR REPLACE FUNCTION testtruncate() RETURNS INT
BEGIN
    DECLARE TABLE w (c int);
    INSERT INTO w VALUES (1);
    UPDATE w SET c = 2 WHERE c = 1;
    TRUNCATE w;
    INSERT INTO w VALUES (3);
    DELETE FROM w WHERE c = 3;
    RETURN SELECT c FROM w;
END

query I rowsort
SELECT testtruncate()
----
NULL

query I rowsort
SELECT testtruncate()
----
NULL

statement ok
DROP FUNCTION testtruncate

