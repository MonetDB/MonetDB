query TIII rowsort
SELECT s.name AS schema_nm, s.system AS is_system_schema
, (SELECT CAST(COUNT(*) as int) FROM sys.functions f WHERE f.schema_id = s.id AND f.type <> 2 AND f.id NOT IN (SELECT sf.id as function_id FROM sys.functions sf WHERE sf.system)) AS "# user defined functions"
, (SELECT CAST(COUNT(*) as int) FROM sys.functions f WHERE f.schema_id = s.id AND f.type = 2 AND f.id NOT IN (SELECT sf.id as function_id FROM sys.functions sf WHERE sf.system)) AS "# user defined procedures"
 FROM sys.schemas AS s
WHERE s.name IN ('json', 'profiler', 'sys')
----
12 values hashing to 6727addaaf6d5fc792d7a107a1d2990a

query TIII rowsort
SELECT s.name AS schema_nm, s.system AS is_system_schema
, (SELECT CAST(COUNT(*) as int) FROM sys.functions f WHERE f.schema_id = s.id AND f.type <> 2 AND NOT f.system) AS "# user defined functions"
, (SELECT CAST(COUNT(*) as int) FROM sys.functions f WHERE f.schema_id = s.id AND f.type = 2 AND NOT f.system) AS "# user defined procedures"
 FROM sys.schemas AS s
WHERE s.name IN ('json', 'profiler', 'sys')
----
12 values hashing to 6727addaaf6d5fc792d7a107a1d2990a

