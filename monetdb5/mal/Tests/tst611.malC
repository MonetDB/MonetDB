# initialization of BATs on the stack
# caused a problem when executed in interactve mode
function foo();
RKA:bat[:int]:= bat.new(:int,1048576);
bat.append(RKA,360:int);
io.print(RKA);

#the next one should fail
bat.setWriteMode(RKB);
end foo;
