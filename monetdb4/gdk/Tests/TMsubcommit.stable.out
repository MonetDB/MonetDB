stdout of test 'TMsubcommit` in directory 'src/gdk` itself:


# 15:11:50 >  
# 15:11:50 >   Mserver "--config=/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/conf/MonetDB.conf" --debug=10 --set "monet_mod_path=/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/src/modules/plain/.libs:/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/src/modules/plain:/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/src/modules/contrib/.libs:/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/src/modules/contrib:/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/src/modules/calibrator/.libs:/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/src/modules/calibrator:/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/src/mapi/.libs:/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/src/mapi:/ufs/sjoerd/src/MonetDB/devel/MonetDB4/scripts/tools" --set "gdk_dbfarm=/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/dbfarm" --set "sql_logdir=/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/sql_logs" --set "xquery_logdir=/ufs/sjoerd/src/MonetDB/devel/MonetDB4/x86_64-unknown-linux-gnu/xquery_logs" --set mapi_open=true --set xrpc_open=true --set mapi_port=38941 --set xrpc_port=40407 --set monet_prompt= --trace  --dbname=mTests_src_gdk  
# 15:11:50 >  





# MonetDB Server v4.25.0
# based on GDK   v1.25.0
# Copyright (c) 1993-2008, CWI. All rights reserved.
# Compiled for x86_64-unknown-linux-gnu/64bit with 64bit OIDs; dynamically linked.
# Visit http://monetdb.cwi.nl/ for further information.
debugmask(19);

bat(int,int).insert(1,2).rename("b").persists(true);
commit();
#01 HEAPsave(32.head,storage=0,free=4,size=1024)
#01 GDKsave: name=32, ext=head, mode 0
#01 write(fd 5, buf 0x72a38c, size 0) = 4
#01 HEAPsave(32.tail,storage=0,free=4,size=1024)
#01 GDKsave: name=32, ext=tail, mode 0
#01 write(fd 5, buf 0x72a7ac, size 0) = 4
#01 BBPdir: writing BBP.dir (28 bats).
#01 BBPdir start oid=1011842@0 #01 
26 64 b tmpr_32 32 3414 0 1 0 0 1 256 0 0 0 0 int 4 0 1345 0 0 0 0 1011840 4 1024 0 int 4 0 1345 0 0 0 0 1011841 4 1024 0
#01 BBPdir end
#01 BBPsync: rename bat/BACKUP bat/DELETE_ME = 0
#01 GDKremovedir(bat/DELETE_ME)
#01 unlink bat/DELETE_ME/BBP.dir = 0
#01 rmdir bat/DELETE_ME = 0
#01 mkdir bat/BACKUP = 0
#01 move bat/BBP.dir bat/BACKUP/BBP.dir = 0 (0ms)

bat(int,int).insert(3,4).rename("a").persists(true);
subcommit(bat(int,str).insert(0,"a"));
#01 mkdir bat/BACKUP/SUBCOMMIT = 0
#01 move bat/BACKUP/BBP.dir bat/BACKUP/SUBCOMMIT/BBP.dir = 0 (0ms)
#01 HEAPsave(34.head,storage=0,free=4,size=1024)
#01 GDKsave: name=34, ext=head, mode 0
#01 write(fd 5, buf 0x66159c, size 0) = 4
#01 HEAPsave(34.tail,storage=0,free=4,size=1024)
#01 GDKsave: name=34, ext=tail, mode 0
#01 write(fd 5, buf 0x6619bc, size 0) = 4
#01 BBPdir: writing BBP.dir (30 bats).
#01 BBPdir start oid=1011848@0 #01 
26 64 b tmpr_32 32 3414 0 1 0 0 1 256 0 0 0 0 int 4 0 1345 0 0 0 0 1011840 4 1024 0 int 4 0 1345 0 0 0 0 1011841 4 1024 0
28 64 a tmpr_34 34 3442 0 1 0 0 1 256 0 0 0 0 int 4 0 1345 0 0 0 0 1011846 4 1024 0 int 4 0 1345 0 0 0 0 1011847 4 1024 0
#01 BBPdir end
#01 BBPsync: rename bat/BACKUP/SUBCOMMIT bat/DELETE_ME = 0
#01 GDKremovedir(bat/DELETE_ME)
#01 unlink bat/DELETE_ME/BBP.dir = 0
#01 rmdir bat/DELETE_ME = 0
#01 move bat/BBP.dir bat/BACKUP/BBP.dir = 0 (0ms)

{
var tmp := bat(int,str).insert(0,"a");
bat("a").persists(false);
subcommit(tmp);
}
#01 mkdir bat/BACKUP/SUBCOMMIT = 0
#01 move bat/BACKUP/BBP.dir bat/BACKUP/SUBCOMMIT/BBP.dir = 0 (0ms)
#01 BBPdir: writing BBP.dir (30 bats).
#01 BBPdir start oid=1011848@0 #01 
26 64 b tmpr_32 32 3414 0 1 0 0 1 256 0 0 0 0 int 4 0 1345 0 0 0 0 1011840 4 1024 0 int 4 0 1345 0 0 0 0 1011841 4 1024 0
#01 BBPdir end
#01 BBPsync: rename bat/BACKUP/SUBCOMMIT bat/DELETE_ME = 0
#01 GDKremovedir(bat/DELETE_ME)
#01 unlink bat/DELETE_ME/BBP.dir = 0
#01 rmdir bat/DELETE_ME = 0
#01 move bat/BBP.dir bat/BACKUP/BBP.dir = 0 (0ms)
#01 unlink bat/34.head = 0
#01 unlink bat/34.tail = 0

bat("b").persists(false);
commit();
#01 #BBPdir: writing BBP.dir (30 bats).
#01 #BBPdir start oid=1003022@0 #01 
#01 #BBPdir end
#01 #BBPsync: rename bat/BACKUP bat/DELETE_ME = 0
#01 #GDKremovedir(bat/DELETE_ME)
#01 #unlink bat/DELETE_ME/BBP.dir = 0
#01 #rmdir bat/DELETE_ME = 0
#01 #mkdir bat/BACKUP = 0
#01 #move bat/BBP.dir bat/BACKUP/BBP.dir = 0 (0ms)
#01 #BATdelete 65
#01 #unlink bat/65.desc = 0
#01 #unlink bat/65.head = 0
#01 #unlink bat/65.tail = 0
quit();

# 12:47:18 >  
# 12:47:18 >  Done.
# 12:47:18 >  

