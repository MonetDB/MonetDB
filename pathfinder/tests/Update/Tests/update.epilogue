module("pathfinder");
var docname := "testdoc.xml";
var int_values := bat(lng,void).key(true).reverse().seqbase(0@0);
var dbl_values := bat(dbl,void).key(true).reverse().seqbase(0@0);
var str_values := bat(str,void).key(true).reverse().seqbase(0@0).append("");
var ws := ws_create();
ws_doc(ws, bat(void,str,1).append(docname));
var item := docname.leftjoin(reverse(ws.fetch(DOCID_NAME)));
var kind := set_kind(item.leftjoin(reverse(ws.fetch(CONT_DOCID))).tmark(0@0), ELEM);
item := new(void,oid).seqbase(0@0).append(0@0);
var iter := new(void,oid).seqbase(0@0).append(1@0);
print_result("xml",ws,tunique(iter),iter,item,constant2bat(kind),int_values,dbl_values,str_values);
ws_destroy(int(ws));
