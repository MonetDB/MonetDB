# the generator optimizer
# The flow graph becomes a little more complex 
mdb.list();
	io.print("start");
	b:bat[:oid,:int]:= pbm.generator("Sales2005");
	c:bat[:oid,:int]:= pbm.generator("Sales2005");
	cr:= bat.reverse(c);
	t:= algebra.select(b,0,3);
	s:= algebra.join(t,cr);
	cnt:= aggr.count(s);
	io.print(cnt);
	io.print("finished");
optimizer.generators();

