stdout of test 'tst4800` in directory 'src/optimizer` itself:


# 23:53:00 >  
# 23:53:00 >  Mtimeout -timeout 60 Mserver "--config=/ufs/mk/monet5/src/mal/Tests/All.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5/Linux/lib/MonetDB5:/ufs/mk/opensource/MonetDB/Linux/lib/MonetDB" --set "gdk_dbfarm=/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/log" --set mapi_port=39352 --set sql_port=45171 --set xquery_port=52900 --set monet_prompt= --trace --dbname=mTests_src_optimizer  tst4800.mal </dev/null
# 23:53:00 >  

# Monet Database Server V4.99.19
# Copyright (c) 1993-2005, CWI. All rights reserved.
# Compiled for x86_64-redhat-linux-gnu/64bit with 32bit OIDs; dynamically linked.
# config:/ufs/mk/monet5/src/mal/Tests/All.conf
# dbfarm:/ufs/mk/opensource/MonetDB/Linux/var/MonetDB5/dbfarm
# dbname:mTests_src_optimizer
# Visit http://monetdb.cwi.nl/ for further information.
## testing the optimization of the pocket calculator
#function f3():void;
#		t1:bat[:void,:int] := bbp.bind("A_bat");
#        t3 := array.grid(4096,64,1,0);
#        t2 := array.grid(64,64,64,0);
#        t4:=batcalc.*(64,t3);
#        t5:= batcalc.+(t2,t4);
#        t6 := batcalc.oid(t5);
#        t7 := algebra.join(t6,t1);
#        t8:bat[:void,:int] := bbp.bind("B_bat");
#        t9 := array.grid(4096,64,1,0);
#        t10 := array.grid(1,64,4096,0);
#        t11 := batcalc.*(64,t10);
#        t12 := batcalc.+(t9,t11);
#        t13 := batcalc.oid(t12);
#        t14 := algebra.join(t13,t8);
#        t15 := batcalc.*(t7,t14);
#        t16 := array.grid(64,64,64,0);
#        t17 := array.grid(1,64,4096,0);
#        t18 := batcalc.*(64,t17);
#        t19 := batcalc.+(t16,t18);
#        t20 := batcalc.oid(t19);
#        t21 := array.grid(1,4096,1,0);
#        t22 := aggrX3.sum(t15,t20,t21);
#        top := t22;
#        bat_0 := array.grid(64,64,1,0);
#        bat_1 := array.grid(1,64,64,0);
#		io.table(bat_0,bat_1,top);
##       io.table(bat_0,bat_1,top);
#end f3;
function user.f3():void;	# 0  (f3:void)
    t1:bat[:oid,:int]  := bbp.bind("A_bat");	# 1 CMDbbpbind (t1:bat[:oid,:int])<-(_2:str)
    t3 := array.grid(4096,64,1,0);	# 2 ARRAYgrid_int (t3:bat[:oid,:int])<-(_4:int)(_5:int)(_6:int)(_7:int)
    t2 := array.grid(64,64,64,0);	# 3 ARRAYgrid_int (t2:bat[:oid,:int])<-(_5:int)(_5:int)(_5:int)(_7:int)
    t4 := batcalc.*(64,t3);	# 4 CMDcstMULbat_int_int_int (t4:bat[:oid,:int])<-(_5:int)(t3:bat[:oid,:int])
    t5 := batcalc.+(t2,t4);	# 5 CMDbatADD_int_int_int (t5:bat[:oid,:int])<-(t2:bat[:oid,:int])(t4:bat[:oid,:int])
    t6 := batcalc.oid(t5);	# 6 CMDconvert_int_oid (t6:bat[:oid,:oid])<-(t5:bat[:oid,:int])
    t7 := algebra.join(t6,t1);	# 7 ALGjoin (t7:bat[:oid,:int])<-(t6:bat[:oid,:oid])(t1:bat[:oid,:int])
    t8:bat[:oid,:int]  := bbp.bind("B_bat");	# 8 CMDbbpbind (t8:bat[:oid,:int])<-(_14:str)
    t9 := array.grid(4096,64,1,0);	# 9 ARRAYgrid_int (t9:bat[:oid,:int])<-(_4:int)(_5:int)(_6:int)(_7:int)
    t10 := array.grid(1,64,4096,0);	# 10 ARRAYgrid_int (t10:bat[:oid,:int])<-(_6:int)(_5:int)(_4:int)(_7:int)
    t11 := batcalc.*(64,t10);	# 11 CMDcstMULbat_int_int_int (t11:bat[:oid,:int])<-(_5:int)(t10:bat[:oid,:int])
    t12 := batcalc.+(t9,t11);	# 12 CMDbatADD_int_int_int (t12:bat[:oid,:int])<-(t9:bat[:oid,:int])(t11:bat[:oid,:int])
    t13 := batcalc.oid(t12);	# 13 CMDconvert_int_oid (t13:bat[:oid,:oid])<-(t12:bat[:oid,:int])
    t14 := algebra.join(t13,t8);	# 14 ALGjoin (t14:bat[:oid,:int])<-(t13:bat[:oid,:oid])(t8:bat[:oid,:int])
    t15 := batcalc.*(t7,t14);	# 15 CMDbatMUL_int_int_int (t15:bat[:oid,:int])<-(t7:bat[:oid,:int])(t14:bat[:oid,:int])
    t16 := array.grid(64,64,64,0);	# 16 ARRAYgrid_int (t16:bat[:oid,:int])<-(_5:int)(_5:int)(_5:int)(_7:int)
    t17 := array.grid(1,64,4096,0);	# 17 ARRAYgrid_int (t17:bat[:oid,:int])<-(_6:int)(_5:int)(_4:int)(_7:int)
    t18 := batcalc.*(64,t17);	# 18 CMDcstMULbat_int_int_int (t18:bat[:oid,:int])<-(_5:int)(t17:bat[:oid,:int])
    t19 := batcalc.+(t16,t18);	# 19 CMDbatADD_int_int_int (t19:bat[:oid,:int])<-(t16:bat[:oid,:int])(t18:bat[:oid,:int])
    t20 := batcalc.oid(t19);	# 20 CMDconvert_int_oid (t20:bat[:oid,:oid])<-(t19:bat[:oid,:int])
    t21 := array.grid(1,4096,1,0);	# 21 ARRAYgrid_int (t21:bat[:oid,:int])<-(_6:int)(_4:int)(_6:int)(_7:int)
    t22 := aggr.sum(t15,t20,t21);	# 22 AX3aggrX3_sum3_int_lng (t22:bat[:oid,:lng])<-(t15:bat[:oid,:int])(t20:bat[:oid,:oid])(t21:bat[:oid,:int])
    top := t22;	# 23  (top:bat[:oid,:lng])<-(t22:bat[:oid,:lng])
    bat_0 := array.grid(64,64,1,0);	# 24 ARRAYgrid_int (bat_0:bat[:oid,:int])<-(_5:int)(_5:int)(_6:int)(_7:int)
    bat_1 := array.grid(1,64,64,0);	# 25 ARRAYgrid_int (bat_1:bat[:oid,:int])<-(_6:int)(_5:int)(_5:int)(_7:int)
    io.table(bat_0,bat_1,top);	# 26 IOttable (_32:void)<-(bat_0:bat[:oid,:int])(bat_1:bat[:oid,:int])(top:bat[:oid,:lng])
#       io.table(bat_0,bat_1,top); 	# 27  (_33:str)
end f3;	# 28  
#	optimizer.expressionAccumulation("user","f3");
#	mdb.list("user","f3");
#
function user.main():void;	# 0  (main:void)
# testing the optimization of the pocket calculator 	# 1  (_1:str)
    mdb.list("user","f3");	# 2 MDBlist3 (_5:void)<-(_3:str)(_4:str)
end main;	# 3  
function user.f3():void;
    t1:bat[:oid,:int]  := bbp.bind("A_bat");
    t3 := array.grid(4096,64,1,0);
    t2 := array.grid(64,64,64,0);
    t4 := algebra.reuse(t3);
    t4 := batcalc.*(t4,64,t3);
    t4 := batcalc.+(t4,t2,t4);
    t6 := batcalc.oid(t4);
    t7 := algebra.join(t6,t1);
    t8:bat[:oid,:int]  := bbp.bind("B_bat");
    t9 := array.grid(4096,64,1,0);
    t10 := array.grid(1,64,4096,0);
    t11 := algebra.reuse(t10);
    t11 := batcalc.*(t11,64,t10);
    t11 := batcalc.+(t11,t9,t11);
    t13 := batcalc.oid(t11);
    t14 := algebra.join(t13,t8);
    t15 := algebra.reuse(t7);
    t15 := batcalc.*(t15,t7,t14);
    t16 := array.grid(64,64,64,0);
    t17 := array.grid(1,64,4096,0);
    t18 := algebra.reuse(t17);
    t18 := batcalc.*(t18,64,t17);
    t18 := batcalc.+(t18,t16,t18);
    t20 := batcalc.oid(t18);
    t21 := array.grid(1,4096,1,0);
    t22 := aggr.sum(t15,t20,t21);
    top := t22;
    bat_0 := array.grid(64,64,1,0);
    bat_1 := array.grid(1,64,64,0);
    io.table(bat_0,bat_1,top);
end f3;

# 23:53:00 >  
# 23:53:00 >  Done.
# 23:53:00 >  

