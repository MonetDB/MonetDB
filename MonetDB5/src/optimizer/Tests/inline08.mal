
# remapping inline functions
function foo{inline}(a:str):str;
	a:= str.replace(a,"A","");
	a:= str.replace(a,"E","");
	a:= str.replace(a,"I","");
	a:= str.replace(a,"O","");
	a:= str.replace(a,"U","");
	a:= str.replace(a," ","");
	return foo:=a;
end foo;

function bar{inline}(a:str,b:str):str;
	sa:= user.foo(a);
	sb:= user.foo(b);
	c:= sa+sb;
	return bar:=c;
end bar;

function qry();
	b:= bat.new(:oid,:str);
	bat.insert(b,0@0,"1");
	z:bat[:oid,:str]:= mal.multiplex("user","bar",b,b);
end qry;

	optimizer.inline("user","qry");
	optimizer.remap("user","qry");
	mdb.list("user","qry");
