# a test checking BAT reference counting under various situations
	b:= new(:int,:str);
	i:= getRefCount(b);
	printf("refcount =%d\n",i);
	j:= getLRefCount(b);
	printf("lrefcount =%d\n",j);

	insert(b,1,"bat B");
	print(b);
	i:= getRefCount(b);
	printf("second refcount =%d\n",i);
	j:= getLRefCount(b);
	printf("lrefcount =%d\n",j);

	# referenceing through mirroring
	b5:= reverse(b);
	i:= getRefCount(b);
	printf("after reverse assignment refcount =%d\n",i);
	j:= getLRefCount(b);
	printf("lrefcount =%d\n",j);

