stdout of test 'tst1201` in directory 'src/mal` itself:


# 23:31:29 >  
# 23:31:29 >  Mtimeout -timeout 60 mserver5 "--config=/ufs/mk/monet5/Linux/etc/monetdb5.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5//Linux/lib/MonetDB5:/ufs/mk/monet5//Linux/lib/MonetDB5/lib:/ufs/mk/monet5//Linux/lib/MonetDB5/bin" --set "gdk_dbfarm=/ufs/mk/monet5//Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/sql_logs" --set "xquery_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/xquery_logs" --set mapi_port=35239 --set xrpc_port=40860 --set monet_prompt= --trace --dbname=mTests_src_mal  tst1201.mal
# 23:31:29 >  

# MonetDB Server v5.0.0_beta2_1
# Copyright (c) 1993-2007 CWI, all rights reserved
# Compiled for x86_64-redhat-linux-gnu/64bit with 64bit OIDs dynamically linked
# dbname:mTests_src_mal
# Visit http://monetdb.cwi.nl/ for further information
## Mil compiler Version 1.0)
## Copyright (c) 1993-2001, CWI. All rights reserved.
#
## Predefined code segment
##
###line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
##module(monettime,alarm);
##
##
##
#lzone:= mtime.timezone("GMT+1");
#mtime.timezone_local(lzone);
###line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create rules
#	rule_jan:= mtime.rule("1st MON from start of JAN@01:15");
##var rule_jan := mtime.rule("1st MON from start of JAN@01:15");
#	rule_mar:= mtime.rule("first WEDNE on or after march 10@01:15");
##var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");
#	rule_apr:= mtime.rule("last THU on or before aPr 1@01:15");
##var rule_apr := mtime.rule("last THU on or before aPr 1@01:15");
#	rule_may:= mtime.rule("MAY 26@01:15");
##var rule_may := mtime.rule("MAY 26@01:15");
#	rule_jun:= mtime.rule("2nd TUE from end of june@01:15");
##var rule_jun := mtime.rule("2nd TUE from end of june@01:15");
#	rule_jul:= mtime.rule(7,1,1,75);
##var rule_jul := mtime.rule(7,1,1,75);
#	rule_aug:= mtime.rule(8,-1,1,75);
##var rule_aug := mtime.rule(8,-1,1,75);
#	rule_sep:= mtime.rule(9,-10,3,75);
##var rule_sep := mtime.rule(9,-10,3,75);
#	rule_oct:= mtime.rule(10,31,0,75);
##var rule_oct := mtime.rule(10,31,0,75);
#	rule_nov:= mtime.rule(11,-10,-4,75);
##var rule_nov := mtime.rule(11,-10,-4,75);
### nil rules
#	rule_dec:= mtime.rule(12,-31,0,75);
##var rule_dec := mtime.rule(12,-31,0,75);
#	rule_feb:= mtime.rule("first fRiDaY on or after february 30@01:15");
##var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");
## 
#	rule_bat:= bat.new(:str,:zrule,10);
##var rule_bat := bat.new(str,rule,10);
#	bat.insert(rule_bat,"jan",rule_jan);
#	bat.insert(rule_bat,"feb",rule_feb);
#	bat.insert(rule_bat,"mar",rule_mar);
#	bat.insert(rule_bat,"apr",rule_apr);
##rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr);
#	bat.insert(rule_bat,"may",rule_may);
#	bat.insert(rule_bat,"jun",rule_jun);
#	bat.insert(rule_bat,"jul",rule_jul);
#	bat.insert(rule_bat,"aug",rule_aug);
##rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug);
#	bat.insert(rule_bat,"sep",rule_sep);
#	bat.insert(rule_bat,"oct",rule_oct);
#	bat.insert(rule_bat,"nov",rule_nov);
#	bat.insert(rule_bat,"dec",rule_dec);
##rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec);
##
### test the operations on rules
#	ma_a := bat.setColumn(rule_bat,"rule");
##io.print(rule_bat.bat.setColumn("rule"),
#	na_a:bat[:str,:int] := mal.multiplex("mtime","month",rule_bat);
#	oa_a := bat.setColumn(na_a,"month");
##      [month](rule_bat).bat.setColumn("month"),
#	pa_a:bat[:str,:int] := mal.multiplex("mtime","weekday",rule_bat);
#	qa_a := bat.setColumn(pa_a,"weekday");
##      [weekday](rule_bat).bat.setColumn("weekday"),
#	ra_a:bat[:str,:int] := mal.multiplex("mtime","day",rule_bat);
#	sa_a := bat.setColumn(ra_a,"day");
##      [day](rule_bat).bat.setColumn("day"),
#	ta_a:bat[:str,:int] := mal.multiplex("mtime","minutes",rule_bat);
#	ua_a := bat.setColumn(ta_a,"minutes");
#io.print("rule_bat,na_a,pa_a,ra_a,ta_a");
#	va_a := io.print(rule_bat,na_a,pa_a,ra_a,ta_a);
##      [minutes](rule_bat).bat.setColumn("minutes"));
##
#	bat.setColumn(rule_bat,"rule");
##io.print(rule_bat.bat.setColumn("rule"),
#	xa_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,2001);
#	ya_a := bat.setColumn(xa_a,"2001");
##      [compute](rule_bat, 2001).bat.setColumn("2001"),
#	ab_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,2001);
#	bb_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",ab_a);
#	cb_a:bat[:str,:str] := mal.multiplex("mtime","dayname",bb_a);
#	bat.setColumn(cb_a,"2001");
##      [dayname]([dayofweek]([compute](rule_bat, 2001))).bat.setColumn("2001"),
#	eb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1999);
#	bat.setColumn(eb_a,"1999");
##      [compute](rule_bat, 1999).bat.setColumn("1999"),
#	gb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1999);
#	hb_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",gb_a);
#	ib_a:bat[:str,:str] := mal.multiplex("mtime","dayname",hb_a);
#	bat.setColumn(ib_a,"1999");
##      [dayname]([dayofweek]([compute](rule_bat, 1999))).bat.setColumn("1999"),
#	kb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1992);
#	bat.setColumn(kb_a,"1992");
##      [compute](rule_bat, 1992).bat.setColumn("1992"),
#	mb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1992);
#	nb_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",mb_a);
#	ob_a:bat[:str,:str] := mal.multiplex("mtime","dayname",nb_a);
#	bat.setColumn(ob_a,"1992");
#io.print("rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a");
#	qb_a := io.print(rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a);
##      [dayname]([dayofweek]([compute](rule_bat, 1992))).bat.setColumn("1992"));
##
#	rb_a := bat.setColumn(rule_bat,"rule");
##io.print(rule_bat.bat.setColumn("rule"),
#	sb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1572);
#	tb_a := bat.setColumn(sb_a,"1572");
##      [compute](rule_bat, 1572).bat.setColumn("1572"),
#	ub_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1572);
#	vb_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",ub_a);
#	wb_a:bat[:str,:str] := mal.multiplex("mtime","dayname",vb_a);
#	xb_a := bat.setColumn(wb_a,"1572");
##      [dayname]([dayofweek]([compute](rule_bat, 1572))).bat.setColumn("1572"),
#	yb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1);
#	ac_a := bat.setColumn(yb_a,"1");
##      [compute](rule_bat, 1).bat.setColumn("1"),
#	bc_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1);
#	cc_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",bc_a);
#	dc_a:bat[:str,:str] := mal.multiplex("mtime","dayname",cc_a);
#	ec_a := bat.setColumn(dc_a,"1");
##      [dayname]([dayofweek]([compute](rule_bat, 1))).bat.setColumn("1"),
#	fc_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,-2000);
#	gc_a := bat.setColumn(fc_a,"-2000");
##      [compute](rule_bat, -2000).bat.setColumn("-2000"),
#	hc_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,-2000);
#	ic_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",hc_a);
#	jc_a:bat[:str,:str] := mal.multiplex("mtime","dayname",ic_a);
#	kc_a := bat.setColumn(jc_a,"-2000");
#io.print("rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a");
#	lc_a := io.print(rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a);
##      [dayname]([dayofweek]([compute](rule_bat, -2000))).bat.setColumn("-2000"));
##
##
#
function user.main():void;	# 0  (main:void)
# Mil compiler Version 1.0) 	# 1  (_1:str)
# Copyright (c) 1993-2001, CWI. All rights reserved. 	# 2  (_2:str)
# Predefined code segment 	# 3  (_3:str)
##line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 4  (_4:str)
#module(monettime,alarm); 	# 5  (_5:str)
    lzone := mtime.timezone("GMT+1");	# 6 MTIMEtzone_fromstr (lzone:timezone)<-(_7:str)
    mtime.timezone_local(lzone);	# 7 MTIMEtzone_set_local (_8:void)<-(lzone:timezone)
##line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 8  (_9:str)
## test the various ways to create rules 	# 9  (_10:str)
    rule_jan := mtime.rule("1st MON from start of JAN@01:15");	# 10 MTIMErule_fromstr (rule_jan:zrule)<-(_12:str)
#var rule_jan := mtime.rule("1st MON from start of JAN@01:15"); 	# 11  (_13:str)
    rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");	# 12 MTIMErule_fromstr (rule_mar:zrule)<-(_15:str)
#var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15"); 	# 13  (_16:str)
    rule_apr := mtime.rule("last THU on or before aPr 1@01:15");	# 14 MTIMErule_fromstr (rule_apr:zrule)<-(_18:str)
#var rule_apr := mtime.rule("last THU on or before aPr 1@01:15"); 	# 15  (_19:str)
    rule_may := mtime.rule("MAY 26@01:15");	# 16 MTIMErule_fromstr (rule_may:zrule)<-(_21:str)
#var rule_may := mtime.rule("MAY 26@01:15"); 	# 17  (_22:str)
    rule_jun := mtime.rule("2nd TUE from end of june@01:15");	# 18 MTIMErule_fromstr (rule_jun:zrule)<-(_24:str)
#var rule_jun := mtime.rule("2nd TUE from end of june@01:15"); 	# 19  (_25:str)
    rule_jul := mtime.rule(7,1,1,75);	# 20 MTIMErule_create (rule_jul:zrule)<-(_27:int)(_28:int)(_28:int)(_29:int)
#var rule_jul := mtime.rule(7,1,1,75); 	# 21  (_30:str)
    rule_aug := mtime.rule(8,-1,1,75);	# 22 MTIMErule_create (rule_aug:zrule)<-(_32:int)(_33:int)(_28:int)(_29:int)
#var rule_aug := mtime.rule(8,-1,1,75); 	# 23  (_34:str)
    rule_sep := mtime.rule(9,-10,3,75);	# 24 MTIMErule_create (rule_sep:zrule)<-(_36:int)(_37:int)(_38:int)(_29:int)
#var rule_sep := mtime.rule(9,-10,3,75); 	# 25  (_39:str)
    rule_oct := mtime.rule(10,31,0,75);	# 26 MTIMErule_create (rule_oct:zrule)<-(_41:int)(_42:int)(_43:int)(_29:int)
#var rule_oct := mtime.rule(10,31,0,75); 	# 27  (_44:str)
    rule_nov := mtime.rule(11,-10,-4,75);	# 28 MTIMErule_create (rule_nov:zrule)<-(_46:int)(_37:int)(_47:int)(_29:int)
#var rule_nov := mtime.rule(11,-10,-4,75); 	# 29  (_48:str)
## nil rules 	# 30  (_49:str)
    rule_dec := mtime.rule(12,-31,0,75);	# 31 MTIMErule_create (rule_dec:zrule)<-(_51:int)(_52:int)(_43:int)(_29:int)
#var rule_dec := mtime.rule(12,-31,0,75); 	# 32  (_53:str)
    rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");	# 33 MTIMErule_fromstr (rule_feb:zrule)<-(_55:str)
#var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15"); 	# 34  (_56:str)
#  	# 35  (_57:str)
    rule_bat := bat.new(:str,:zrule,10);	# 36 CMDBATnewint (rule_bat:bat[:str,:zrule])<-(_59:str)(_60:zrule)(_41:int)
#var rule_bat := bat.new(str,rule,10); 	# 37  (_61:str)
    bat.insert(rule_bat,"jan",rule_jan);	# 38 BKCinsert_bun (_62:void)<-(rule_bat:bat[:str,:zrule])(_63:str)(rule_jan:zrule)
    bat.insert(rule_bat,"feb",rule_feb);	# 39 BKCinsert_bun (_64:void)<-(rule_bat:bat[:str,:zrule])(_65:str)(rule_feb:zrule)
    bat.insert(rule_bat,"mar",rule_mar);	# 40 BKCinsert_bun (_66:void)<-(rule_bat:bat[:str,:zrule])(_67:str)(rule_mar:zrule)
    bat.insert(rule_bat,"apr",rule_apr);	# 41 BKCinsert_bun (_68:void)<-(rule_bat:bat[:str,:zrule])(_69:str)(rule_apr:zrule)
#rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr); 	# 42  (_70:str)
    bat.insert(rule_bat,"may",rule_may);	# 43 BKCinsert_bun (_71:void)<-(rule_bat:bat[:str,:zrule])(_72:str)(rule_may:zrule)
    bat.insert(rule_bat,"jun",rule_jun);	# 44 BKCinsert_bun (_73:void)<-(rule_bat:bat[:str,:zrule])(_74:str)(rule_jun:zrule)
    bat.insert(rule_bat,"jul",rule_jul);	# 45 BKCinsert_bun (_75:void)<-(rule_bat:bat[:str,:zrule])(_76:str)(rule_jul:zrule)
    bat.insert(rule_bat,"aug",rule_aug);	# 46 BKCinsert_bun (_77:void)<-(rule_bat:bat[:str,:zrule])(_78:str)(rule_aug:zrule)
#rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug); 	# 47  (_79:str)
    bat.insert(rule_bat,"sep",rule_sep);	# 48 BKCinsert_bun (_80:void)<-(rule_bat:bat[:str,:zrule])(_81:str)(rule_sep:zrule)
    bat.insert(rule_bat,"oct",rule_oct);	# 49 BKCinsert_bun (_82:void)<-(rule_bat:bat[:str,:zrule])(_83:str)(rule_oct:zrule)
    bat.insert(rule_bat,"nov",rule_nov);	# 50 BKCinsert_bun (_84:void)<-(rule_bat:bat[:str,:zrule])(_85:str)(rule_nov:zrule)
    bat.insert(rule_bat,"dec",rule_dec);	# 51 BKCinsert_bun (_86:void)<-(rule_bat:bat[:str,:zrule])(_87:str)(rule_dec:zrule)
#rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec); 	# 52  (_88:str)
## test the operations on rules 	# 53  (_89:str)
    ma_a := bat.setColumn(rule_bat,"rule");	# 54 BKCsetColumn (ma_a:void)<-(rule_bat:bat[:str,:zrule])(_91:str)
#io.print(rule_bat.bat.setColumn("rule"), 	# 55  (_92:str)
    _191 := bat.new(nil:str,nil:int);	# 56 CMDBATnew (_191:bat[:str,:int])<-(_192:str)(_193:int)
barrier (_195,_196,_197):= bat.newIterator(rule_bat);	# 57 CHPbunIterator (_195:lng)(_196:str)(_197:zrule)<-(rule_bat:bat[:str,:zrule]) jump 64
    _199 := mtime.month(_197);	# 58 MTIMErule_extract_month (_199:int)<-(_197:zrule)
    bat.insert(_191,_196,_199);	# 59 BKCinsert_bun (_200:void)<-(_191:bat[:str,:int])(_196:str)(_199:int)
    redo (_195,_196,_197):= bat.hasMoreElements(rule_bat);	# 60 CHPbunHasMoreElements (_195:lng)(_196:str)(_197:zrule)<-(rule_bat:bat[:str,:zrule]) jump 58
catch MALException:str ;	# 61  (MALException:str) jump 63
    redo (_195,_196,_197):= bat.hasMoreElements(rule_bat);	# 62 CHPbunHasMoreElements (_195:lng)(_196:str)(_197:zrule)<-(rule_bat:bat[:str,:zrule]) jump 58
exit MALException:str ;	# 63  (MALException:str)
exit (_195,_196,_197);	# 64  (_195:lng)(_196:str)(_197:zrule)
    na_a:bat[:str,:int]  := _191;	# 65  (na_a:bat[:str,:int])<-(_191:bat[:str,:int])
    oa_a := bat.setColumn(na_a,"month");	# 66 BKCsetColumn (oa_a:void)<-(na_a:bat[:str,:int])(_95:str)
#      [month](rule_bat).bat.setColumn("month"), 	# 67  (_97:str)
    _206 := bat.new(nil:str,nil:int);	# 68 CMDBATnew (_206:bat[:str,:int])<-(_192:str)(_193:int)
barrier (_208,_209,_210):= bat.newIterator(rule_bat);	# 69 CHPbunIterator (_208:lng)(_209:str)(_210:zrule)<-(rule_bat:bat[:str,:zrule]) jump 76
    _212 := mtime.weekday(_210);	# 70 MTIMErule_extract_weekday (_212:int)<-(_210:zrule)
    bat.insert(_206,_209,_212);	# 71 BKCinsert_bun (_213:void)<-(_206:bat[:str,:int])(_209:str)(_212:int)
    redo (_208,_209,_210):= bat.hasMoreElements(rule_bat);	# 72 CHPbunHasMoreElements (_208:lng)(_209:str)(_210:zrule)<-(rule_bat:bat[:str,:zrule]) jump 70
catch MALException:str ;	# 73  (MALException:str) jump 75
    redo (_208,_209,_210):= bat.hasMoreElements(rule_bat);	# 74 CHPbunHasMoreElements (_208:lng)(_209:str)(_210:zrule)<-(rule_bat:bat[:str,:zrule]) jump 70
exit MALException:str ;	# 75  (MALException:str)
exit (_208,_209,_210);	# 76  (_208:lng)(_209:str)(_210:zrule)
    pa_a:bat[:str,:int]  := _206;	# 77  (pa_a:bat[:str,:int])<-(_206:bat[:str,:int])
    qa_a := bat.setColumn(pa_a,"weekday");	# 78 BKCsetColumn (qa_a:void)<-(pa_a:bat[:str,:int])(_99:str)
#      [weekday](rule_bat).bat.setColumn("weekday"), 	# 79  (_101:str)
    _219 := bat.new(nil:str,nil:int);	# 80 CMDBATnew (_219:bat[:str,:int])<-(_192:str)(_193:int)
barrier (_221,_222,_223):= bat.newIterator(rule_bat);	# 81 CHPbunIterator (_221:lng)(_222:str)(_223:zrule)<-(rule_bat:bat[:str,:zrule]) jump 88
    _225 := mtime.day(_223);	# 82 MTIMErule_extract_day (_225:int)<-(_223:zrule)
    bat.insert(_219,_222,_225);	# 83 BKCinsert_bun (_226:void)<-(_219:bat[:str,:int])(_222:str)(_225:int)
    redo (_221,_222,_223):= bat.hasMoreElements(rule_bat);	# 84 CHPbunHasMoreElements (_221:lng)(_222:str)(_223:zrule)<-(rule_bat:bat[:str,:zrule]) jump 82
catch MALException:str ;	# 85  (MALException:str) jump 87
    redo (_221,_222,_223):= bat.hasMoreElements(rule_bat);	# 86 CHPbunHasMoreElements (_221:lng)(_222:str)(_223:zrule)<-(rule_bat:bat[:str,:zrule]) jump 82
exit MALException:str ;	# 87  (MALException:str)
exit (_221,_222,_223);	# 88  (_221:lng)(_222:str)(_223:zrule)
    ra_a:bat[:str,:int]  := _219;	# 89  (ra_a:bat[:str,:int])<-(_219:bat[:str,:int])
    sa_a := bat.setColumn(ra_a,"day");	# 90 BKCsetColumn (sa_a:void)<-(ra_a:bat[:str,:int])(_103:str)
#      [day](rule_bat).bat.setColumn("day"), 	# 91  (_105:str)
    _232 := bat.new(nil:str,nil:int);	# 92 CMDBATnew (_232:bat[:str,:int])<-(_233:str)(_234:int)
barrier (_236,_237,_238):= bat.newIterator(rule_bat);	# 93 CHPbunIterator (_236:lng)(_237:str)(_238:zrule)<-(rule_bat:bat[:str,:zrule]) jump 100
    _240 := mtime.minutes(_238);	# 94 MTIMErule_extract_minutes (_240:int)<-(_238:zrule)
    bat.insert(_232,_237,_240);	# 95 BKCinsert_bun (_241:void)<-(_232:bat[:str,:int])(_237:str)(_240:int)
    redo (_236,_237,_238):= bat.hasMoreElements(rule_bat);	# 96 CHPbunHasMoreElements (_236:lng)(_237:str)(_238:zrule)<-(rule_bat:bat[:str,:zrule]) jump 94
catch MALException:str ;	# 97  (MALException:str) jump 99
    redo (_236,_237,_238):= bat.hasMoreElements(rule_bat);	# 98 CHPbunHasMoreElements (_236:lng)(_237:str)(_238:zrule)<-(rule_bat:bat[:str,:zrule]) jump 94
exit MALException:str ;	# 99  (MALException:str)
exit (_236,_237,_238);	# 100  (_236:lng)(_237:str)(_238:zrule)
    ta_a:bat[:str,:int]  := _232;	# 101  (ta_a:bat[:str,:int])<-(_232:bat[:str,:int])
    ua_a := bat.setColumn(ta_a,"minutes");	# 102 BKCsetColumn (ua_a:void)<-(ta_a:bat[:str,:int])(_107:str)
    io.print("rule_bat,na_a,pa_a,ra_a,ta_a");	# 103 IOprint_val (_109:void)<-(_110:str)
    va_a := io.print(rule_bat,na_a,pa_a,ra_a,ta_a);	# 104 IOtable (va_a:void)<-(rule_bat:bat[:str,:zrule])(na_a:bat[:str,:int])(pa_a:bat[:str,:int])(ra_a:bat[:str,:int])(ta_a:bat[:str,:int])
#      [minutes](rule_bat).bat.setColumn("minutes")); 	# 105  (_112:str)
    bat.setColumn(rule_bat,"rule");	# 106 BKCsetColumn (_113:void)<-(rule_bat:bat[:str,:zrule])(_91:str)
#io.print(rule_bat.bat.setColumn("rule"), 	# 107  (_92:str)
    _247 := bat.new(nil:str,nil:date);	# 108 CMDBATnew (_247:bat[:str,:date])<-(_233:str)(_248:date)
barrier (_250,_251,_252):= bat.newIterator(rule_bat);	# 109 CHPbunIterator (_250:lng)(_251:str)(_252:zrule)<-(rule_bat:bat[:str,:zrule]) jump 116
    _254 := mtime.compute(_252,2001);	# 110 MTIMEcompute_rule_foryear (_254:date)<-(_252:zrule)(_116:int)
    bat.insert(_247,_251,_254);	# 111 BKCinsert_bun (_255:void)<-(_247:bat[:str,:date])(_251:str)(_254:date)
    redo (_250,_251,_252):= bat.hasMoreElements(rule_bat);	# 112 CHPbunHasMoreElements (_250:lng)(_251:str)(_252:zrule)<-(rule_bat:bat[:str,:zrule]) jump 110
catch MALException:str ;	# 113  (MALException:str) jump 115
    redo (_250,_251,_252):= bat.hasMoreElements(rule_bat);	# 114 CHPbunHasMoreElements (_250:lng)(_251:str)(_252:zrule)<-(rule_bat:bat[:str,:zrule]) jump 110
exit MALException:str ;	# 115  (MALException:str)
exit (_250,_251,_252);	# 116  (_250:lng)(_251:str)(_252:zrule)
    xa_a:bat[:str,:date]  := _247;	# 117  (xa_a:bat[:str,:date])<-(_247:bat[:str,:date])
    ya_a := bat.setColumn(xa_a,"2001");	# 118 BKCsetColumn (ya_a:void)<-(xa_a:bat[:str,:date])(_118:str)
#      [compute](rule_bat, 2001).bat.setColumn("2001"), 	# 119  (_119:str)
    _261 := bat.new(nil:str,nil:date);	# 120 CMDBATnew (_261:bat[:str,:date])<-(_233:str)(_248:date)
barrier (_263,_264,_265):= bat.newIterator(rule_bat);	# 121 CHPbunIterator (_263:lng)(_264:str)(_265:zrule)<-(rule_bat:bat[:str,:zrule]) jump 128
    _267 := mtime.compute(_265,2001);	# 122 MTIMEcompute_rule_foryear (_267:date)<-(_265:zrule)(_116:int)
    bat.insert(_261,_264,_267);	# 123 BKCinsert_bun (_268:void)<-(_261:bat[:str,:date])(_264:str)(_267:date)
    redo (_263,_264,_265):= bat.hasMoreElements(rule_bat);	# 124 CHPbunHasMoreElements (_263:lng)(_264:str)(_265:zrule)<-(rule_bat:bat[:str,:zrule]) jump 122
catch MALException:str ;	# 125  (MALException:str) jump 127
    redo (_263,_264,_265):= bat.hasMoreElements(rule_bat);	# 126 CHPbunHasMoreElements (_263:lng)(_264:str)(_265:zrule)<-(rule_bat:bat[:str,:zrule]) jump 122
exit MALException:str ;	# 127  (MALException:str)
exit (_263,_264,_265);	# 128  (_263:lng)(_264:str)(_265:zrule)
    ab_a:bat[:str,:date]  := _261;	# 129  (ab_a:bat[:str,:date])<-(_261:bat[:str,:date])
    _274 := bat.new(nil:str,nil:int);	# 130 CMDBATnew (_274:bat[:str,:int])<-(_275:str)(_276:int)
barrier (_278,_279,_280):= bat.newIterator(ab_a);	# 131 CHPbunIterator (_278:lng)(_279:str)(_280:date)<-(ab_a:bat[:str,:date]) jump 138
    _282 := mtime.dayofweek(_280);	# 132 MTIMEdate_extract_dayofweek (_282:int)<-(_280:date)
    bat.insert(_274,_279,_282);	# 133 BKCinsert_bun (_283:void)<-(_274:bat[:str,:int])(_279:str)(_282:int)
    redo (_278,_279,_280):= bat.hasMoreElements(ab_a);	# 134 CHPbunHasMoreElements (_278:lng)(_279:str)(_280:date)<-(ab_a:bat[:str,:date]) jump 132
catch MALException:str ;	# 135  (MALException:str) jump 137
    redo (_278,_279,_280):= bat.hasMoreElements(ab_a);	# 136 CHPbunHasMoreElements (_278:lng)(_279:str)(_280:date)<-(ab_a:bat[:str,:date]) jump 132
exit MALException:str ;	# 137  (MALException:str)
exit (_278,_279,_280);	# 138  (_278:lng)(_279:str)(_280:date)
    bb_a:bat[:str,:int]  := _274;	# 139  (bb_a:bat[:str,:int])<-(_274:bat[:str,:int])
    _289 := bat.new(nil:str,nil:str);	# 140 CMDBATnew (_289:bat[:str,:str])<-(_275:str)(_275:str)
barrier (_291,_292,_293):= bat.newIterator(bb_a);	# 141 CHPbunIterator (_291:lng)(_292:str)(_293:int)<-(bb_a:bat[:str,:int]) jump 148
    _295 := mtime.dayname(_293);	# 142 MTIMEday_to_str (_295:str)<-(_293:int)
    bat.insert(_289,_292,_295);	# 143 BKCinsert_bun (_296:void)<-(_289:bat[:str,:str])(_292:str)(_295:str)
    redo (_291,_292,_293):= bat.hasMoreElements(bb_a);	# 144 CHPbunHasMoreElements (_291:lng)(_292:str)(_293:int)<-(bb_a:bat[:str,:int]) jump 142
catch MALException:str ;	# 145  (MALException:str) jump 147
    redo (_291,_292,_293):= bat.hasMoreElements(bb_a);	# 146 CHPbunHasMoreElements (_291:lng)(_292:str)(_293:int)<-(bb_a:bat[:str,:int]) jump 142
exit MALException:str ;	# 147  (MALException:str)
exit (_291,_292,_293);	# 148  (_291:lng)(_292:str)(_293:int)
    cb_a:bat[:str,:str]  := _289;	# 149  (cb_a:bat[:str,:str])<-(_289:bat[:str,:str])
    bat.setColumn(cb_a,"2001");	# 150 BKCsetColumn (_125:void)<-(cb_a:bat[:str,:str])(_118:str)
#      [dayname]([dayofweek]([compute](rule_bat, 2001))).bat.setColumn("2001"), 	# 151  (_126:str)
    _302 := bat.new(nil:str,nil:date);	# 152 CMDBATnew (_302:bat[:str,:date])<-(_275:str)(_303:date)
barrier (_305,_306,_307):= bat.newIterator(rule_bat);	# 153 CHPbunIterator (_305:lng)(_306:str)(_307:zrule)<-(rule_bat:bat[:str,:zrule]) jump 160
    _309 := mtime.compute(_307,1999);	# 154 MTIMEcompute_rule_foryear (_309:date)<-(_307:zrule)(_129:int)
    bat.insert(_302,_306,_309);	# 155 BKCinsert_bun (_310:void)<-(_302:bat[:str,:date])(_306:str)(_309:date)
    redo (_305,_306,_307):= bat.hasMoreElements(rule_bat);	# 156 CHPbunHasMoreElements (_305:lng)(_306:str)(_307:zrule)<-(rule_bat:bat[:str,:zrule]) jump 154
catch MALException:str ;	# 157  (MALException:str) jump 159
    redo (_305,_306,_307):= bat.hasMoreElements(rule_bat);	# 158 CHPbunHasMoreElements (_305:lng)(_306:str)(_307:zrule)<-(rule_bat:bat[:str,:zrule]) jump 154
exit MALException:str ;	# 159  (MALException:str)
exit (_305,_306,_307);	# 160  (_305:lng)(_306:str)(_307:zrule)
    eb_a:bat[:str,:date]  := _302;	# 161  (eb_a:bat[:str,:date])<-(_302:bat[:str,:date])
    bat.setColumn(eb_a,"1999");	# 162 BKCsetColumn (_130:void)<-(eb_a:bat[:str,:date])(_131:str)
#      [compute](rule_bat, 1999).bat.setColumn("1999"), 	# 163  (_132:str)
    _316 := bat.new(nil:str,nil:date);	# 164 CMDBATnew (_316:bat[:str,:date])<-(_317:str)(_303:date)
barrier (_319,_320,_321):= bat.newIterator(rule_bat);	# 165 CHPbunIterator (_319:lng)(_320:str)(_321:zrule)<-(rule_bat:bat[:str,:zrule]) jump 172
    _323 := mtime.compute(_321,1999);	# 166 MTIMEcompute_rule_foryear (_323:date)<-(_321:zrule)(_129:int)
    bat.insert(_316,_320,_323);	# 167 BKCinsert_bun (_324:void)<-(_316:bat[:str,:date])(_320:str)(_323:date)
    redo (_319,_320,_321):= bat.hasMoreElements(rule_bat);	# 168 CHPbunHasMoreElements (_319:lng)(_320:str)(_321:zrule)<-(rule_bat:bat[:str,:zrule]) jump 166
catch MALException:str ;	# 169  (MALException:str) jump 171
    redo (_319,_320,_321):= bat.hasMoreElements(rule_bat);	# 170 CHPbunHasMoreElements (_319:lng)(_320:str)(_321:zrule)<-(rule_bat:bat[:str,:zrule]) jump 166
exit MALException:str ;	# 171  (MALException:str)
exit (_319,_320,_321);	# 172  (_319:lng)(_320:str)(_321:zrule)
    gb_a:bat[:str,:date]  := _316;	# 173  (gb_a:bat[:str,:date])<-(_316:bat[:str,:date])
    _330 := bat.new(nil:str,nil:int);	# 174 CMDBATnew (_330:bat[:str,:int])<-(_317:str)(_331:int)
barrier (_333,_334,_335):= bat.newIterator(gb_a);	# 175 CHPbunIterator (_333:lng)(_334:str)(_335:date)<-(gb_a:bat[:str,:date]) jump 182
    _337 := mtime.dayofweek(_335);	# 176 MTIMEdate_extract_dayofweek (_337:int)<-(_335:date)
    bat.insert(_330,_334,_337);	# 177 BKCinsert_bun (_338:void)<-(_330:bat[:str,:int])(_334:str)(_337:int)
    redo (_333,_334,_335):= bat.hasMoreElements(gb_a);	# 178 CHPbunHasMoreElements (_333:lng)(_334:str)(_335:date)<-(gb_a:bat[:str,:date]) jump 176
catch MALException:str ;	# 179  (MALException:str) jump 181
    redo (_333,_334,_335):= bat.hasMoreElements(gb_a);	# 180 CHPbunHasMoreElements (_333:lng)(_334:str)(_335:date)<-(gb_a:bat[:str,:date]) jump 176
exit MALException:str ;	# 181  (MALException:str)
exit (_333,_334,_335);	# 182  (_333:lng)(_334:str)(_335:date)
    hb_a:bat[:str,:int]  := _330;	# 183  (hb_a:bat[:str,:int])<-(_330:bat[:str,:int])
    _344 := bat.new(nil:str,nil:str);	# 184 CMDBATnew (_344:bat[:str,:str])<-(_317:str)(_317:str)
barrier (_346,_347,_348):= bat.newIterator(hb_a);	# 185 CHPbunIterator (_346:lng)(_347:str)(_348:int)<-(hb_a:bat[:str,:int]) jump 192
    _350 := mtime.dayname(_348);	# 186 MTIMEday_to_str (_350:str)<-(_348:int)
    bat.insert(_344,_347,_350);	# 187 BKCinsert_bun (_351:void)<-(_344:bat[:str,:str])(_347:str)(_350:str)
    redo (_346,_347,_348):= bat.hasMoreElements(hb_a);	# 188 CHPbunHasMoreElements (_346:lng)(_347:str)(_348:int)<-(hb_a:bat[:str,:int]) jump 186
catch MALException:str ;	# 189  (MALException:str) jump 191
    redo (_346,_347,_348):= bat.hasMoreElements(hb_a);	# 190 CHPbunHasMoreElements (_346:lng)(_347:str)(_348:int)<-(hb_a:bat[:str,:int]) jump 186
exit MALException:str ;	# 191  (MALException:str)
exit (_346,_347,_348);	# 192  (_346:lng)(_347:str)(_348:int)
    ib_a:bat[:str,:str]  := _344;	# 193  (ib_a:bat[:str,:str])<-(_344:bat[:str,:str])
    bat.setColumn(ib_a,"1999");	# 194 BKCsetColumn (_136:void)<-(ib_a:bat[:str,:str])(_131:str)
#      [dayname]([dayofweek]([compute](rule_bat, 1999))).bat.setColumn("1999"), 	# 195  (_137:str)
    _357 := bat.new(nil:str,nil:date);	# 196 CMDBATnew (_357:bat[:str,:date])<-(_358:str)(_359:date)
barrier (_361,_362,_363):= bat.newIterator(rule_bat);	# 197 CHPbunIterator (_361:lng)(_362:str)(_363:zrule)<-(rule_bat:bat[:str,:zrule]) jump 204
    _365 := mtime.compute(_363,1992);	# 198 MTIMEcompute_rule_foryear (_365:date)<-(_363:zrule)(_139:int)
    bat.insert(_357,_362,_365);	# 199 BKCinsert_bun (_366:void)<-(_357:bat[:str,:date])(_362:str)(_365:date)
    redo (_361,_362,_363):= bat.hasMoreElements(rule_bat);	# 200 CHPbunHasMoreElements (_361:lng)(_362:str)(_363:zrule)<-(rule_bat:bat[:str,:zrule]) jump 198
catch MALException:str ;	# 201  (MALException:str) jump 203
    redo (_361,_362,_363):= bat.hasMoreElements(rule_bat);	# 202 CHPbunHasMoreElements (_361:lng)(_362:str)(_363:zrule)<-(rule_bat:bat[:str,:zrule]) jump 198
exit MALException:str ;	# 203  (MALException:str)
exit (_361,_362,_363);	# 204  (_361:lng)(_362:str)(_363:zrule)
    kb_a:bat[:str,:date]  := _357;	# 205  (kb_a:bat[:str,:date])<-(_357:bat[:str,:date])
    bat.setColumn(kb_a,"1992");	# 206 BKCsetColumn (_140:void)<-(kb_a:bat[:str,:date])(_141:str)
#      [compute](rule_bat, 1992).bat.setColumn("1992"), 	# 207  (_142:str)
    _372 := bat.new(nil:str,nil:date);	# 208 CMDBATnew (_372:bat[:str,:date])<-(_358:str)(_359:date)
barrier (_374,_375,_376):= bat.newIterator(rule_bat);	# 209 CHPbunIterator (_374:lng)(_375:str)(_376:zrule)<-(rule_bat:bat[:str,:zrule]) jump 216
    _378 := mtime.compute(_376,1992);	# 210 MTIMEcompute_rule_foryear (_378:date)<-(_376:zrule)(_139:int)
    bat.insert(_372,_375,_378);	# 211 BKCinsert_bun (_379:void)<-(_372:bat[:str,:date])(_375:str)(_378:date)
    redo (_374,_375,_376):= bat.hasMoreElements(rule_bat);	# 212 CHPbunHasMoreElements (_374:lng)(_375:str)(_376:zrule)<-(rule_bat:bat[:str,:zrule]) jump 210
catch MALException:str ;	# 213  (MALException:str) jump 215
    redo (_374,_375,_376):= bat.hasMoreElements(rule_bat);	# 214 CHPbunHasMoreElements (_374:lng)(_375:str)(_376:zrule)<-(rule_bat:bat[:str,:zrule]) jump 210
exit MALException:str ;	# 215  (MALException:str)
exit (_374,_375,_376);	# 216  (_374:lng)(_375:str)(_376:zrule)
    mb_a:bat[:str,:date]  := _372;	# 217  (mb_a:bat[:str,:date])<-(_372:bat[:str,:date])
    _385 := bat.new(nil:str,nil:int);	# 218 CMDBATnew (_385:bat[:str,:int])<-(_358:str)(_386:int)
barrier (_388,_389,_390):= bat.newIterator(mb_a);	# 219 CHPbunIterator (_388:lng)(_389:str)(_390:date)<-(mb_a:bat[:str,:date]) jump 226
    _392 := mtime.dayofweek(_390);	# 220 MTIMEdate_extract_dayofweek (_392:int)<-(_390:date)
    bat.insert(_385,_389,_392);	# 221 BKCinsert_bun (_393:void)<-(_385:bat[:str,:int])(_389:str)(_392:int)
    redo (_388,_389,_390):= bat.hasMoreElements(mb_a);	# 222 CHPbunHasMoreElements (_388:lng)(_389:str)(_390:date)<-(mb_a:bat[:str,:date]) jump 220
catch MALException:str ;	# 223  (MALException:str) jump 225
    redo (_388,_389,_390):= bat.hasMoreElements(mb_a);	# 224 CHPbunHasMoreElements (_388:lng)(_389:str)(_390:date)<-(mb_a:bat[:str,:date]) jump 220
exit MALException:str ;	# 225  (MALException:str)
exit (_388,_389,_390);	# 226  (_388:lng)(_389:str)(_390:date)
    nb_a:bat[:str,:int]  := _385;	# 227  (nb_a:bat[:str,:int])<-(_385:bat[:str,:int])
    _399 := bat.new(nil:str,nil:str);	# 228 CMDBATnew (_399:bat[:str,:str])<-(_400:str)(_400:str)
barrier (_402,_403,_404):= bat.newIterator(nb_a);	# 229 CHPbunIterator (_402:lng)(_403:str)(_404:int)<-(nb_a:bat[:str,:int]) jump 236
    _406 := mtime.dayname(_404);	# 230 MTIMEday_to_str (_406:str)<-(_404:int)
    bat.insert(_399,_403,_406);	# 231 BKCinsert_bun (_407:void)<-(_399:bat[:str,:str])(_403:str)(_406:str)
    redo (_402,_403,_404):= bat.hasMoreElements(nb_a);	# 232 CHPbunHasMoreElements (_402:lng)(_403:str)(_404:int)<-(nb_a:bat[:str,:int]) jump 230
catch MALException:str ;	# 233  (MALException:str) jump 235
    redo (_402,_403,_404):= bat.hasMoreElements(nb_a);	# 234 CHPbunHasMoreElements (_402:lng)(_403:str)(_404:int)<-(nb_a:bat[:str,:int]) jump 230
exit MALException:str ;	# 235  (MALException:str)
exit (_402,_403,_404);	# 236  (_402:lng)(_403:str)(_404:int)
    ob_a:bat[:str,:str]  := _399;	# 237  (ob_a:bat[:str,:str])<-(_399:bat[:str,:str])
    bat.setColumn(ob_a,"1992");	# 238 BKCsetColumn (_146:void)<-(ob_a:bat[:str,:str])(_141:str)
    io.print("rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a");	# 239 IOprint_val (_147:void)<-(_148:str)
    qb_a := io.print(rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a);	# 240 IOtable (qb_a:void)<-(rule_bat:bat[:str,:zrule])(xa_a:bat[:str,:date])(cb_a:bat[:str,:str])(eb_a:bat[:str,:date])(ib_a:bat[:str,:str])(kb_a:bat[:str,:date])(ob_a:bat[:str,:str])
#      [dayname]([dayofweek]([compute](rule_bat, 1992))).bat.setColumn("1992")); 	# 241  (_150:str)
    rb_a := bat.setColumn(rule_bat,"rule");	# 242 BKCsetColumn (rb_a:void)<-(rule_bat:bat[:str,:zrule])(_152:str)
#io.print(rule_bat.bat.setColumn("rule"), 	# 243  (_153:str)
    _413 := bat.new(nil:str,nil:date);	# 244 CMDBATnew (_413:bat[:str,:date])<-(_400:str)(_414:date)
barrier (_416,_417,_418):= bat.newIterator(rule_bat);	# 245 CHPbunIterator (_416:lng)(_417:str)(_418:zrule)<-(rule_bat:bat[:str,:zrule]) jump 252
    _420 := mtime.compute(_418,1572);	# 246 MTIMEcompute_rule_foryear (_420:date)<-(_418:zrule)(_156:int)
    bat.insert(_413,_417,_420);	# 247 BKCinsert_bun (_421:void)<-(_413:bat[:str,:date])(_417:str)(_420:date)
    redo (_416,_417,_418):= bat.hasMoreElements(rule_bat);	# 248 CHPbunHasMoreElements (_416:lng)(_417:str)(_418:zrule)<-(rule_bat:bat[:str,:zrule]) jump 246
catch MALException:str ;	# 249  (MALException:str) jump 251
    redo (_416,_417,_418):= bat.hasMoreElements(rule_bat);	# 250 CHPbunHasMoreElements (_416:lng)(_417:str)(_418:zrule)<-(rule_bat:bat[:str,:zrule]) jump 246
exit MALException:str ;	# 251  (MALException:str)
exit (_416,_417,_418);	# 252  (_416:lng)(_417:str)(_418:zrule)
    sb_a:bat[:str,:date]  := _413;	# 253  (sb_a:bat[:str,:date])<-(_413:bat[:str,:date])
    tb_a := bat.setColumn(sb_a,"1572");	# 254 BKCsetColumn (tb_a:void)<-(sb_a:bat[:str,:date])(_158:str)
#      [compute](rule_bat, 1572).bat.setColumn("1572"), 	# 255  (_159:str)
    _427 := bat.new(nil:str,nil:date);	# 256 CMDBATnew (_427:bat[:str,:date])<-(_400:str)(_414:date)
barrier (_429,_430,_431):= bat.newIterator(rule_bat);	# 257 CHPbunIterator (_429:lng)(_430:str)(_431:zrule)<-(rule_bat:bat[:str,:zrule]) jump 264
    _433 := mtime.compute(_431,1572);	# 258 MTIMEcompute_rule_foryear (_433:date)<-(_431:zrule)(_156:int)
    bat.insert(_427,_430,_433);	# 259 BKCinsert_bun (_434:void)<-(_427:bat[:str,:date])(_430:str)(_433:date)
    redo (_429,_430,_431):= bat.hasMoreElements(rule_bat);	# 260 CHPbunHasMoreElements (_429:lng)(_430:str)(_431:zrule)<-(rule_bat:bat[:str,:zrule]) jump 258
catch MALException:str ;	# 261  (MALException:str) jump 263
    redo (_429,_430,_431):= bat.hasMoreElements(rule_bat);	# 262 CHPbunHasMoreElements (_429:lng)(_430:str)(_431:zrule)<-(rule_bat:bat[:str,:zrule]) jump 258
exit MALException:str ;	# 263  (MALException:str)
exit (_429,_430,_431);	# 264  (_429:lng)(_430:str)(_431:zrule)
    ub_a:bat[:str,:date]  := _427;	# 265  (ub_a:bat[:str,:date])<-(_427:bat[:str,:date])
    _440 := bat.new(nil:str,nil:int);	# 266 CMDBATnew (_440:bat[:str,:int])<-(_441:str)(_442:int)
barrier (_444,_445,_446):= bat.newIterator(ub_a);	# 267 CHPbunIterator (_444:lng)(_445:str)(_446:date)<-(ub_a:bat[:str,:date]) jump 274
    _448 := mtime.dayofweek(_446);	# 268 MTIMEdate_extract_dayofweek (_448:int)<-(_446:date)
    bat.insert(_440,_445,_448);	# 269 BKCinsert_bun (_449:void)<-(_440:bat[:str,:int])(_445:str)(_448:int)
    redo (_444,_445,_446):= bat.hasMoreElements(ub_a);	# 270 CHPbunHasMoreElements (_444:lng)(_445:str)(_446:date)<-(ub_a:bat[:str,:date]) jump 268
catch MALException:str ;	# 271  (MALException:str) jump 273
    redo (_444,_445,_446):= bat.hasMoreElements(ub_a);	# 272 CHPbunHasMoreElements (_444:lng)(_445:str)(_446:date)<-(ub_a:bat[:str,:date]) jump 268
exit MALException:str ;	# 273  (MALException:str)
exit (_444,_445,_446);	# 274  (_444:lng)(_445:str)(_446:date)
    vb_a:bat[:str,:int]  := _440;	# 275  (vb_a:bat[:str,:int])<-(_440:bat[:str,:int])
    _455 := bat.new(nil:str,nil:str);	# 276 CMDBATnew (_455:bat[:str,:str])<-(_441:str)(_441:str)
barrier (_457,_458,_459):= bat.newIterator(vb_a);	# 277 CHPbunIterator (_457:lng)(_458:str)(_459:int)<-(vb_a:bat[:str,:int]) jump 284
    _461 := mtime.dayname(_459);	# 278 MTIMEday_to_str (_461:str)<-(_459:int)
    bat.insert(_455,_458,_461);	# 279 BKCinsert_bun (_462:void)<-(_455:bat[:str,:str])(_458:str)(_461:str)
    redo (_457,_458,_459):= bat.hasMoreElements(vb_a);	# 280 CHPbunHasMoreElements (_457:lng)(_458:str)(_459:int)<-(vb_a:bat[:str,:int]) jump 278
catch MALException:str ;	# 281  (MALException:str) jump 283
    redo (_457,_458,_459):= bat.hasMoreElements(vb_a);	# 282 CHPbunHasMoreElements (_457:lng)(_458:str)(_459:int)<-(vb_a:bat[:str,:int]) jump 278
exit MALException:str ;	# 283  (MALException:str)
exit (_457,_458,_459);	# 284  (_457:lng)(_458:str)(_459:int)
    wb_a:bat[:str,:str]  := _455;	# 285  (wb_a:bat[:str,:str])<-(_455:bat[:str,:str])
    xb_a := bat.setColumn(wb_a,"1572");	# 286 BKCsetColumn (xb_a:void)<-(wb_a:bat[:str,:str])(_158:str)
#      [dayname]([dayofweek]([compute](rule_bat, 1572))).bat.setColumn("1572"), 	# 287  (_166:str)
    _468 := bat.new(nil:str,nil:date);	# 288 CMDBATnew (_468:bat[:str,:date])<-(_441:str)(_469:date)
barrier (_471,_472,_473):= bat.newIterator(rule_bat);	# 289 CHPbunIterator (_471:lng)(_472:str)(_473:zrule)<-(rule_bat:bat[:str,:zrule]) jump 296
    _475 := mtime.compute(_473,1);	# 290 MTIMEcompute_rule_foryear (_475:date)<-(_473:zrule)(_169:int)
    bat.insert(_468,_472,_475);	# 291 BKCinsert_bun (_476:void)<-(_468:bat[:str,:date])(_472:str)(_475:date)
    redo (_471,_472,_473):= bat.hasMoreElements(rule_bat);	# 292 CHPbunHasMoreElements (_471:lng)(_472:str)(_473:zrule)<-(rule_bat:bat[:str,:zrule]) jump 290
catch MALException:str ;	# 293  (MALException:str) jump 295
    redo (_471,_472,_473):= bat.hasMoreElements(rule_bat);	# 294 CHPbunHasMoreElements (_471:lng)(_472:str)(_473:zrule)<-(rule_bat:bat[:str,:zrule]) jump 290
exit MALException:str ;	# 295  (MALException:str)
exit (_471,_472,_473);	# 296  (_471:lng)(_472:str)(_473:zrule)
    yb_a:bat[:str,:date]  := _468;	# 297  (yb_a:bat[:str,:date])<-(_468:bat[:str,:date])
    ac_a := bat.setColumn(yb_a,"1");	# 298 BKCsetColumn (ac_a:void)<-(yb_a:bat[:str,:date])(_171:str)
#      [compute](rule_bat, 1).bat.setColumn("1"), 	# 299  (_172:str)
    _482 := bat.new(nil:str,nil:date);	# 300 CMDBATnew (_482:bat[:str,:date])<-(_483:str)(_469:date)
barrier (_485,_486,_487):= bat.newIterator(rule_bat);	# 301 CHPbunIterator (_485:lng)(_486:str)(_487:zrule)<-(rule_bat:bat[:str,:zrule]) jump 308
    _489 := mtime.compute(_487,1);	# 302 MTIMEcompute_rule_foryear (_489:date)<-(_487:zrule)(_169:int)
    bat.insert(_482,_486,_489);	# 303 BKCinsert_bun (_490:void)<-(_482:bat[:str,:date])(_486:str)(_489:date)
    redo (_485,_486,_487):= bat.hasMoreElements(rule_bat);	# 304 CHPbunHasMoreElements (_485:lng)(_486:str)(_487:zrule)<-(rule_bat:bat[:str,:zrule]) jump 302
catch MALException:str ;	# 305  (MALException:str) jump 307
    redo (_485,_486,_487):= bat.hasMoreElements(rule_bat);	# 306 CHPbunHasMoreElements (_485:lng)(_486:str)(_487:zrule)<-(rule_bat:bat[:str,:zrule]) jump 302
exit MALException:str ;	# 307  (MALException:str)
exit (_485,_486,_487);	# 308  (_485:lng)(_486:str)(_487:zrule)
    bc_a:bat[:str,:date]  := _482;	# 309  (bc_a:bat[:str,:date])<-(_482:bat[:str,:date])
    _496 := bat.new(nil:str,nil:int);	# 310 CMDBATnew (_496:bat[:str,:int])<-(_483:str)(_497:int)
barrier (_499,_500,_501):= bat.newIterator(bc_a);	# 311 CHPbunIterator (_499:lng)(_500:str)(_501:date)<-(bc_a:bat[:str,:date]) jump 318
    _503 := mtime.dayofweek(_501);	# 312 MTIMEdate_extract_dayofweek (_503:int)<-(_501:date)
    bat.insert(_496,_500,_503);	# 313 BKCinsert_bun (_504:void)<-(_496:bat[:str,:int])(_500:str)(_503:int)
    redo (_499,_500,_501):= bat.hasMoreElements(bc_a);	# 314 CHPbunHasMoreElements (_499:lng)(_500:str)(_501:date)<-(bc_a:bat[:str,:date]) jump 312
catch MALException:str ;	# 315  (MALException:str) jump 317
    redo (_499,_500,_501):= bat.hasMoreElements(bc_a);	# 316 CHPbunHasMoreElements (_499:lng)(_500:str)(_501:date)<-(bc_a:bat[:str,:date]) jump 312
exit MALException:str ;	# 317  (MALException:str)
exit (_499,_500,_501);	# 318  (_499:lng)(_500:str)(_501:date)
    cc_a:bat[:str,:int]  := _496;	# 319  (cc_a:bat[:str,:int])<-(_496:bat[:str,:int])
    _510 := bat.new(nil:str,nil:str);	# 320 CMDBATnew (_510:bat[:str,:str])<-(_483:str)(_483:str)
barrier (_512,_513,_514):= bat.newIterator(cc_a);	# 321 CHPbunIterator (_512:lng)(_513:str)(_514:int)<-(cc_a:bat[:str,:int]) jump 328
    _516 := mtime.dayname(_514);	# 322 MTIMEday_to_str (_516:str)<-(_514:int)
    bat.insert(_510,_513,_516);	# 323 BKCinsert_bun (_517:void)<-(_510:bat[:str,:str])(_513:str)(_516:str)
    redo (_512,_513,_514):= bat.hasMoreElements(cc_a);	# 324 CHPbunHasMoreElements (_512:lng)(_513:str)(_514:int)<-(cc_a:bat[:str,:int]) jump 322
catch MALException:str ;	# 325  (MALException:str) jump 327
    redo (_512,_513,_514):= bat.hasMoreElements(cc_a);	# 326 CHPbunHasMoreElements (_512:lng)(_513:str)(_514:int)<-(cc_a:bat[:str,:int]) jump 322
exit MALException:str ;	# 327  (MALException:str)
exit (_512,_513,_514);	# 328  (_512:lng)(_513:str)(_514:int)
    dc_a:bat[:str,:str]  := _510;	# 329  (dc_a:bat[:str,:str])<-(_510:bat[:str,:str])
    ec_a := bat.setColumn(dc_a,"1");	# 330 BKCsetColumn (ec_a:void)<-(dc_a:bat[:str,:str])(_171:str)
#      [dayname]([dayofweek]([compute](rule_bat, 1))).bat.setColumn("1"), 	# 331  (_177:str)
    _523 := bat.new(nil:str,nil:date);	# 332 CMDBATnew (_523:bat[:str,:date])<-(_524:str)(_525:date)
barrier (_527,_528,_529):= bat.newIterator(rule_bat);	# 333 CHPbunIterator (_527:lng)(_528:str)(_529:zrule)<-(rule_bat:bat[:str,:zrule]) jump 340
    _531 := mtime.compute(_529,-2000);	# 334 MTIMEcompute_rule_foryear (_531:date)<-(_529:zrule)(_179:int)
    bat.insert(_523,_528,_531);	# 335 BKCinsert_bun (_532:void)<-(_523:bat[:str,:date])(_528:str)(_531:date)
    redo (_527,_528,_529):= bat.hasMoreElements(rule_bat);	# 336 CHPbunHasMoreElements (_527:lng)(_528:str)(_529:zrule)<-(rule_bat:bat[:str,:zrule]) jump 334
catch MALException:str ;	# 337  (MALException:str) jump 339
    redo (_527,_528,_529):= bat.hasMoreElements(rule_bat);	# 338 CHPbunHasMoreElements (_527:lng)(_528:str)(_529:zrule)<-(rule_bat:bat[:str,:zrule]) jump 334
exit MALException:str ;	# 339  (MALException:str)
exit (_527,_528,_529);	# 340  (_527:lng)(_528:str)(_529:zrule)
    fc_a:bat[:str,:date]  := _523;	# 341  (fc_a:bat[:str,:date])<-(_523:bat[:str,:date])
    gc_a := bat.setColumn(fc_a,"-2000");	# 342 BKCsetColumn (gc_a:void)<-(fc_a:bat[:str,:date])(_181:str)
#      [compute](rule_bat, -2000).bat.setColumn("-2000"), 	# 343  (_182:str)
    _538 := bat.new(nil:str,nil:date);	# 344 CMDBATnew (_538:bat[:str,:date])<-(_524:str)(_525:date)
barrier (_540,_541,_542):= bat.newIterator(rule_bat);	# 345 CHPbunIterator (_540:lng)(_541:str)(_542:zrule)<-(rule_bat:bat[:str,:zrule]) jump 352
    _544 := mtime.compute(_542,-2000);	# 346 MTIMEcompute_rule_foryear (_544:date)<-(_542:zrule)(_179:int)
    bat.insert(_538,_541,_544);	# 347 BKCinsert_bun (_545:void)<-(_538:bat[:str,:date])(_541:str)(_544:date)
    redo (_540,_541,_542):= bat.hasMoreElements(rule_bat);	# 348 CHPbunHasMoreElements (_540:lng)(_541:str)(_542:zrule)<-(rule_bat:bat[:str,:zrule]) jump 346
catch MALException:str ;	# 349  (MALException:str) jump 351
    redo (_540,_541,_542):= bat.hasMoreElements(rule_bat);	# 350 CHPbunHasMoreElements (_540:lng)(_541:str)(_542:zrule)<-(rule_bat:bat[:str,:zrule]) jump 346
exit MALException:str ;	# 351  (MALException:str)
exit (_540,_541,_542);	# 352  (_540:lng)(_541:str)(_542:zrule)
    hc_a:bat[:str,:date]  := _538;	# 353  (hc_a:bat[:str,:date])<-(_538:bat[:str,:date])
    _551 := bat.new(nil:str,nil:int);	# 354 CMDBATnew (_551:bat[:str,:int])<-(_524:str)(_552:int)
barrier (_554,_555,_556):= bat.newIterator(hc_a);	# 355 CHPbunIterator (_554:lng)(_555:str)(_556:date)<-(hc_a:bat[:str,:date]) jump 362
    _558 := mtime.dayofweek(_556);	# 356 MTIMEdate_extract_dayofweek (_558:int)<-(_556:date)
    bat.insert(_551,_555,_558);	# 357 BKCinsert_bun (_559:void)<-(_551:bat[:str,:int])(_555:str)(_558:int)
    redo (_554,_555,_556):= bat.hasMoreElements(hc_a);	# 358 CHPbunHasMoreElements (_554:lng)(_555:str)(_556:date)<-(hc_a:bat[:str,:date]) jump 356
catch MALException:str ;	# 359  (MALException:str) jump 361
    redo (_554,_555,_556):= bat.hasMoreElements(hc_a);	# 360 CHPbunHasMoreElements (_554:lng)(_555:str)(_556:date)<-(hc_a:bat[:str,:date]) jump 356
exit MALException:str ;	# 361  (MALException:str)
exit (_554,_555,_556);	# 362  (_554:lng)(_555:str)(_556:date)
    ic_a:bat[:str,:int]  := _551;	# 363  (ic_a:bat[:str,:int])<-(_551:bat[:str,:int])
    _565 := bat.new(nil:str,nil:str);	# 364 CMDBATnew (_565:bat[:str,:str])<-(_566:str)(_566:str)
barrier (_568,_569,_570):= bat.newIterator(ic_a);	# 365 CHPbunIterator (_568:lng)(_569:str)(_570:int)<-(ic_a:bat[:str,:int]) jump 372
    _572 := mtime.dayname(_570);	# 366 MTIMEday_to_str (_572:str)<-(_570:int)
    bat.insert(_565,_569,_572);	# 367 BKCinsert_bun (_573:void)<-(_565:bat[:str,:str])(_569:str)(_572:str)
    redo (_568,_569,_570):= bat.hasMoreElements(ic_a);	# 368 CHPbunHasMoreElements (_568:lng)(_569:str)(_570:int)<-(ic_a:bat[:str,:int]) jump 366
catch MALException:str ;	# 369  (MALException:str) jump 371
    redo (_568,_569,_570):= bat.hasMoreElements(ic_a);	# 370 CHPbunHasMoreElements (_568:lng)(_569:str)(_570:int)<-(ic_a:bat[:str,:int]) jump 366
exit MALException:str ;	# 371  (MALException:str)
exit (_568,_569,_570);	# 372  (_568:lng)(_569:str)(_570:int)
    jc_a:bat[:str,:str]  := _565;	# 373  (jc_a:bat[:str,:str])<-(_565:bat[:str,:str])
    kc_a := bat.setColumn(jc_a,"-2000");	# 374 BKCsetColumn (kc_a:void)<-(jc_a:bat[:str,:str])(_181:str)
    io.print("rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a");	# 375 IOprint_val (_187:void)<-(_188:str)
    lc_a := io.print(rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a);	# 376 IOtable (lc_a:void)<-(rule_bat:bat[:str,:zrule])(sb_a:bat[:str,:date])(wb_a:bat[:str,:str])(yb_a:bat[:str,:date])(dc_a:bat[:str,:str])(fc_a:bat[:str,:date])(jc_a:bat[:str,:str])
#      [dayname]([dayofweek]([compute](rule_bat, -2000))).bat.setColumn("-2000")); 	# 377  (_190:str)
end main;	# 378  
[ "rule_bat,na_a,pa_a,ra_a,ta_a" ]
#---------------------------------------------------------------------------------------------------------#
# h	rule						month	weekday		day	minutes		  # name
# str	zrule						int	int		int	int		  # type
#---------------------------------------------------------------------------------------------------------#
[ "jan",  first monday from start of january@01:15,	  1,	  2,		  1,	  75		  ]
[ "feb",  nil,						  nil,	  nil,		  nil,	  nil		  ]
[ "mar",  first wednesday on or after march 10@01:15,	  3,	  -4,		  10,	  75		  ]
[ "apr",  last thursday on or before april 1@01:15,	  4,	  -5,		  -1,	  75		  ]
[ "may",  may 26@01:15,					  5,	  0,		  26,	  75		  ]
[ "jun",  second tuesday from end of june@01:15,	  6,	  3,		  -2,	  75		  ]
[ "jul",  first sunday from start of july@01:15,	  7,	  1,		  1,	  75		  ]
[ "aug",  first sunday from end of august@01:15,	  8,	  1,		  -1,	  75		  ]
[ "sep",  10th tuesday from end of september@01:15,	  9,	  3,		  -10,	  75		  ]
[ "oct",  october 31@01:15,				  10,	  0,		  31,	  75		  ]
[ "nov",  last wednesday on or before november 10@01:15,  11,	  -4,		  -10,	  75		  ]
[ "dec",  nil,						  nil,	  nil,		  nil,	  nil		  ]
[ "rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a" ]
#---------------------------------------------------------------------------------------------------------------------------------------------------------#
# лллл;	rule						2001		2001		1999		1999		1992		1992		  # name
# str	zrule						date		str		date		str		date		str		  # type
#---------------------------------------------------------------------------------------------------------------------------------------------------------#
[ "jan",  first monday from start of january@01:15,	  2001-01-01,	  "monday",	  1999-01-04,	  "monday",	  1992-01-06,	  "monday"	  ]
[ "feb",  nil,						  nil,		  nil,		  nil,		  nil,		  nil,		  nil		  ]
[ "mar",  first wednesday on or after march 10@01:15,	  2001-03-14,	  "wednesday",	  1999-03-10,	  "wednesday",	  1992-03-11,	  "wednesday"	  ]
[ "apr",  last thursday on or before april 1@01:15,	  2001-03-29,	  "thursday",	  1999-04-01,	  "thursday",	  1992-03-26,	  "thursday"	  ]
[ "may",  may 26@01:15,					  2001-05-26,	  "saturday",	  1999-05-26,	  "wednesday",	  1992-05-26,	  "tuesday"	  ]
[ "jun",  second tuesday from end of june@01:15,	  2001-06-19,	  "tuesday",	  1999-06-22,	  "tuesday",	  1992-06-23,	  "tuesday"	  ]
[ "jul",  first sunday from start of july@01:15,	  2001-07-01,	  "sunday",	  1999-07-04,	  "sunday",	  1992-07-05,	  "sunday"	  ]
[ "aug",  first sunday from end of august@01:15,	  2001-08-26,	  "sunday",	  1999-08-29,	  "sunday",	  1992-08-30,	  "sunday"	  ]
[ "sep",  10th tuesday from end of september@01:15,	  2001-07-24,	  "tuesday",	  1999-07-27,	  "tuesday",	  1992-07-28,	  "tuesday"	  ]
[ "oct",  october 31@01:15,				  2001-10-31,	  "wednesday",	  1999-10-31,	  "sunday",	  1992-10-31,	  "saturday"	  ]
[ "nov",  last wednesday on or before november 10@01:15,  2001-11-07,	  "wednesday",	  1999-11-10,	  "wednesday",	  1992-11-04,	  "wednesday"	  ]
[ "dec",  nil,						  nil,		  nil,		  nil,		  nil,		  nil,		  nil		  ]
[ "rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a" ]
#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------#
# лллллллллллллллл!	rule						1572		1572		1		1		-2000		-2000		  # name
# str			zrule						date		str		date		str		date		str		  # type
#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------#
[ "jan",		  first monday from start of january@01:15,	  1572-01-03,	  "monday",	  1-01-01,	  "monday",	  -2000-01-01,	  "monday"	  ]
[ "feb",		  nil,						  nil,		  nil,		  nil,		  nil,		  nil,		  nil		  ]
[ "mar",		  first wednesday on or after march 10@01:15,	  1572-03-15,	  "wednesday",	  1-03-14,	  "wednesday",	  -2000-03-14,	  "wednesday"	  ]
[ "apr",		  last thursday on or before april 1@01:15,	  1572-03-30,	  "thursday",	  1-03-29,	  "thursday",	  -2000-03-29,	  "thursday"	  ]
[ "may",		  may 26@01:15,					  1572-05-26,	  "friday",	  1-05-26,	  "saturday",	  -2000-05-26,	  "saturday"	  ]
[ "jun",		  second tuesday from end of june@01:15,	  1572-06-20,	  "tuesday",	  1-06-19,	  "tuesday",	  -2000-06-19,	  "tuesday"	  ]
[ "jul",		  first sunday from start of july@01:15,	  1572-07-02,	  "sunday",	  1-07-01,	  "sunday",	  -2000-07-01,	  "sunday"	  ]
[ "aug",		  first sunday from end of august@01:15,	  1572-08-27,	  "sunday",	  1-08-26,	  "sunday",	  -2000-08-26,	  "sunday"	  ]
[ "sep",		  10th tuesday from end of september@01:15,	  1572-07-25,	  "tuesday",	  1-07-24,	  "tuesday",	  -2000-07-24,	  "tuesday"	  ]
[ "oct",		  october 31@01:15,				  1572-10-31,	  "tuesday",	  1-10-31,	  "wednesday",	  -2000-10-31,	  "wednesday"	  ]
[ "nov",		  last wednesday on or before november 10@01:15,  1572-11-08,	  "wednesday",	  1-11-07,	  "wednesday",	  -2000-11-07,	  "wednesday"	  ]
[ "dec",		  nil,						  nil,		  nil,		  nil,		  nil,		  nil,		  nil		  ]

# 23:31:29 >  
# 23:31:29 >  Done.
# 23:31:29 >  

