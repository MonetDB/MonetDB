stdout of test 'tst1201` in directory 'src/mal` itself:


# 23:31:29 >  
# 23:31:29 >  Mtimeout -timeout 60 mserver5 "--config=/ufs/mk/monet5/Linux/etc/monetdb5.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5//Linux/lib/MonetDB5:/ufs/mk/monet5//Linux/lib/MonetDB5/lib:/ufs/mk/monet5//Linux/lib/MonetDB5/bin" --set "gdk_dbfarm=/ufs/mk/monet5//Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/sql_logs" --set "xquery_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/xquery_logs" --set mapi_port=35239 --set xrpc_port=40860 --set monet_prompt= --trace --dbname=mTests_src_mal  tst1201.mal
# 23:31:29 >  

# MonetDB Server v5.0.0_beta2_1
# Copyright (c) 1993-2007 CWI, all rights reserved
# Compiled for x86_64-redhat-linux-gnu/64bit with 64bit OIDs dynamically linked
# dbname:mTests_src_mal
# Visit http://monetdb.cwi.nl/ for further information
## Mil compiler Version 1.0)
## Copyright (c) 1993-2001, CWI. All rights reserved.
#
## Predefined code segment
##
###line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
##module(monettime,alarm);
##
##
##
#lzone:= mtime.timezone("GMT+1");
#mtime.timezone_local(lzone);
###line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create rules
#	rule_jan:= mtime.rule("1st MON from start of JAN@01:15");
##var rule_jan := mtime.rule("1st MON from start of JAN@01:15");
#	rule_mar:= mtime.rule("first WEDNE on or after march 10@01:15");
##var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");
#	rule_apr:= mtime.rule("last THU on or before aPr 1@01:15");
##var rule_apr := mtime.rule("last THU on or before aPr 1@01:15");
#	rule_may:= mtime.rule("MAY 26@01:15");
##var rule_may := mtime.rule("MAY 26@01:15");
#	rule_jun:= mtime.rule("2nd TUE from end of june@01:15");
##var rule_jun := mtime.rule("2nd TUE from end of june@01:15");
#	rule_jul:= mtime.rule(7,1,1,75);
##var rule_jul := mtime.rule(7,1,1,75);
#	rule_aug:= mtime.rule(8,-1,1,75);
##var rule_aug := mtime.rule(8,-1,1,75);
#	rule_sep:= mtime.rule(9,-10,3,75);
##var rule_sep := mtime.rule(9,-10,3,75);
#	rule_oct:= mtime.rule(10,31,0,75);
##var rule_oct := mtime.rule(10,31,0,75);
#	rule_nov:= mtime.rule(11,-10,-4,75);
##var rule_nov := mtime.rule(11,-10,-4,75);
### nil rules
#	rule_dec:= mtime.rule(12,-31,0,75);
##var rule_dec := mtime.rule(12,-31,0,75);
#	rule_feb:= mtime.rule("first fRiDaY on or after february 30@01:15");
##var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");
## 
#	rule_bat:= bat.new(:str,:zrule,10);
##var rule_bat := bat.new(str,rule,10);
#	bat.insert(rule_bat,"jan",rule_jan);
#	bat.insert(rule_bat,"feb",rule_feb);
#	bat.insert(rule_bat,"mar",rule_mar);
#	bat.insert(rule_bat,"apr",rule_apr);
##rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr);
#	bat.insert(rule_bat,"may",rule_may);
#	bat.insert(rule_bat,"jun",rule_jun);
#	bat.insert(rule_bat,"jul",rule_jul);
#	bat.insert(rule_bat,"aug",rule_aug);
##rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug);
#	bat.insert(rule_bat,"sep",rule_sep);
#	bat.insert(rule_bat,"oct",rule_oct);
#	bat.insert(rule_bat,"nov",rule_nov);
#	bat.insert(rule_bat,"dec",rule_dec);
##rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec);
##
### test the operations on rules
#	ma_a := bat.setColumn(rule_bat,"rule");
##io.print(rule_bat.bat.setColumn("rule"),
#	na_a:bat[:str,:int] := mal.multiplex("mtime","month",rule_bat);
#	oa_a := bat.setColumn(na_a,"month");
##      [month](rule_bat).bat.setColumn("month"),
#	pa_a:bat[:str,:int] := mal.multiplex("mtime","weekday",rule_bat);
#	qa_a := bat.setColumn(pa_a,"weekday");
##      [weekday](rule_bat).bat.setColumn("weekday"),
#	ra_a:bat[:str,:int] := mal.multiplex("mtime","day",rule_bat);
#	sa_a := bat.setColumn(ra_a,"day");
##      [day](rule_bat).bat.setColumn("day"),
#	ta_a:bat[:str,:int] := mal.multiplex("mtime","minutes",rule_bat);
#	ua_a := bat.setColumn(ta_a,"minutes");
#io.print("rule_bat,na_a,pa_a,ra_a,ta_a");
#	va_a := io.print(rule_bat,na_a,pa_a,ra_a,ta_a);
##      [minutes](rule_bat).bat.setColumn("minutes"));
##
#	bat.setColumn(rule_bat,"rule");
##io.print(rule_bat.bat.setColumn("rule"),
#	xa_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,2001);
#	ya_a := bat.setColumn(xa_a,"2001");
##      [compute](rule_bat, 2001).bat.setColumn("2001"),
#	ab_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,2001);
#	bb_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",ab_a);
#	cb_a:bat[:str,:str] := mal.multiplex("mtime","dayname",bb_a);
#	bat.setColumn(cb_a,"2001");
##      [dayname]([dayofweek]([compute](rule_bat, 2001))).bat.setColumn("2001"),
#	eb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1999);
#	bat.setColumn(eb_a,"1999");
##      [compute](rule_bat, 1999).bat.setColumn("1999"),
#	gb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1999);
#	hb_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",gb_a);
#	ib_a:bat[:str,:str] := mal.multiplex("mtime","dayname",hb_a);
#	bat.setColumn(ib_a,"1999");
##      [dayname]([dayofweek]([compute](rule_bat, 1999))).bat.setColumn("1999"),
#	kb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1992);
#	bat.setColumn(kb_a,"1992");
##      [compute](rule_bat, 1992).bat.setColumn("1992"),
#	mb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1992);
#	nb_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",mb_a);
#	ob_a:bat[:str,:str] := mal.multiplex("mtime","dayname",nb_a);
#	bat.setColumn(ob_a,"1992");
#io.print("rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a");
#	qb_a := io.print(rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a);
##      [dayname]([dayofweek]([compute](rule_bat, 1992))).bat.setColumn("1992"));
##
#	rb_a := bat.setColumn(rule_bat,"rule");
##io.print(rule_bat.bat.setColumn("rule"),
#	sb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1572);
#	tb_a := bat.setColumn(sb_a,"1572");
##      [compute](rule_bat, 1572).bat.setColumn("1572"),
#	ub_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1572);
#	vb_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",ub_a);
#	wb_a:bat[:str,:str] := mal.multiplex("mtime","dayname",vb_a);
#	xb_a := bat.setColumn(wb_a,"1572");
##      [dayname]([dayofweek]([compute](rule_bat, 1572))).bat.setColumn("1572"),
#	yb_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1);
#	ac_a := bat.setColumn(yb_a,"1");
##      [compute](rule_bat, 1).bat.setColumn("1"),
#	bc_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,1);
#	cc_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",bc_a);
#	dc_a:bat[:str,:str] := mal.multiplex("mtime","dayname",cc_a);
#	ec_a := bat.setColumn(dc_a,"1");
##      [dayname]([dayofweek]([compute](rule_bat, 1))).bat.setColumn("1"),
#	fc_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,-2000);
#	gc_a := bat.setColumn(fc_a,"-2000");
##      [compute](rule_bat, -2000).bat.setColumn("-2000"),
#	hc_a:bat[:str,:date] := mal.multiplex("mtime","compute",rule_bat,-2000);
#	ic_a:bat[:str,:int] := mal.multiplex("mtime","dayofweek",hc_a);
#	jc_a:bat[:str,:str] := mal.multiplex("mtime","dayname",ic_a);
#	kc_a := bat.setColumn(jc_a,"-2000");
#io.print("rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a");
#	lc_a := io.print(rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a);
##      [dayname]([dayofweek]([compute](rule_bat, -2000))).bat.setColumn("-2000"));
##
##
#
function user.main():void;	# 0  (main:void)
# Mil compiler Version 1.0) 	# 1  (_1:str)
# Copyright (c) 1993-2001, CWI. All rights reserved. 	# 2  (_2:str)
# Predefined code segment 	# 3  (_3:str)
##line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 4  (_4:str)
#module(monettime,alarm); 	# 5  (_5:str)
    lzone := mtime.timezone("GMT+1");	# 6 MTIMEtzone_fromstr (lzone:timezone)<-(_7:str)
    mtime.timezone_local(lzone);	# 7 MTIMEtzone_set_local (_8:void)<-(lzone:timezone)
##line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 8  (_9:str)
## test the various ways to create rules 	# 9  (_10:str)
    rule_jan := mtime.rule("1st MON from start of JAN@01:15");	# 10 MTIMErule_fromstr (rule_jan:zrule)<-(_12:str)
#var rule_jan := mtime.rule("1st MON from start of JAN@01:15"); 	# 11  (_13:str)
    rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");	# 12 MTIMErule_fromstr (rule_mar:zrule)<-(_15:str)
#var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15"); 	# 13  (_16:str)
    rule_apr := mtime.rule("last THU on or before aPr 1@01:15");	# 14 MTIMErule_fromstr (rule_apr:zrule)<-(_18:str)
#var rule_apr := mtime.rule("last THU on or before aPr 1@01:15"); 	# 15  (_19:str)
    rule_may := mtime.rule("MAY 26@01:15");	# 16 MTIMErule_fromstr (rule_may:zrule)<-(_21:str)
#var rule_may := mtime.rule("MAY 26@01:15"); 	# 17  (_22:str)
    rule_jun := mtime.rule("2nd TUE from end of june@01:15");	# 18 MTIMErule_fromstr (rule_jun:zrule)<-(_24:str)
#var rule_jun := mtime.rule("2nd TUE from end of june@01:15"); 	# 19  (_25:str)
    rule_jul := mtime.rule(7,1,1,75);	# 20 MTIMErule_create (rule_jul:zrule)<-(_27:int)(_28:int)(_28:int)(_29:int)
#var rule_jul := mtime.rule(7,1,1,75); 	# 21  (_30:str)
    rule_aug := mtime.rule(8,-1,1,75);	# 22 MTIMErule_create (rule_aug:zrule)<-(_32:int)(_33:int)(_28:int)(_29:int)
#var rule_aug := mtime.rule(8,-1,1,75); 	# 23  (_34:str)
    rule_sep := mtime.rule(9,-10,3,75);	# 24 MTIMErule_create (rule_sep:zrule)<-(_36:int)(_37:int)(_38:int)(_29:int)
#var rule_sep := mtime.rule(9,-10,3,75); 	# 25  (_39:str)
    rule_oct := mtime.rule(10,31,0,75);	# 26 MTIMErule_create (rule_oct:zrule)<-(_41:int)(_42:int)(_43:int)(_29:int)
#var rule_oct := mtime.rule(10,31,0,75); 	# 27  (_44:str)
    rule_nov := mtime.rule(11,-10,-4,75);	# 28 MTIMErule_create (rule_nov:zrule)<-(_46:int)(_37:int)(_47:int)(_29:int)
#var rule_nov := mtime.rule(11,-10,-4,75); 	# 29  (_48:str)
## nil rules 	# 30  (_49:str)
    rule_dec := mtime.rule(12,-31,0,75);	# 31 MTIMErule_create (rule_dec:zrule)<-(_51:int)(_52:int)(_43:int)(_29:int)
#var rule_dec := mtime.rule(12,-31,0,75); 	# 32  (_53:str)
    rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");	# 33 MTIMErule_fromstr (rule_feb:zrule)<-(_55:str)
#var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15"); 	# 34  (_56:str)
#  	# 35  (_57:str)
    rule_bat := bat.new(:str,:zrule,10);	# 36 CMDBATnewint (rule_bat:bat[:str,:zrule])<-(_59:str)(_60:zrule)(_41:int)
#var rule_bat := bat.new(str,rule,10); 	# 37  (_61:str)
    bat.insert(rule_bat,"jan",rule_jan);	# 38 BKCinsert_bun (_62:void)<-(rule_bat:bat[:str,:zrule])(_63:str)(rule_jan:zrule)
    bat.insert(rule_bat,"feb",rule_feb);	# 39 BKCinsert_bun (_64:void)<-(rule_bat:bat[:str,:zrule])(_65:str)(rule_feb:zrule)
    bat.insert(rule_bat,"mar",rule_mar);	# 40 BKCinsert_bun (_66:void)<-(rule_bat:bat[:str,:zrule])(_67:str)(rule_mar:zrule)
    bat.insert(rule_bat,"apr",rule_apr);	# 41 BKCinsert_bun (_68:void)<-(rule_bat:bat[:str,:zrule])(_69:str)(rule_apr:zrule)
#rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr); 	# 42  (_70:str)
    bat.insert(rule_bat,"may",rule_may);	# 43 BKCinsert_bun (_71:void)<-(rule_bat:bat[:str,:zrule])(_72:str)(rule_may:zrule)
    bat.insert(rule_bat,"jun",rule_jun);	# 44 BKCinsert_bun (_73:void)<-(rule_bat:bat[:str,:zrule])(_74:str)(rule_jun:zrule)
    bat.insert(rule_bat,"jul",rule_jul);	# 45 BKCinsert_bun (_75:void)<-(rule_bat:bat[:str,:zrule])(_76:str)(rule_jul:zrule)
    bat.insert(rule_bat,"aug",rule_aug);	# 46 BKCinsert_bun (_77:void)<-(rule_bat:bat[:str,:zrule])(_78:str)(rule_aug:zrule)
#rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug); 	# 47  (_79:str)
    bat.insert(rule_bat,"sep",rule_sep);	# 48 BKCinsert_bun (_80:void)<-(rule_bat:bat[:str,:zrule])(_81:str)(rule_sep:zrule)
    bat.insert(rule_bat,"oct",rule_oct);	# 49 BKCinsert_bun (_82:void)<-(rule_bat:bat[:str,:zrule])(_83:str)(rule_oct:zrule)
    bat.insert(rule_bat,"nov",rule_nov);	# 50 BKCinsert_bun (_84:void)<-(rule_bat:bat[:str,:zrule])(_85:str)(rule_nov:zrule)
    bat.insert(rule_bat,"dec",rule_dec);	# 51 BKCinsert_bun (_86:void)<-(rule_bat:bat[:str,:zrule])(_87:str)(rule_dec:zrule)
#rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec); 	# 52  (_88:str)
## test the operations on rules 	# 53  (_89:str)
    ma_a := bat.setColumn(rule_bat,"rule");	# 54 BKCsetColumn (ma_a:void)<-(rule_bat:bat[:str,:zrule])(_91:str)
#io.print(rule_bat.bat.setColumn("rule"), 	# 55  (_92:str)
    _192 := bat.new(nil:str,nil:int);	# 56 CMDBATnew (_192:bat[:str,:int])<-(_193:str)(_194:int)
barrier (_196,_197,_198):= bat.newIterator(rule_bat);	# 57 CHPbunIterator (_196:lng)(_197:str)(_198:zrule)<-(rule_bat:bat[:str,:zrule]) jump 64
    _200 := mtime.month(_198);	# 58 MTIMErule_extract_month (_200:int)<-(_198:zrule)
    bat.insert(_192,_197,_200);	# 59 BKCinsert_bun (_201:void)<-(_192:bat[:str,:int])(_197:str)(_200:int)
    redo (_196,_197,_198):= bat.hasMoreElements(rule_bat);	# 60 CHPbunHasMoreElements (_196:lng)(_197:str)(_198:zrule)<-(rule_bat:bat[:str,:zrule]) jump 58
catch MALException:str ;	# 61  (MALException:str) jump 63
    redo (_196,_197,_198):= bat.hasMoreElements(rule_bat);	# 62 CHPbunHasMoreElements (_196:lng)(_197:str)(_198:zrule)<-(rule_bat:bat[:str,:zrule]) jump 58
exit MALException:str ;	# 63  (MALException:str)
exit (_196,_197,_198);	# 64  (_196:lng)(_197:str)(_198:zrule)
    na_a:bat[:str,:int]  := _192;	# 65  (na_a:bat[:str,:int])<-(_192:bat[:str,:int])
    oa_a := bat.setColumn(na_a,"month");	# 66 BKCsetColumn (oa_a:void)<-(na_a:bat[:str,:int])(_95:str)
#      [month](rule_bat).bat.setColumn("month"), 	# 67  (_97:str)
    _207 := bat.new(nil:str,nil:int);	# 68 CMDBATnew (_207:bat[:str,:int])<-(_193:str)(_194:int)
barrier (_209,_210,_211):= bat.newIterator(rule_bat);	# 69 CHPbunIterator (_209:lng)(_210:str)(_211:zrule)<-(rule_bat:bat[:str,:zrule]) jump 76
    _213 := mtime.weekday(_211);	# 70 MTIMErule_extract_weekday (_213:int)<-(_211:zrule)
    bat.insert(_207,_210,_213);	# 71 BKCinsert_bun (_214:void)<-(_207:bat[:str,:int])(_210:str)(_213:int)
    redo (_209,_210,_211):= bat.hasMoreElements(rule_bat);	# 72 CHPbunHasMoreElements (_209:lng)(_210:str)(_211:zrule)<-(rule_bat:bat[:str,:zrule]) jump 70
catch MALException:str ;	# 73  (MALException:str) jump 75
    redo (_209,_210,_211):= bat.hasMoreElements(rule_bat);	# 74 CHPbunHasMoreElements (_209:lng)(_210:str)(_211:zrule)<-(rule_bat:bat[:str,:zrule]) jump 70
exit MALException:str ;	# 75  (MALException:str)
exit (_209,_210,_211);	# 76  (_209:lng)(_210:str)(_211:zrule)
    pa_a:bat[:str,:int]  := _207;	# 77  (pa_a:bat[:str,:int])<-(_207:bat[:str,:int])
    qa_a := bat.setColumn(pa_a,"weekday");	# 78 BKCsetColumn (qa_a:void)<-(pa_a:bat[:str,:int])(_99:str)
#      [weekday](rule_bat).bat.setColumn("weekday"), 	# 79  (_101:str)
    _220 := bat.new(nil:str,nil:int);	# 80 CMDBATnew (_220:bat[:str,:int])<-(_193:str)(_194:int)
barrier (_222,_223,_224):= bat.newIterator(rule_bat);	# 81 CHPbunIterator (_222:lng)(_223:str)(_224:zrule)<-(rule_bat:bat[:str,:zrule]) jump 88
    _226 := mtime.day(_224);	# 82 MTIMErule_extract_day (_226:int)<-(_224:zrule)
    bat.insert(_220,_223,_226);	# 83 BKCinsert_bun (_227:void)<-(_220:bat[:str,:int])(_223:str)(_226:int)
    redo (_222,_223,_224):= bat.hasMoreElements(rule_bat);	# 84 CHPbunHasMoreElements (_222:lng)(_223:str)(_224:zrule)<-(rule_bat:bat[:str,:zrule]) jump 82
catch MALException:str ;	# 85  (MALException:str) jump 87
    redo (_222,_223,_224):= bat.hasMoreElements(rule_bat);	# 86 CHPbunHasMoreElements (_222:lng)(_223:str)(_224:zrule)<-(rule_bat:bat[:str,:zrule]) jump 82
exit MALException:str ;	# 87  (MALException:str)
exit (_222,_223,_224);	# 88  (_222:lng)(_223:str)(_224:zrule)
    ra_a:bat[:str,:int]  := _220;	# 89  (ra_a:bat[:str,:int])<-(_220:bat[:str,:int])
    sa_a := bat.setColumn(ra_a,"day");	# 90 BKCsetColumn (sa_a:void)<-(ra_a:bat[:str,:int])(_103:str)
#      [day](rule_bat).bat.setColumn("day"), 	# 91  (_105:str)
    _233 := bat.new(nil:str,nil:int);	# 92 CMDBATnew (_233:bat[:str,:int])<-(_234:str)(_235:int)
barrier (_237,_238,_239):= bat.newIterator(rule_bat);	# 93 CHPbunIterator (_237:lng)(_238:str)(_239:zrule)<-(rule_bat:bat[:str,:zrule]) jump 100
    _241 := mtime.minutes(_239);	# 94 MTIMErule_extract_minutes (_241:int)<-(_239:zrule)
    bat.insert(_233,_238,_241);	# 95 BKCinsert_bun (_242:void)<-(_233:bat[:str,:int])(_238:str)(_241:int)
    redo (_237,_238,_239):= bat.hasMoreElements(rule_bat);	# 96 CHPbunHasMoreElements (_237:lng)(_238:str)(_239:zrule)<-(rule_bat:bat[:str,:zrule]) jump 94
catch MALException:str ;	# 97  (MALException:str) jump 99
    redo (_237,_238,_239):= bat.hasMoreElements(rule_bat);	# 98 CHPbunHasMoreElements (_237:lng)(_238:str)(_239:zrule)<-(rule_bat:bat[:str,:zrule]) jump 94
exit MALException:str ;	# 99  (MALException:str)
exit (_237,_238,_239);	# 100  (_237:lng)(_238:str)(_239:zrule)
    ta_a:bat[:str,:int]  := _233;	# 101  (ta_a:bat[:str,:int])<-(_233:bat[:str,:int])
    ua_a := bat.setColumn(ta_a,"minutes");	# 102 BKCsetColumn (ua_a:void)<-(ta_a:bat[:str,:int])(_107:str)
    io.print("rule_bat,na_a,pa_a,ra_a,ta_a");	# 103 IOprint_val (_109:void)<-(_110:str)
    va_a := io.print(rule_bat,na_a,pa_a,ra_a,ta_a);	# 104 IOtable (va_a:void)<-(rule_bat:bat[:str,:zrule])(na_a:bat[:str,:int])(pa_a:bat[:str,:int])(ra_a:bat[:str,:int])(ta_a:bat[:str,:int])
#      [minutes](rule_bat).bat.setColumn("minutes")); 	# 105  (_112:str)
    bat.setColumn(rule_bat,"rule");	# 106 BKCsetColumn (_113:void)<-(rule_bat:bat[:str,:zrule])(_91:str)
#io.print(rule_bat.bat.setColumn("rule"), 	# 107  (_114:str)
    _248 := bat.new(nil:str,nil:date);	# 108 CMDBATnew (_248:bat[:str,:date])<-(_234:str)(_249:date)
barrier (_251,_252,_253):= bat.newIterator(rule_bat);	# 109 CHPbunIterator (_251:lng)(_252:str)(_253:zrule)<-(rule_bat:bat[:str,:zrule]) jump 116
    _255 := mtime.compute(_253,2001);	# 110 MTIMEcompute_rule_foryear (_255:date)<-(_253:zrule)(_117:int)
    bat.insert(_248,_252,_255);	# 111 BKCinsert_bun (_256:void)<-(_248:bat[:str,:date])(_252:str)(_255:date)
    redo (_251,_252,_253):= bat.hasMoreElements(rule_bat);	# 112 CHPbunHasMoreElements (_251:lng)(_252:str)(_253:zrule)<-(rule_bat:bat[:str,:zrule]) jump 110
catch MALException:str ;	# 113  (MALException:str) jump 115
    redo (_251,_252,_253):= bat.hasMoreElements(rule_bat);	# 114 CHPbunHasMoreElements (_251:lng)(_252:str)(_253:zrule)<-(rule_bat:bat[:str,:zrule]) jump 110
exit MALException:str ;	# 115  (MALException:str)
exit (_251,_252,_253);	# 116  (_251:lng)(_252:str)(_253:zrule)
    xa_a:bat[:str,:date]  := _248;	# 117  (xa_a:bat[:str,:date])<-(_248:bat[:str,:date])
    ya_a := bat.setColumn(xa_a,"2001");	# 118 BKCsetColumn (ya_a:void)<-(xa_a:bat[:str,:date])(_119:str)
#      [compute](rule_bat, 2001).bat.setColumn("2001"), 	# 119  (_120:str)
    _262 := bat.new(nil:str,nil:date);	# 120 CMDBATnew (_262:bat[:str,:date])<-(_234:str)(_249:date)
barrier (_264,_265,_266):= bat.newIterator(rule_bat);	# 121 CHPbunIterator (_264:lng)(_265:str)(_266:zrule)<-(rule_bat:bat[:str,:zrule]) jump 128
    _268 := mtime.compute(_266,2001);	# 122 MTIMEcompute_rule_foryear (_268:date)<-(_266:zrule)(_117:int)
    bat.insert(_262,_265,_268);	# 123 BKCinsert_bun (_269:void)<-(_262:bat[:str,:date])(_265:str)(_268:date)
    redo (_264,_265,_266):= bat.hasMoreElements(rule_bat);	# 124 CHPbunHasMoreElements (_264:lng)(_265:str)(_266:zrule)<-(rule_bat:bat[:str,:zrule]) jump 122
catch MALException:str ;	# 125  (MALException:str) jump 127
    redo (_264,_265,_266):= bat.hasMoreElements(rule_bat);	# 126 CHPbunHasMoreElements (_264:lng)(_265:str)(_266:zrule)<-(rule_bat:bat[:str,:zrule]) jump 122
exit MALException:str ;	# 127  (MALException:str)
exit (_264,_265,_266);	# 128  (_264:lng)(_265:str)(_266:zrule)
    ab_a:bat[:str,:date]  := _262;	# 129  (ab_a:bat[:str,:date])<-(_262:bat[:str,:date])
    _275 := bat.new(nil:str,nil:int);	# 130 CMDBATnew (_275:bat[:str,:int])<-(_276:str)(_277:int)
barrier (_279,_280,_281):= bat.newIterator(ab_a);	# 131 CHPbunIterator (_279:lng)(_280:str)(_281:date)<-(ab_a:bat[:str,:date]) jump 138
    _283 := mtime.dayofweek(_281);	# 132 MTIMEdate_extract_dayofweek (_283:int)<-(_281:date)
    bat.insert(_275,_280,_283);	# 133 BKCinsert_bun (_284:void)<-(_275:bat[:str,:int])(_280:str)(_283:int)
    redo (_279,_280,_281):= bat.hasMoreElements(ab_a);	# 134 CHPbunHasMoreElements (_279:lng)(_280:str)(_281:date)<-(ab_a:bat[:str,:date]) jump 132
catch MALException:str ;	# 135  (MALException:str) jump 137
    redo (_279,_280,_281):= bat.hasMoreElements(ab_a);	# 136 CHPbunHasMoreElements (_279:lng)(_280:str)(_281:date)<-(ab_a:bat[:str,:date]) jump 132
exit MALException:str ;	# 137  (MALException:str)
exit (_279,_280,_281);	# 138  (_279:lng)(_280:str)(_281:date)
    bb_a:bat[:str,:int]  := _275;	# 139  (bb_a:bat[:str,:int])<-(_275:bat[:str,:int])
    _290 := bat.new(nil:str,nil:str);	# 140 CMDBATnew (_290:bat[:str,:str])<-(_276:str)(_276:str)
barrier (_292,_293,_294):= bat.newIterator(bb_a);	# 141 CHPbunIterator (_292:lng)(_293:str)(_294:int)<-(bb_a:bat[:str,:int]) jump 148
    _296 := mtime.dayname(_294);	# 142 MTIMEday_to_str (_296:str)<-(_294:int)
    bat.insert(_290,_293,_296);	# 143 BKCinsert_bun (_297:void)<-(_290:bat[:str,:str])(_293:str)(_296:str)
    redo (_292,_293,_294):= bat.hasMoreElements(bb_a);	# 144 CHPbunHasMoreElements (_292:lng)(_293:str)(_294:int)<-(bb_a:bat[:str,:int]) jump 142
catch MALException:str ;	# 145  (MALException:str) jump 147
    redo (_292,_293,_294):= bat.hasMoreElements(bb_a);	# 146 CHPbunHasMoreElements (_292:lng)(_293:str)(_294:int)<-(bb_a:bat[:str,:int]) jump 142
exit MALException:str ;	# 147  (MALException:str)
exit (_292,_293,_294);	# 148  (_292:lng)(_293:str)(_294:int)
    cb_a:bat[:str,:str]  := _290;	# 149  (cb_a:bat[:str,:str])<-(_290:bat[:str,:str])
    bat.setColumn(cb_a,"2001");	# 150 BKCsetColumn (_126:void)<-(cb_a:bat[:str,:str])(_119:str)
#      [dayname]([dayofweek]([compute](rule_bat, 2001))).bat.setColumn("2001"), 	# 151  (_127:str)
    _303 := bat.new(nil:str,nil:date);	# 152 CMDBATnew (_303:bat[:str,:date])<-(_276:str)(_304:date)
barrier (_306,_307,_308):= bat.newIterator(rule_bat);	# 153 CHPbunIterator (_306:lng)(_307:str)(_308:zrule)<-(rule_bat:bat[:str,:zrule]) jump 160
    _310 := mtime.compute(_308,1999);	# 154 MTIMEcompute_rule_foryear (_310:date)<-(_308:zrule)(_130:int)
    bat.insert(_303,_307,_310);	# 155 BKCinsert_bun (_311:void)<-(_303:bat[:str,:date])(_307:str)(_310:date)
    redo (_306,_307,_308):= bat.hasMoreElements(rule_bat);	# 156 CHPbunHasMoreElements (_306:lng)(_307:str)(_308:zrule)<-(rule_bat:bat[:str,:zrule]) jump 154
catch MALException:str ;	# 157  (MALException:str) jump 159
    redo (_306,_307,_308):= bat.hasMoreElements(rule_bat);	# 158 CHPbunHasMoreElements (_306:lng)(_307:str)(_308:zrule)<-(rule_bat:bat[:str,:zrule]) jump 154
exit MALException:str ;	# 159  (MALException:str)
exit (_306,_307,_308);	# 160  (_306:lng)(_307:str)(_308:zrule)
    eb_a:bat[:str,:date]  := _303;	# 161  (eb_a:bat[:str,:date])<-(_303:bat[:str,:date])
    bat.setColumn(eb_a,"1999");	# 162 BKCsetColumn (_131:void)<-(eb_a:bat[:str,:date])(_132:str)
#      [compute](rule_bat, 1999).bat.setColumn("1999"), 	# 163  (_133:str)
    _317 := bat.new(nil:str,nil:date);	# 164 CMDBATnew (_317:bat[:str,:date])<-(_318:str)(_304:date)
barrier (_320,_321,_322):= bat.newIterator(rule_bat);	# 165 CHPbunIterator (_320:lng)(_321:str)(_322:zrule)<-(rule_bat:bat[:str,:zrule]) jump 172
    _324 := mtime.compute(_322,1999);	# 166 MTIMEcompute_rule_foryear (_324:date)<-(_322:zrule)(_130:int)
    bat.insert(_317,_321,_324);	# 167 BKCinsert_bun (_325:void)<-(_317:bat[:str,:date])(_321:str)(_324:date)
    redo (_320,_321,_322):= bat.hasMoreElements(rule_bat);	# 168 CHPbunHasMoreElements (_320:lng)(_321:str)(_322:zrule)<-(rule_bat:bat[:str,:zrule]) jump 166
catch MALException:str ;	# 169  (MALException:str) jump 171
    redo (_320,_321,_322):= bat.hasMoreElements(rule_bat);	# 170 CHPbunHasMoreElements (_320:lng)(_321:str)(_322:zrule)<-(rule_bat:bat[:str,:zrule]) jump 166
exit MALException:str ;	# 171  (MALException:str)
exit (_320,_321,_322);	# 172  (_320:lng)(_321:str)(_322:zrule)
    gb_a:bat[:str,:date]  := _317;	# 173  (gb_a:bat[:str,:date])<-(_317:bat[:str,:date])
    _331 := bat.new(nil:str,nil:int);	# 174 CMDBATnew (_331:bat[:str,:int])<-(_318:str)(_332:int)
barrier (_334,_335,_336):= bat.newIterator(gb_a);	# 175 CHPbunIterator (_334:lng)(_335:str)(_336:date)<-(gb_a:bat[:str,:date]) jump 182
    _338 := mtime.dayofweek(_336);	# 176 MTIMEdate_extract_dayofweek (_338:int)<-(_336:date)
    bat.insert(_331,_335,_338);	# 177 BKCinsert_bun (_339:void)<-(_331:bat[:str,:int])(_335:str)(_338:int)
    redo (_334,_335,_336):= bat.hasMoreElements(gb_a);	# 178 CHPbunHasMoreElements (_334:lng)(_335:str)(_336:date)<-(gb_a:bat[:str,:date]) jump 176
catch MALException:str ;	# 179  (MALException:str) jump 181
    redo (_334,_335,_336):= bat.hasMoreElements(gb_a);	# 180 CHPbunHasMoreElements (_334:lng)(_335:str)(_336:date)<-(gb_a:bat[:str,:date]) jump 176
exit MALException:str ;	# 181  (MALException:str)
exit (_334,_335,_336);	# 182  (_334:lng)(_335:str)(_336:date)
    hb_a:bat[:str,:int]  := _331;	# 183  (hb_a:bat[:str,:int])<-(_331:bat[:str,:int])
    _345 := bat.new(nil:str,nil:str);	# 184 CMDBATnew (_345:bat[:str,:str])<-(_318:str)(_318:str)
barrier (_347,_348,_349):= bat.newIterator(hb_a);	# 185 CHPbunIterator (_347:lng)(_348:str)(_349:int)<-(hb_a:bat[:str,:int]) jump 192
    _351 := mtime.dayname(_349);	# 186 MTIMEday_to_str (_351:str)<-(_349:int)
    bat.insert(_345,_348,_351);	# 187 BKCinsert_bun (_352:void)<-(_345:bat[:str,:str])(_348:str)(_351:str)
    redo (_347,_348,_349):= bat.hasMoreElements(hb_a);	# 188 CHPbunHasMoreElements (_347:lng)(_348:str)(_349:int)<-(hb_a:bat[:str,:int]) jump 186
catch MALException:str ;	# 189  (MALException:str) jump 191
    redo (_347,_348,_349):= bat.hasMoreElements(hb_a);	# 190 CHPbunHasMoreElements (_347:lng)(_348:str)(_349:int)<-(hb_a:bat[:str,:int]) jump 186
exit MALException:str ;	# 191  (MALException:str)
exit (_347,_348,_349);	# 192  (_347:lng)(_348:str)(_349:int)
    ib_a:bat[:str,:str]  := _345;	# 193  (ib_a:bat[:str,:str])<-(_345:bat[:str,:str])
    bat.setColumn(ib_a,"1999");	# 194 BKCsetColumn (_137:void)<-(ib_a:bat[:str,:str])(_132:str)
#      [dayname]([dayofweek]([compute](rule_bat, 1999))).bat.setColumn("1999"), 	# 195  (_138:str)
    _358 := bat.new(nil:str,nil:date);	# 196 CMDBATnew (_358:bat[:str,:date])<-(_359:str)(_360:date)
barrier (_362,_363,_364):= bat.newIterator(rule_bat);	# 197 CHPbunIterator (_362:lng)(_363:str)(_364:zrule)<-(rule_bat:bat[:str,:zrule]) jump 204
    _366 := mtime.compute(_364,1992);	# 198 MTIMEcompute_rule_foryear (_366:date)<-(_364:zrule)(_140:int)
    bat.insert(_358,_363,_366);	# 199 BKCinsert_bun (_367:void)<-(_358:bat[:str,:date])(_363:str)(_366:date)
    redo (_362,_363,_364):= bat.hasMoreElements(rule_bat);	# 200 CHPbunHasMoreElements (_362:lng)(_363:str)(_364:zrule)<-(rule_bat:bat[:str,:zrule]) jump 198
catch MALException:str ;	# 201  (MALException:str) jump 203
    redo (_362,_363,_364):= bat.hasMoreElements(rule_bat);	# 202 CHPbunHasMoreElements (_362:lng)(_363:str)(_364:zrule)<-(rule_bat:bat[:str,:zrule]) jump 198
exit MALException:str ;	# 203  (MALException:str)
exit (_362,_363,_364);	# 204  (_362:lng)(_363:str)(_364:zrule)
    kb_a:bat[:str,:date]  := _358;	# 205  (kb_a:bat[:str,:date])<-(_358:bat[:str,:date])
    bat.setColumn(kb_a,"1992");	# 206 BKCsetColumn (_141:void)<-(kb_a:bat[:str,:date])(_142:str)
#      [compute](rule_bat, 1992).bat.setColumn("1992"), 	# 207  (_143:str)
    _373 := bat.new(nil:str,nil:date);	# 208 CMDBATnew (_373:bat[:str,:date])<-(_359:str)(_360:date)
barrier (_375,_376,_377):= bat.newIterator(rule_bat);	# 209 CHPbunIterator (_375:lng)(_376:str)(_377:zrule)<-(rule_bat:bat[:str,:zrule]) jump 216
    _379 := mtime.compute(_377,1992);	# 210 MTIMEcompute_rule_foryear (_379:date)<-(_377:zrule)(_140:int)
    bat.insert(_373,_376,_379);	# 211 BKCinsert_bun (_380:void)<-(_373:bat[:str,:date])(_376:str)(_379:date)
    redo (_375,_376,_377):= bat.hasMoreElements(rule_bat);	# 212 CHPbunHasMoreElements (_375:lng)(_376:str)(_377:zrule)<-(rule_bat:bat[:str,:zrule]) jump 210
catch MALException:str ;	# 213  (MALException:str) jump 215
    redo (_375,_376,_377):= bat.hasMoreElements(rule_bat);	# 214 CHPbunHasMoreElements (_375:lng)(_376:str)(_377:zrule)<-(rule_bat:bat[:str,:zrule]) jump 210
exit MALException:str ;	# 215  (MALException:str)
exit (_375,_376,_377);	# 216  (_375:lng)(_376:str)(_377:zrule)
    mb_a:bat[:str,:date]  := _373;	# 217  (mb_a:bat[:str,:date])<-(_373:bat[:str,:date])
    _386 := bat.new(nil:str,nil:int);	# 218 CMDBATnew (_386:bat[:str,:int])<-(_359:str)(_387:int)
barrier (_389,_390,_391):= bat.newIterator(mb_a);	# 219 CHPbunIterator (_389:lng)(_390:str)(_391:date)<-(mb_a:bat[:str,:date]) jump 226
    _393 := mtime.dayofweek(_391);	# 220 MTIMEdate_extract_dayofweek (_393:int)<-(_391:date)
    bat.insert(_386,_390,_393);	# 221 BKCinsert_bun (_394:void)<-(_386:bat[:str,:int])(_390:str)(_393:int)
    redo (_389,_390,_391):= bat.hasMoreElements(mb_a);	# 222 CHPbunHasMoreElements (_389:lng)(_390:str)(_391:date)<-(mb_a:bat[:str,:date]) jump 220
catch MALException:str ;	# 223  (MALException:str) jump 225
    redo (_389,_390,_391):= bat.hasMoreElements(mb_a);	# 224 CHPbunHasMoreElements (_389:lng)(_390:str)(_391:date)<-(mb_a:bat[:str,:date]) jump 220
exit MALException:str ;	# 225  (MALException:str)
exit (_389,_390,_391);	# 226  (_389:lng)(_390:str)(_391:date)
    nb_a:bat[:str,:int]  := _386;	# 227  (nb_a:bat[:str,:int])<-(_386:bat[:str,:int])
    _400 := bat.new(nil:str,nil:str);	# 228 CMDBATnew (_400:bat[:str,:str])<-(_401:str)(_401:str)
barrier (_403,_404,_405):= bat.newIterator(nb_a);	# 229 CHPbunIterator (_403:lng)(_404:str)(_405:int)<-(nb_a:bat[:str,:int]) jump 236
    _407 := mtime.dayname(_405);	# 230 MTIMEday_to_str (_407:str)<-(_405:int)
    bat.insert(_400,_404,_407);	# 231 BKCinsert_bun (_408:void)<-(_400:bat[:str,:str])(_404:str)(_407:str)
    redo (_403,_404,_405):= bat.hasMoreElements(nb_a);	# 232 CHPbunHasMoreElements (_403:lng)(_404:str)(_405:int)<-(nb_a:bat[:str,:int]) jump 230
catch MALException:str ;	# 233  (MALException:str) jump 235
    redo (_403,_404,_405):= bat.hasMoreElements(nb_a);	# 234 CHPbunHasMoreElements (_403:lng)(_404:str)(_405:int)<-(nb_a:bat[:str,:int]) jump 230
exit MALException:str ;	# 235  (MALException:str)
exit (_403,_404,_405);	# 236  (_403:lng)(_404:str)(_405:int)
    ob_a:bat[:str,:str]  := _400;	# 237  (ob_a:bat[:str,:str])<-(_400:bat[:str,:str])
    bat.setColumn(ob_a,"1992");	# 238 BKCsetColumn (_147:void)<-(ob_a:bat[:str,:str])(_142:str)
    io.print("rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a");	# 239 IOprint_val (_148:void)<-(_149:str)
    qb_a := io.print(rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a);	# 240 IOtable (qb_a:void)<-(rule_bat:bat[:str,:zrule])(xa_a:bat[:str,:date])(cb_a:bat[:str,:str])(eb_a:bat[:str,:date])(ib_a:bat[:str,:str])(kb_a:bat[:str,:date])(ob_a:bat[:str,:str])
#      [dayname]([dayofweek]([compute](rule_bat, 1992))).bat.setColumn("1992")); 	# 241  (_151:str)
    rb_a := bat.setColumn(rule_bat,"rule");	# 242 BKCsetColumn (rb_a:void)<-(rule_bat:bat[:str,:zrule])(_153:str)
#io.print(rule_bat.bat.setColumn("rule"), 	# 243  (_154:str)
    _414 := bat.new(nil:str,nil:date);	# 244 CMDBATnew (_414:bat[:str,:date])<-(_401:str)(_415:date)
barrier (_417,_418,_419):= bat.newIterator(rule_bat);	# 245 CHPbunIterator (_417:lng)(_418:str)(_419:zrule)<-(rule_bat:bat[:str,:zrule]) jump 252
    _421 := mtime.compute(_419,1572);	# 246 MTIMEcompute_rule_foryear (_421:date)<-(_419:zrule)(_157:int)
    bat.insert(_414,_418,_421);	# 247 BKCinsert_bun (_422:void)<-(_414:bat[:str,:date])(_418:str)(_421:date)
    redo (_417,_418,_419):= bat.hasMoreElements(rule_bat);	# 248 CHPbunHasMoreElements (_417:lng)(_418:str)(_419:zrule)<-(rule_bat:bat[:str,:zrule]) jump 246
catch MALException:str ;	# 249  (MALException:str) jump 251
    redo (_417,_418,_419):= bat.hasMoreElements(rule_bat);	# 250 CHPbunHasMoreElements (_417:lng)(_418:str)(_419:zrule)<-(rule_bat:bat[:str,:zrule]) jump 246
exit MALException:str ;	# 251  (MALException:str)
exit (_417,_418,_419);	# 252  (_417:lng)(_418:str)(_419:zrule)
    sb_a:bat[:str,:date]  := _414;	# 253  (sb_a:bat[:str,:date])<-(_414:bat[:str,:date])
    tb_a := bat.setColumn(sb_a,"1572");	# 254 BKCsetColumn (tb_a:void)<-(sb_a:bat[:str,:date])(_159:str)
#      [compute](rule_bat, 1572).bat.setColumn("1572"), 	# 255  (_160:str)
    _428 := bat.new(nil:str,nil:date);	# 256 CMDBATnew (_428:bat[:str,:date])<-(_401:str)(_415:date)
barrier (_430,_431,_432):= bat.newIterator(rule_bat);	# 257 CHPbunIterator (_430:lng)(_431:str)(_432:zrule)<-(rule_bat:bat[:str,:zrule]) jump 264
    _434 := mtime.compute(_432,1572);	# 258 MTIMEcompute_rule_foryear (_434:date)<-(_432:zrule)(_157:int)
    bat.insert(_428,_431,_434);	# 259 BKCinsert_bun (_435:void)<-(_428:bat[:str,:date])(_431:str)(_434:date)
    redo (_430,_431,_432):= bat.hasMoreElements(rule_bat);	# 260 CHPbunHasMoreElements (_430:lng)(_431:str)(_432:zrule)<-(rule_bat:bat[:str,:zrule]) jump 258
catch MALException:str ;	# 261  (MALException:str) jump 263
    redo (_430,_431,_432):= bat.hasMoreElements(rule_bat);	# 262 CHPbunHasMoreElements (_430:lng)(_431:str)(_432:zrule)<-(rule_bat:bat[:str,:zrule]) jump 258
exit MALException:str ;	# 263  (MALException:str)
exit (_430,_431,_432);	# 264  (_430:lng)(_431:str)(_432:zrule)
    ub_a:bat[:str,:date]  := _428;	# 265  (ub_a:bat[:str,:date])<-(_428:bat[:str,:date])
    _441 := bat.new(nil:str,nil:int);	# 266 CMDBATnew (_441:bat[:str,:int])<-(_442:str)(_443:int)
barrier (_445,_446,_447):= bat.newIterator(ub_a);	# 267 CHPbunIterator (_445:lng)(_446:str)(_447:date)<-(ub_a:bat[:str,:date]) jump 274
    _449 := mtime.dayofweek(_447);	# 268 MTIMEdate_extract_dayofweek (_449:int)<-(_447:date)
    bat.insert(_441,_446,_449);	# 269 BKCinsert_bun (_450:void)<-(_441:bat[:str,:int])(_446:str)(_449:int)
    redo (_445,_446,_447):= bat.hasMoreElements(ub_a);	# 270 CHPbunHasMoreElements (_445:lng)(_446:str)(_447:date)<-(ub_a:bat[:str,:date]) jump 268
catch MALException:str ;	# 271  (MALException:str) jump 273
    redo (_445,_446,_447):= bat.hasMoreElements(ub_a);	# 272 CHPbunHasMoreElements (_445:lng)(_446:str)(_447:date)<-(ub_a:bat[:str,:date]) jump 268
exit MALException:str ;	# 273  (MALException:str)
exit (_445,_446,_447);	# 274  (_445:lng)(_446:str)(_447:date)
    vb_a:bat[:str,:int]  := _441;	# 275  (vb_a:bat[:str,:int])<-(_441:bat[:str,:int])
    _456 := bat.new(nil:str,nil:str);	# 276 CMDBATnew (_456:bat[:str,:str])<-(_442:str)(_442:str)
barrier (_458,_459,_460):= bat.newIterator(vb_a);	# 277 CHPbunIterator (_458:lng)(_459:str)(_460:int)<-(vb_a:bat[:str,:int]) jump 284
    _462 := mtime.dayname(_460);	# 278 MTIMEday_to_str (_462:str)<-(_460:int)
    bat.insert(_456,_459,_462);	# 279 BKCinsert_bun (_463:void)<-(_456:bat[:str,:str])(_459:str)(_462:str)
    redo (_458,_459,_460):= bat.hasMoreElements(vb_a);	# 280 CHPbunHasMoreElements (_458:lng)(_459:str)(_460:int)<-(vb_a:bat[:str,:int]) jump 278
catch MALException:str ;	# 281  (MALException:str) jump 283
    redo (_458,_459,_460):= bat.hasMoreElements(vb_a);	# 282 CHPbunHasMoreElements (_458:lng)(_459:str)(_460:int)<-(vb_a:bat[:str,:int]) jump 278
exit MALException:str ;	# 283  (MALException:str)
exit (_458,_459,_460);	# 284  (_458:lng)(_459:str)(_460:int)
    wb_a:bat[:str,:str]  := _456;	# 285  (wb_a:bat[:str,:str])<-(_456:bat[:str,:str])
    xb_a := bat.setColumn(wb_a,"1572");	# 286 BKCsetColumn (xb_a:void)<-(wb_a:bat[:str,:str])(_159:str)
#      [dayname]([dayofweek]([compute](rule_bat, 1572))).bat.setColumn("1572"), 	# 287  (_168:str)
    _469 := bat.new(nil:str,nil:date);	# 288 CMDBATnew (_469:bat[:str,:date])<-(_442:str)(_470:date)
barrier (_472,_473,_474):= bat.newIterator(rule_bat);	# 289 CHPbunIterator (_472:lng)(_473:str)(_474:zrule)<-(rule_bat:bat[:str,:zrule]) jump 296
    _476 := mtime.compute(_474,1);	# 290 MTIMEcompute_rule_foryear (_476:date)<-(_474:zrule)(_170:int)
    bat.insert(_469,_473,_476);	# 291 BKCinsert_bun (_477:void)<-(_469:bat[:str,:date])(_473:str)(_476:date)
    redo (_472,_473,_474):= bat.hasMoreElements(rule_bat);	# 292 CHPbunHasMoreElements (_472:lng)(_473:str)(_474:zrule)<-(rule_bat:bat[:str,:zrule]) jump 290
catch MALException:str ;	# 293  (MALException:str) jump 295
    redo (_472,_473,_474):= bat.hasMoreElements(rule_bat);	# 294 CHPbunHasMoreElements (_472:lng)(_473:str)(_474:zrule)<-(rule_bat:bat[:str,:zrule]) jump 290
exit MALException:str ;	# 295  (MALException:str)
exit (_472,_473,_474);	# 296  (_472:lng)(_473:str)(_474:zrule)
    yb_a:bat[:str,:date]  := _469;	# 297  (yb_a:bat[:str,:date])<-(_469:bat[:str,:date])
    ac_a := bat.setColumn(yb_a,"1");	# 298 BKCsetColumn (ac_a:void)<-(yb_a:bat[:str,:date])(_172:str)
#      [compute](rule_bat, 1).bat.setColumn("1"), 	# 299  (_173:str)
    _483 := bat.new(nil:str,nil:date);	# 300 CMDBATnew (_483:bat[:str,:date])<-(_484:str)(_470:date)
barrier (_486,_487,_488):= bat.newIterator(rule_bat);	# 301 CHPbunIterator (_486:lng)(_487:str)(_488:zrule)<-(rule_bat:bat[:str,:zrule]) jump 308
    _490 := mtime.compute(_488,1);	# 302 MTIMEcompute_rule_foryear (_490:date)<-(_488:zrule)(_170:int)
    bat.insert(_483,_487,_490);	# 303 BKCinsert_bun (_491:void)<-(_483:bat[:str,:date])(_487:str)(_490:date)
    redo (_486,_487,_488):= bat.hasMoreElements(rule_bat);	# 304 CHPbunHasMoreElements (_486:lng)(_487:str)(_488:zrule)<-(rule_bat:bat[:str,:zrule]) jump 302
catch MALException:str ;	# 305  (MALException:str) jump 307
    redo (_486,_487,_488):= bat.hasMoreElements(rule_bat);	# 306 CHPbunHasMoreElements (_486:lng)(_487:str)(_488:zrule)<-(rule_bat:bat[:str,:zrule]) jump 302
exit MALException:str ;	# 307  (MALException:str)
exit (_486,_487,_488);	# 308  (_486:lng)(_487:str)(_488:zrule)
    bc_a:bat[:str,:date]  := _483;	# 309  (bc_a:bat[:str,:date])<-(_483:bat[:str,:date])
    _497 := bat.new(nil:str,nil:int);	# 310 CMDBATnew (_497:bat[:str,:int])<-(_484:str)(_498:int)
barrier (_500,_501,_502):= bat.newIterator(bc_a);	# 311 CHPbunIterator (_500:lng)(_501:str)(_502:date)<-(bc_a:bat[:str,:date]) jump 318
    _504 := mtime.dayofweek(_502);	# 312 MTIMEdate_extract_dayofweek (_504:int)<-(_502:date)
    bat.insert(_497,_501,_504);	# 313 BKCinsert_bun (_505:void)<-(_497:bat[:str,:int])(_501:str)(_504:int)
    redo (_500,_501,_502):= bat.hasMoreElements(bc_a);	# 314 CHPbunHasMoreElements (_500:lng)(_501:str)(_502:date)<-(bc_a:bat[:str,:date]) jump 312
catch MALException:str ;	# 315  (MALException:str) jump 317
    redo (_500,_501,_502):= bat.hasMoreElements(bc_a);	# 316 CHPbunHasMoreElements (_500:lng)(_501:str)(_502:date)<-(bc_a:bat[:str,:date]) jump 312
exit MALException:str ;	# 317  (MALException:str)
exit (_500,_501,_502);	# 318  (_500:lng)(_501:str)(_502:date)
    cc_a:bat[:str,:int]  := _497;	# 319  (cc_a:bat[:str,:int])<-(_497:bat[:str,:int])
    _511 := bat.new(nil:str,nil:str);	# 320 CMDBATnew (_511:bat[:str,:str])<-(_484:str)(_484:str)
barrier (_513,_514,_515):= bat.newIterator(cc_a);	# 321 CHPbunIterator (_513:lng)(_514:str)(_515:int)<-(cc_a:bat[:str,:int]) jump 328
    _517 := mtime.dayname(_515);	# 322 MTIMEday_to_str (_517:str)<-(_515:int)
    bat.insert(_511,_514,_517);	# 323 BKCinsert_bun (_518:void)<-(_511:bat[:str,:str])(_514:str)(_517:str)
    redo (_513,_514,_515):= bat.hasMoreElements(cc_a);	# 324 CHPbunHasMoreElements (_513:lng)(_514:str)(_515:int)<-(cc_a:bat[:str,:int]) jump 322
catch MALException:str ;	# 325  (MALException:str) jump 327
    redo (_513,_514,_515):= bat.hasMoreElements(cc_a);	# 326 CHPbunHasMoreElements (_513:lng)(_514:str)(_515:int)<-(cc_a:bat[:str,:int]) jump 322
exit MALException:str ;	# 327  (MALException:str)
exit (_513,_514,_515);	# 328  (_513:lng)(_514:str)(_515:int)
    dc_a:bat[:str,:str]  := _511;	# 329  (dc_a:bat[:str,:str])<-(_511:bat[:str,:str])
    ec_a := bat.setColumn(dc_a,"1");	# 330 BKCsetColumn (ec_a:void)<-(dc_a:bat[:str,:str])(_172:str)
#      [dayname]([dayofweek]([compute](rule_bat, 1))).bat.setColumn("1"), 	# 331  (_178:str)
    _524 := bat.new(nil:str,nil:date);	# 332 CMDBATnew (_524:bat[:str,:date])<-(_525:str)(_526:date)
barrier (_528,_529,_530):= bat.newIterator(rule_bat);	# 333 CHPbunIterator (_528:lng)(_529:str)(_530:zrule)<-(rule_bat:bat[:str,:zrule]) jump 340
    _532 := mtime.compute(_530,-2000);	# 334 MTIMEcompute_rule_foryear (_532:date)<-(_530:zrule)(_180:int)
    bat.insert(_524,_529,_532);	# 335 BKCinsert_bun (_533:void)<-(_524:bat[:str,:date])(_529:str)(_532:date)
    redo (_528,_529,_530):= bat.hasMoreElements(rule_bat);	# 336 CHPbunHasMoreElements (_528:lng)(_529:str)(_530:zrule)<-(rule_bat:bat[:str,:zrule]) jump 334
catch MALException:str ;	# 337  (MALException:str) jump 339
    redo (_528,_529,_530):= bat.hasMoreElements(rule_bat);	# 338 CHPbunHasMoreElements (_528:lng)(_529:str)(_530:zrule)<-(rule_bat:bat[:str,:zrule]) jump 334
exit MALException:str ;	# 339  (MALException:str)
exit (_528,_529,_530);	# 340  (_528:lng)(_529:str)(_530:zrule)
    fc_a:bat[:str,:date]  := _524;	# 341  (fc_a:bat[:str,:date])<-(_524:bat[:str,:date])
    gc_a := bat.setColumn(fc_a,"-2000");	# 342 BKCsetColumn (gc_a:void)<-(fc_a:bat[:str,:date])(_182:str)
#      [compute](rule_bat, -2000).bat.setColumn("-2000"), 	# 343  (_183:str)
    _539 := bat.new(nil:str,nil:date);	# 344 CMDBATnew (_539:bat[:str,:date])<-(_525:str)(_526:date)
barrier (_541,_542,_543):= bat.newIterator(rule_bat);	# 345 CHPbunIterator (_541:lng)(_542:str)(_543:zrule)<-(rule_bat:bat[:str,:zrule]) jump 352
    _545 := mtime.compute(_543,-2000);	# 346 MTIMEcompute_rule_foryear (_545:date)<-(_543:zrule)(_180:int)
    bat.insert(_539,_542,_545);	# 347 BKCinsert_bun (_546:void)<-(_539:bat[:str,:date])(_542:str)(_545:date)
    redo (_541,_542,_543):= bat.hasMoreElements(rule_bat);	# 348 CHPbunHasMoreElements (_541:lng)(_542:str)(_543:zrule)<-(rule_bat:bat[:str,:zrule]) jump 346
catch MALException:str ;	# 349  (MALException:str) jump 351
    redo (_541,_542,_543):= bat.hasMoreElements(rule_bat);	# 350 CHPbunHasMoreElements (_541:lng)(_542:str)(_543:zrule)<-(rule_bat:bat[:str,:zrule]) jump 346
exit MALException:str ;	# 351  (MALException:str)
exit (_541,_542,_543);	# 352  (_541:lng)(_542:str)(_543:zrule)
    hc_a:bat[:str,:date]  := _539;	# 353  (hc_a:bat[:str,:date])<-(_539:bat[:str,:date])
    _552 := bat.new(nil:str,nil:int);	# 354 CMDBATnew (_552:bat[:str,:int])<-(_525:str)(_553:int)
barrier (_555,_556,_557):= bat.newIterator(hc_a);	# 355 CHPbunIterator (_555:lng)(_556:str)(_557:date)<-(hc_a:bat[:str,:date]) jump 362
    _559 := mtime.dayofweek(_557);	# 356 MTIMEdate_extract_dayofweek (_559:int)<-(_557:date)
    bat.insert(_552,_556,_559);	# 357 BKCinsert_bun (_560:void)<-(_552:bat[:str,:int])(_556:str)(_559:int)
    redo (_555,_556,_557):= bat.hasMoreElements(hc_a);	# 358 CHPbunHasMoreElements (_555:lng)(_556:str)(_557:date)<-(hc_a:bat[:str,:date]) jump 356
catch MALException:str ;	# 359  (MALException:str) jump 361
    redo (_555,_556,_557):= bat.hasMoreElements(hc_a);	# 360 CHPbunHasMoreElements (_555:lng)(_556:str)(_557:date)<-(hc_a:bat[:str,:date]) jump 356
exit MALException:str ;	# 361  (MALException:str)
exit (_555,_556,_557);	# 362  (_555:lng)(_556:str)(_557:date)
    ic_a:bat[:str,:int]  := _552;	# 363  (ic_a:bat[:str,:int])<-(_552:bat[:str,:int])
    _566 := bat.new(nil:str,nil:str);	# 364 CMDBATnew (_566:bat[:str,:str])<-(_567:str)(_567:str)
barrier (_569,_570,_571):= bat.newIterator(ic_a);	# 365 CHPbunIterator (_569:lng)(_570:str)(_571:int)<-(ic_a:bat[:str,:int]) jump 372
    _573 := mtime.dayname(_571);	# 366 MTIMEday_to_str (_573:str)<-(_571:int)
    bat.insert(_566,_570,_573);	# 367 BKCinsert_bun (_574:void)<-(_566:bat[:str,:str])(_570:str)(_573:str)
    redo (_569,_570,_571):= bat.hasMoreElements(ic_a);	# 368 CHPbunHasMoreElements (_569:lng)(_570:str)(_571:int)<-(ic_a:bat[:str,:int]) jump 366
catch MALException:str ;	# 369  (MALException:str) jump 371
    redo (_569,_570,_571):= bat.hasMoreElements(ic_a);	# 370 CHPbunHasMoreElements (_569:lng)(_570:str)(_571:int)<-(ic_a:bat[:str,:int]) jump 366
exit MALException:str ;	# 371  (MALException:str)
exit (_569,_570,_571);	# 372  (_569:lng)(_570:str)(_571:int)
    jc_a:bat[:str,:str]  := _566;	# 373  (jc_a:bat[:str,:str])<-(_566:bat[:str,:str])
    kc_a := bat.setColumn(jc_a,"-2000");	# 374 BKCsetColumn (kc_a:void)<-(jc_a:bat[:str,:str])(_182:str)
    io.print("rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a");	# 375 IOprint_val (_188:void)<-(_189:str)
    lc_a := io.print(rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a);	# 376 IOtable (lc_a:void)<-(rule_bat:bat[:str,:zrule])(sb_a:bat[:str,:date])(wb_a:bat[:str,:str])(yb_a:bat[:str,:date])(dc_a:bat[:str,:str])(fc_a:bat[:str,:date])(jc_a:bat[:str,:str])
#      [dayname]([dayofweek]([compute](rule_bat, -2000))).bat.setColumn("-2000")); 	# 377  (_190:str)
end main;	# 378  
[ "rule_bat,na_a,pa_a,ra_a,ta_a" ]
#---------------------------------------------------------------------------------------------------------#
# h	rule						month	weekday		day	minutes		  # name
# str	zrule						int	int		int	int		  # type
#---------------------------------------------------------------------------------------------------------#
[ "jan",  first monday from start of january@01:15,	  1,	  2,		  1,	  75		  ]
[ "feb",  nil,						  nil,	  nil,		  nil,	  nil		  ]
[ "mar",  first wednesday on or after march 10@01:15,	  3,	  -4,		  10,	  75		  ]
[ "apr",  last thursday on or before april 1@01:15,	  4,	  -5,		  -1,	  75		  ]
[ "may",  may 26@01:15,					  5,	  0,		  26,	  75		  ]
[ "jun",  second tuesday from end of june@01:15,	  6,	  3,		  -2,	  75		  ]
[ "jul",  first sunday from start of july@01:15,	  7,	  1,		  1,	  75		  ]
[ "aug",  first sunday from end of august@01:15,	  8,	  1,		  -1,	  75		  ]
[ "sep",  10th tuesday from end of september@01:15,	  9,	  3,		  -10,	  75		  ]
[ "oct",  october 31@01:15,				  10,	  0,		  31,	  75		  ]
[ "nov",  last wednesday on or before november 10@01:15,  11,	  -4,		  -10,	  75		  ]
[ "dec",  nil,						  nil,	  nil,		  nil,	  nil		  ]
[ "rule_bat,xa_a,cb_a,eb_a,ib_a,kb_a,ob_a" ]
#---------------------------------------------------------------------------------------------------------------------------------------------------------#
# лллл;	rule						2001		2001		1999		1999		1992		1992		  # name
# str	zrule						date		str		date		str		date		str		  # type
#---------------------------------------------------------------------------------------------------------------------------------------------------------#
[ "jan",  first monday from start of january@01:15,	  2001-01-01,	  "monday",	  1999-01-04,	  "monday",	  1992-01-06,	  "monday"	  ]
[ "feb",  nil,						  nil,		  nil,		  nil,		  nil,		  nil,		  nil		  ]
[ "mar",  first wednesday on or after march 10@01:15,	  2001-03-14,	  "wednesday",	  1999-03-10,	  "wednesday",	  1992-03-11,	  "wednesday"	  ]
[ "apr",  last thursday on or before april 1@01:15,	  2001-03-29,	  "thursday",	  1999-04-01,	  "thursday",	  1992-03-26,	  "thursday"	  ]
[ "may",  may 26@01:15,					  2001-05-26,	  "saturday",	  1999-05-26,	  "wednesday",	  1992-05-26,	  "tuesday"	  ]
[ "jun",  second tuesday from end of june@01:15,	  2001-06-19,	  "tuesday",	  1999-06-22,	  "tuesday",	  1992-06-23,	  "tuesday"	  ]
[ "jul",  first sunday from start of july@01:15,	  2001-07-01,	  "sunday",	  1999-07-04,	  "sunday",	  1992-07-05,	  "sunday"	  ]
[ "aug",  first sunday from end of august@01:15,	  2001-08-26,	  "sunday",	  1999-08-29,	  "sunday",	  1992-08-30,	  "sunday"	  ]
[ "sep",  10th tuesday from end of september@01:15,	  2001-07-24,	  "tuesday",	  1999-07-27,	  "tuesday",	  1992-07-28,	  "tuesday"	  ]
[ "oct",  october 31@01:15,				  2001-10-31,	  "wednesday",	  1999-10-31,	  "sunday",	  1992-10-31,	  "saturday"	  ]
[ "nov",  last wednesday on or before november 10@01:15,  2001-11-07,	  "wednesday",	  1999-11-10,	  "wednesday",	  1992-11-04,	  "wednesday"	  ]
[ "dec",  nil,						  nil,		  nil,		  nil,		  nil,		  nil,		  nil		  ]
[ "rule_bat,sb_a,wb_a,yb_a,dc_a,fc_a,jc_a" ]
#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------#
# лллллллллллллллл!	rule						1572		1572		1		1		-2000		-2000		  # name
# str			zrule						date		str		date		str		date		str		  # type
#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------#
[ "jan",		  first monday from start of january@01:15,	  1572-01-03,	  "monday",	  1-01-01,	  "monday",	  -2000-01-01,	  "monday"	  ]
[ "feb",		  nil,						  nil,		  nil,		  nil,		  nil,		  nil,		  nil		  ]
[ "mar",		  first wednesday on or after march 10@01:15,	  1572-03-15,	  "wednesday",	  1-03-14,	  "wednesday",	  -2000-03-14,	  "wednesday"	  ]
[ "apr",		  last thursday on or before april 1@01:15,	  1572-03-30,	  "thursday",	  1-03-29,	  "thursday",	  -2000-03-29,	  "thursday"	  ]
[ "may",		  may 26@01:15,					  1572-05-26,	  "friday",	  1-05-26,	  "saturday",	  -2000-05-26,	  "saturday"	  ]
[ "jun",		  second tuesday from end of june@01:15,	  1572-06-20,	  "tuesday",	  1-06-19,	  "tuesday",	  -2000-06-19,	  "tuesday"	  ]
[ "jul",		  first sunday from start of july@01:15,	  1572-07-02,	  "sunday",	  1-07-01,	  "sunday",	  -2000-07-01,	  "sunday"	  ]
[ "aug",		  first sunday from end of august@01:15,	  1572-08-27,	  "sunday",	  1-08-26,	  "sunday",	  -2000-08-26,	  "sunday"	  ]
[ "sep",		  10th tuesday from end of september@01:15,	  1572-07-25,	  "tuesday",	  1-07-24,	  "tuesday",	  -2000-07-24,	  "tuesday"	  ]
[ "oct",		  october 31@01:15,				  1572-10-31,	  "tuesday",	  1-10-31,	  "wednesday",	  -2000-10-31,	  "wednesday"	  ]
[ "nov",		  last wednesday on or before november 10@01:15,  1572-11-08,	  "wednesday",	  1-11-07,	  "wednesday",	  -2000-11-07,	  "wednesday"	  ]
[ "dec",		  nil,						  nil,		  nil,		  nil,		  nil,		  nil,		  nil		  ]

# 23:31:29 >  
# 23:31:29 >  Done.
# 23:31:29 >  

