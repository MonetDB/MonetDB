stdout of test 'tst1203` in directory 'src/mal` itself:


# 23:31:30 >  
# 23:31:30 >  Mtimeout -timeout 60 mserver5 "--config=/ufs/mk/monet5/Linux/etc/monetdb5.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5//Linux/lib/MonetDB5:/ufs/mk/monet5//Linux/lib/MonetDB5/lib:/ufs/mk/monet5//Linux/lib/MonetDB5/bin" --set "gdk_dbfarm=/ufs/mk/monet5//Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/sql_logs" --set "xquery_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/xquery_logs" --set mapi_port=35239 --set xrpc_port=40860 --set monet_prompt= --trace --dbname=mTests_src_mal  tst1203.mal
# 23:31:30 >  

# MonetDB Server v5.0.0_beta2_1
# Copyright (c) 1993-2007 CWI, all rights reserved
# Compiled for x86_64-redhat-linux-gnu/64bit with 64bit OIDs dynamically linked
# dbname:mTests_src_mal
# Visit http://monetdb.cwi.nl/ for further information
## Mil compiler Version 1.0)
## Copyright (c) 1993-2001, CWI. All rights reserved.
#
## Predefined code segment
##
###line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
##module(monettime,alarm);
##
##
##
#lzone:= mtime.timezone("GMT+1");
#mtime.timezone_local(lzone);
###line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create rules
#	rule_jan:= mtime.rule("1st MON from start of JAN@01:15");
##var rule_jan := mtime.rule("1st MON from start of JAN@01:15");
#	rule_mar:= mtime.rule("first WEDNE on or after march 10@01:15");
##var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");
#	rule_apr:= mtime.rule("last THU on or before aPr 1@01:15");
##var rule_apr := mtime.rule("last THU on or before aPr 1@01:15");
#	rule_may:= mtime.rule("MAY 26@01:15");
##var rule_may := mtime.rule("MAY 26@01:15");
#	rule_jun:= mtime.rule("2nd TUE from end of june@01:15");
##var rule_jun := mtime.rule("2nd TUE from end of june@01:15");
#	rule_jul:= mtime.rule(7,1,1,75);
##var rule_jul := mtime.rule(7,1,1,75);
#	rule_aug:= mtime.rule(8,-1,1,75);
##var rule_aug := mtime.rule(8,-1,1,75);
#	rule_sep:= mtime.rule(9,-10,3,75);
##var rule_sep := mtime.rule(9,-10,3,75);
#	rule_oct:= mtime.rule(10,31,0,75);
##var rule_oct := mtime.rule(10,31,0,75);
#	rule_nov:= mtime.rule(11,-10,-4,75);
##var rule_nov := mtime.rule(11,-10,-4,75);
### nil rules
#	rule_dec:= mtime.rule(12,-31,0,75);
##var rule_dec := mtime.rule(12,-31,0,75);
#	rule_feb:= mtime.rule("first fRiDaY on or after february 30@01:15");
##var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");
## 
#	rule_bat:= bat.new(:str,:zrule,10);
##var rule_bat := bat.new(str,rule,10);
#	bat.insert(rule_bat,"jan",rule_jan);
#	bat.insert(rule_bat,"feb",rule_feb);
#	bat.insert(rule_bat,"mar",rule_mar);
#	bat.insert(rule_bat,"apr",rule_apr);
##rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr);
#	bat.insert(rule_bat,"may",rule_may);
#	bat.insert(rule_bat,"jun",rule_jun);
#	bat.insert(rule_bat,"jul",rule_jul);
#	bat.insert(rule_bat,"aug",rule_aug);
##rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug);
#	bat.insert(rule_bat,"sep",rule_sep);
#	bat.insert(rule_bat,"oct",rule_oct);
#	bat.insert(rule_bat,"nov",rule_nov);
#	bat.insert(rule_bat,"dec",rule_dec);
##rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec);
##
##
###line 580 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create timezones, using some of the above created rules
#	tzone_00:= mtime.timezone("GMT");
##var tzone_00 := mtime.timezone("GMT");
#	tzone_01:= mtime.timezone("GMT+01:00");
##var tzone_01 := mtime.timezone("GMT+01:00");
#	tzone_02:= mtime.timezone("GMT+0100");
##var tzone_02 := mtime.timezone("GMT+0100");
#	tzone_03:= mtime.timezone(60,rule_oct,rule_mar);
##var tzone_03 := mtime.timezone(60, rule_oct, rule_mar);
#	tzone_04:= mtime.timezone(0,rule_jan,rule_aug);
##var tzone_04 := mtime.timezone(0, rule_jan, rule_aug);
#	tzone_05:= mtime.timezone(-97,rule_oct,rule_apr);
##var tzone_05 := mtime.timezone(-97, rule_oct, rule_apr);
#	tzone_06:= mtime.timezone(-97,rule_may,rule_sep);
##var tzone_06 := mtime.timezone(-97, rule_may, rule_sep);
#	mc_a := calc.*(23,60);
#	tzone_07:= mtime.timezone(mc_a,rule_apr,rule_nov);
##var tzone_07 := mtime.timezone(23*60, rule_apr, rule_nov);
#	nc_a := calc.*(-23,59);
#	oc_a := calc.-(nc_a,59);
#	tzone_08:= mtime.timezone(oc_a);
##var tzone_08 := mtime.timezone((-23*59) - 59);
#	tzone_09:= mtime.timezone(0);
##var tzone_09 := mtime.timezone(0);
#	tzone_10:= mtime.timezone(-60);
##var tzone_10 := mtime.timezone(-60);
#	pc_a := calc.*(23,60);
#	qc_a := calc.+(pc_a,59);
#	tzone_11:= mtime.timezone(qc_a);
##var tzone_11 := mtime.timezone((23*60)+59);
#	tzone_12:= mtime.timezone(60);
##var tzone_12 := mtime.timezone(60);
### nil tzones
#	tzone_13:= mtime.timezone(60,rule_feb,rule_dec);
##var tzone_13 := mtime.timezone(60, rule_feb, rule_dec);
#	rc_a := calc.*(24,60);
#	tzone_15:= mtime.timezone(rc_a,rule_apr,rule_nov);
##var tzone_15 := mtime.timezone(24*60, rule_apr, rule_nov);
##
##
#	tzone_bat:= bat.new(:oid,:timezone);
##var tzone_bat := bat.new(oid,tzone);
#	bat.insert(tzone_bat,0@0,tzone_00);
#	bat.insert(tzone_bat,1@0,tzone_01);
#	bat.insert(tzone_bat,2@0,tzone_02);
##tzone_bat.bat.insert(0@0, tzone_00).insert(1@0, tzone_01).insert(2@0, tzone_02);
#	bat.insert(tzone_bat,3@0,tzone_03);
#	bat.insert(tzone_bat,4@0,tzone_04);
#	bat.insert(tzone_bat,5@0,tzone_05);
##tzone_bat.bat.insert(3@0, tzone_03).insert(4@0, tzone_04).insert(5@0, tzone_05);
#	bat.insert(tzone_bat,6@0,tzone_06);
#	bat.insert(tzone_bat,7@0,tzone_07);
#	bat.insert(tzone_bat,8@0,tzone_08);
##tzone_bat.bat.insert(6@0, tzone_06).insert(7@0, tzone_07).insert(8@0, tzone_08);
#	bat.insert(tzone_bat,9@0,tzone_09);
#	bat.insert(tzone_bat,10@0,tzone_10);
#	bat.insert(tzone_bat,11@0,tzone_11);
##tzone_bat.bat.insert(9@0, tzone_09).insert(10@0, tzone_10).insert(11@0, tzone_11);
#	bat.insert(tzone_bat,12@0,tzone_12);
#	bat.insert(tzone_bat,13@0,tzone_13);
#	bat.insert(tzone_bat,15@0,tzone_15);
##tzone_bat.bat.insert(12@0, tzone_12).insert(13@0, tzone_13).insert(15@0, tzone_15);
##
##
###line 614 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create dates
#	date_00:= mtime.date(2000,01,01);
##var date_00 := date(2000,01,01);
#	date_01:= mtime.date("5000-JAN-01");
##var date_01 := date("5000-JAN-01");
#	date_02:= mtime.date("1968-FEBR-29");
##var date_02 := date("1968-FEBR-29");
#	date_03:= mtime.date("1-MARCH-01");
##var date_03 := date("1-MARCH-01");
#	date_04:= mtime.date("-5867411-JAN-1");
##var date_04 := date("-5867411-JAN-1");
#	date_05:= mtime.date("-768/octobe/01");
##var date_05 := date("-768/octobe/01");
#	date_06:= mtime.date("5000\\novembe\\01");
##var date_06 := date("5000\\novembe\\01");
#	date_07:= mtime.date("-1999/jun/01");
##var date_07 := date("-1999/jun/01");
#	date_08:= mtime.date("2000-jul-14");
##var date_08 := date("2000-jul-14");
#	date_09:= mtime.date("1999-sept-01");
##var date_09 := date("1999-sept-01");
#	date_10:= mtime.date("1998-decemBeR-01");
##var date_10 := date("1998-decemBeR-01");
#	date_11:= mtime.date("1953 may                01");
##var date_11 := date("1953 may                01");
#	date_12:= mtime.date("5867411-DEC-31");
##var date_12 := date("5867411-DEC-31");
### nil dates
#	date_13:= mtime.date(1996,13,1);
##var date_13 := date(1996,13,1);
#	date_14:= mtime.date("999999999999999999999-01-01");
##var date_14 := date("999999999999999999999-01-01");
#	date_15:= mtime.date("1999-JANUARI-01");
##var date_15 := date("1999-JANUARI-01");
#	date_16:= mtime.date("1999-FEBR-29");
##var date_16 := date("1999-FEBR-29");
#	date_17:= mtime.date("-1-DECEMBER-0");
##var date_17 := date("-1-DECEMBER-0");
#	date_18:= mtime.date("5000\novembe\31");
##var date_18 := date("5000\novembe\31");
#	date_19:= mtime.date("nil");
##var date_19 := date("nil");
#	date_20:= mtime.date("1999-sept-31");
##var date_20 := date("1999-sept-31");
##
#	date_bat:= bat.new(:oid,:date);
##var date_bat := bat.new(oid,date);
#	bat.insert(date_bat,0@0,date_00);
#	bat.insert(date_bat,1@0,date_01);
#	bat.insert(date_bat,2@0,date_02);
##date_bat.bat.insert(0@0, date_00).insert(1@0, date_01).insert(2@0, date_02);
#	bat.insert(date_bat,3@0,date_03);
#	bat.insert(date_bat,4@0,date_04);
#	bat.insert(date_bat,5@0,date_05);
##date_bat.bat.insert(3@0, date_03).insert(4@0, date_04).insert(5@0, date_05);
#	bat.insert(date_bat,6@0,date_06);
#	bat.insert(date_bat,7@0,date_07);
#	bat.insert(date_bat,8@0,date_08);
##date_bat.bat.insert(6@0, date_06).insert(7@0, date_07).insert(8@0, date_08);
#	bat.insert(date_bat,9@0,date_09);
#	bat.insert(date_bat,10@0,date_10);
#	bat.insert(date_bat,11@0,date_11);
##date_bat.bat.insert(9@0, date_09).insert(10@0, date_10).insert(11@0, date_11);
#	bat.insert(date_bat,12@0,date_12);
#	bat.insert(date_bat,13@0,date_13);
#	bat.insert(date_bat,14@0,date_14);
##date_bat.bat.insert(12@0, date_12).insert(13@0, date_13).insert(14@0, date_14);
#	bat.insert(date_bat,15@0,date_15);
#	bat.insert(date_bat,16@0,date_16);
#	bat.insert(date_bat,17@0,date_17);
##date_bat.bat.insert(15@0, date_15).insert(16@0, date_16).insert(17@0, date_17);
#	bat.insert(date_bat,18@0,date_18);
#	bat.insert(date_bat,19@0,date_19);
#	bat.insert(date_bat,20@0,date_20);
##date_bat.bat.insert(18@0, date_18).insert(19@0, date_19).insert(20@0, date_20);
##
### test the operations on dates
#	ne_a := bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	oe_a:bat[:oid,:int] := mal.multiplex("mtime","year",date_bat);
#	pe_a := bat.setColumn(oe_a,"year");
##      [year](date_bat).bat.setColumn("year"),
#	qe_a:bat[:oid,:int] := mal.multiplex("mtime","day",date_bat);
#	re_a := bat.setColumn(qe_a,"day");
##      [day](date_bat).bat.setColumn("day"),
#	se_a:bat[:oid,:int] := mal.multiplex("mtime","month",date_bat);
#	te_a:bat[:oid,:str] := mal.multiplex("mtime","monthname",se_a);
#	ue_a := bat.setColumn(te_a,"monthname");
##      [monthname]([month](date_bat)).bat.setColumn("monthname"),
#	ve_a:bat[:oid,:int] := mal.multiplex("mtime","month",date_bat);
#	we_a:bat[:oid,:str] := mal.multiplex("mtime","monthname",ve_a);
#	xe_a:bat[:oid,:int] := mal.multiplex("mtime","monthnum",we_a);
#	ye_a := bat.setColumn(xe_a,"monthnum");
#	io.print("print(date_bat,oe_a,qe_a,te_a,xe_a)");
#	af_a := io.print(date_bat,oe_a,qe_a,te_a,xe_a);
##      [monthnum]([monthname]([month](date_bat))).bat.setColumn("monthnum"));
##
#	date_addyears:bat[:oid,:date]:= mal.multiplex("mtime","addyears",date_bat,-100);
##var date_addyears := [addyears](date_bat, -100);
#	date_addmonths:bat[:oid,:date]:= mal.multiplex("mtime","addmonths",date_bat,1);
##var date_addmonths := [addmonths](date_bat, 1);
##
#	bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	bat.setColumn(date_addyears,"min100y");
##      date_addyears.bat.setColumn("min100y"),
#	df_a:bat[:oid,:int] := mal.multiplex("mtime","diff",date_addyears,date_bat);
#	bat.setColumn(df_a,"diff");
#	io.print("print(date_bat,date_addyears,df_a)");
#	ff_a := io.print(date_bat,date_addyears,df_a);
##      [diff](date_addyears, date_bat).bat.setColumn("diff"));
##
#	bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	bat.setColumn(date_addmonths,"plus1m");
##      date_addmonths.bat.setColumn("plus1m"),
#	if_a:bat[:oid,:int] := mal.multiplex("mtime","diff",date_addmonths,date_bat);
#	bat.setColumn(if_a,"diff");
#	io.print(" print(date_bat,date_addmonths,if_a)");
#	kf_a := io.print(date_bat,date_addmonths,if_a);
##      [diff](date_addmonths, date_bat).bat.setColumn("diff"));
#
function user.main():void;	# 0  (main:void)
# Mil compiler Version 1.0) 	# 1  (_1:str)
# Copyright (c) 1993-2001, CWI. All rights reserved. 	# 2  (_2:str)
# Predefined code segment 	# 3  (_3:str)
##line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 4  (_4:str)
#module(monettime,alarm); 	# 5  (_5:str)
    lzone := mtime.timezone("GMT+1");	# 6 MTIMEtzone_fromstr (lzone:timezone)<-(_7:str)
    mtime.timezone_local(lzone);	# 7 MTIMEtzone_set_local (_8:void)<-(lzone:timezone)
##line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 8  (_9:str)
## test the various ways to create rules 	# 9  (_10:str)
    rule_jan := mtime.rule("1st MON from start of JAN@01:15");	# 10 MTIMErule_fromstr (rule_jan:zrule)<-(_12:str)
#var rule_jan := mtime.rule("1st MON from start of JAN@01:15"); 	# 11  (_13:str)
    rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");	# 12 MTIMErule_fromstr (rule_mar:zrule)<-(_15:str)
#var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15"); 	# 13  (_16:str)
    rule_apr := mtime.rule("last THU on or before aPr 1@01:15");	# 14 MTIMErule_fromstr (rule_apr:zrule)<-(_18:str)
#var rule_apr := mtime.rule("last THU on or before aPr 1@01:15"); 	# 15  (_19:str)
    rule_may := mtime.rule("MAY 26@01:15");	# 16 MTIMErule_fromstr (rule_may:zrule)<-(_21:str)
#var rule_may := mtime.rule("MAY 26@01:15"); 	# 17  (_22:str)
    rule_jun := mtime.rule("2nd TUE from end of june@01:15");	# 18 MTIMErule_fromstr (rule_jun:zrule)<-(_24:str)
#var rule_jun := mtime.rule("2nd TUE from end of june@01:15"); 	# 19  (_25:str)
    rule_jul := mtime.rule(7,1,1,75);	# 20 MTIMErule_create (rule_jul:zrule)<-(_27:int)(_28:int)(_28:int)(_29:int)
#var rule_jul := mtime.rule(7,1,1,75); 	# 21  (_30:str)
    rule_aug := mtime.rule(8,-1,1,75);	# 22 MTIMErule_create (rule_aug:zrule)<-(_32:int)(_33:int)(_28:int)(_29:int)
#var rule_aug := mtime.rule(8,-1,1,75); 	# 23  (_34:str)
    rule_sep := mtime.rule(9,-10,3,75);	# 24 MTIMErule_create (rule_sep:zrule)<-(_36:int)(_37:int)(_38:int)(_29:int)
#var rule_sep := mtime.rule(9,-10,3,75); 	# 25  (_39:str)
    rule_oct := mtime.rule(10,31,0,75);	# 26 MTIMErule_create (rule_oct:zrule)<-(_41:int)(_42:int)(_43:int)(_29:int)
#var rule_oct := mtime.rule(10,31,0,75); 	# 27  (_44:str)
    rule_nov := mtime.rule(11,-10,-4,75);	# 28 MTIMErule_create (rule_nov:zrule)<-(_46:int)(_37:int)(_47:int)(_29:int)
#var rule_nov := mtime.rule(11,-10,-4,75); 	# 29  (_48:str)
## nil rules 	# 30  (_49:str)
    rule_dec := mtime.rule(12,-31,0,75);	# 31 MTIMErule_create (rule_dec:zrule)<-(_51:int)(_52:int)(_43:int)(_29:int)
#var rule_dec := mtime.rule(12,-31,0,75); 	# 32  (_53:str)
    rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");	# 33 MTIMErule_fromstr (rule_feb:zrule)<-(_55:str)
#var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15"); 	# 34  (_56:str)
#  	# 35  (_57:str)
    rule_bat := bat.new(:str,:zrule,10);	# 36 CMDBATnewint (rule_bat:bat[:str,:zrule])<-(_59:str)(_60:zrule)(_41:int)
#var rule_bat := bat.new(str,rule,10); 	# 37  (_61:str)
    bat.insert(rule_bat,"jan",rule_jan);	# 38 BKCinsert_bun (_62:void)<-(rule_bat:bat[:str,:zrule])(_63:str)(rule_jan:zrule)
    bat.insert(rule_bat,"feb",rule_feb);	# 39 BKCinsert_bun (_64:void)<-(rule_bat:bat[:str,:zrule])(_65:str)(rule_feb:zrule)
    bat.insert(rule_bat,"mar",rule_mar);	# 40 BKCinsert_bun (_66:void)<-(rule_bat:bat[:str,:zrule])(_67:str)(rule_mar:zrule)
    bat.insert(rule_bat,"apr",rule_apr);	# 41 BKCinsert_bun (_68:void)<-(rule_bat:bat[:str,:zrule])(_69:str)(rule_apr:zrule)
#rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr); 	# 42  (_70:str)
    bat.insert(rule_bat,"may",rule_may);	# 43 BKCinsert_bun (_71:void)<-(rule_bat:bat[:str,:zrule])(_72:str)(rule_may:zrule)
    bat.insert(rule_bat,"jun",rule_jun);	# 44 BKCinsert_bun (_73:void)<-(rule_bat:bat[:str,:zrule])(_74:str)(rule_jun:zrule)
    bat.insert(rule_bat,"jul",rule_jul);	# 45 BKCinsert_bun (_75:void)<-(rule_bat:bat[:str,:zrule])(_76:str)(rule_jul:zrule)
    bat.insert(rule_bat,"aug",rule_aug);	# 46 BKCinsert_bun (_77:void)<-(rule_bat:bat[:str,:zrule])(_78:str)(rule_aug:zrule)
#rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug); 	# 47  (_79:str)
    bat.insert(rule_bat,"sep",rule_sep);	# 48 BKCinsert_bun (_80:void)<-(rule_bat:bat[:str,:zrule])(_81:str)(rule_sep:zrule)
    bat.insert(rule_bat,"oct",rule_oct);	# 49 BKCinsert_bun (_82:void)<-(rule_bat:bat[:str,:zrule])(_83:str)(rule_oct:zrule)
    bat.insert(rule_bat,"nov",rule_nov);	# 50 BKCinsert_bun (_84:void)<-(rule_bat:bat[:str,:zrule])(_85:str)(rule_nov:zrule)
    bat.insert(rule_bat,"dec",rule_dec);	# 51 BKCinsert_bun (_86:void)<-(rule_bat:bat[:str,:zrule])(_87:str)(rule_dec:zrule)
#rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec); 	# 52  (_88:str)
##line 580 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 53  (_89:str)
## test the various ways to create timezones, using some of the above created rules 	# 54  (_90:str)
    tzone_00 := mtime.timezone("GMT");	# 55 MTIMEtzone_fromstr (tzone_00:timezone)<-(_92:str)
#var tzone_00 := mtime.timezone("GMT"); 	# 56  (_93:str)
    tzone_01 := mtime.timezone("GMT+01:00");	# 57 MTIMEtzone_fromstr (tzone_01:timezone)<-(_95:str)
#var tzone_01 := mtime.timezone("GMT+01:00"); 	# 58  (_96:str)
    tzone_02 := mtime.timezone("GMT+0100");	# 59 MTIMEtzone_fromstr (tzone_02:timezone)<-(_98:str)
#var tzone_02 := mtime.timezone("GMT+0100"); 	# 60  (_99:str)
    tzone_03 := mtime.timezone(60,rule_oct,rule_mar);	# 61 MTIMEtzone_create_dst (tzone_03:timezone)<-(_101:int)(rule_oct:zrule)(rule_mar:zrule)
#var tzone_03 := mtime.timezone(60, rule_oct, rule_mar); 	# 62  (_102:str)
    tzone_04 := mtime.timezone(0,rule_jan,rule_aug);	# 63 MTIMEtzone_create_dst (tzone_04:timezone)<-(_104:int)(rule_jan:zrule)(rule_aug:zrule)
#var tzone_04 := mtime.timezone(0, rule_jan, rule_aug); 	# 64  (_105:str)
    tzone_05 := mtime.timezone(-97,rule_oct,rule_apr);	# 65 MTIMEtzone_create_dst (tzone_05:timezone)<-(_107:int)(rule_oct:zrule)(rule_apr:zrule)
#var tzone_05 := mtime.timezone(-97, rule_oct, rule_apr); 	# 66  (_108:str)
    tzone_06 := mtime.timezone(-97,rule_may,rule_sep);	# 67 MTIMEtzone_create_dst (tzone_06:timezone)<-(_107:int)(rule_may:zrule)(rule_sep:zrule)
#var tzone_06 := mtime.timezone(-97, rule_may, rule_sep); 	# 68  (_110:str)
    mc_a := calc.*(23,60);	# 69 CALCbinaryMULintint (mc_a:int)<-(_112:int)(_101:int)
    tzone_07 := mtime.timezone(mc_a,rule_apr,rule_nov);	# 70 MTIMEtzone_create_dst (tzone_07:timezone)<-(mc_a:int)(rule_apr:zrule)(rule_nov:zrule)
#var tzone_07 := mtime.timezone(23*60, rule_apr, rule_nov); 	# 71  (_114:str)
    nc_a := calc.*(-23,59);	# 72 CALCbinaryMULintint (nc_a:int)<-(_116:int)(_117:int)
    oc_a := calc.-(nc_a,59);	# 73 CALCbinarySUBintint (oc_a:int)<-(nc_a:int)(_117:int)
    tzone_08 := mtime.timezone(oc_a);	# 74 MTIMEtzone_create (tzone_08:timezone)<-(oc_a:int)
#var tzone_08 := mtime.timezone((-23*59) - 59); 	# 75  (_120:str)
    tzone_09 := mtime.timezone(0);	# 76 MTIMEtzone_create (tzone_09:timezone)<-(_104:int)
#var tzone_09 := mtime.timezone(0); 	# 77  (_122:str)
    tzone_10 := mtime.timezone(-60);	# 78 MTIMEtzone_create (tzone_10:timezone)<-(_124:int)
#var tzone_10 := mtime.timezone(-60); 	# 79  (_125:str)
    pc_a := calc.*(23,60);	# 80 CALCbinaryMULintint (pc_a:int)<-(_112:int)(_101:int)
    qc_a := calc.+(pc_a,59);	# 81 CALCbinaryADDintint (qc_a:int)<-(pc_a:int)(_117:int)
    tzone_11 := mtime.timezone(qc_a);	# 82 MTIMEtzone_create (tzone_11:timezone)<-(qc_a:int)
#var tzone_11 := mtime.timezone((23*60)+59); 	# 83  (_129:str)
    tzone_12 := mtime.timezone(60);	# 84 MTIMEtzone_create (tzone_12:timezone)<-(_101:int)
#var tzone_12 := mtime.timezone(60); 	# 85  (_131:str)
## nil tzones 	# 86  (_132:str)
    tzone_13 := mtime.timezone(60,rule_feb,rule_dec);	# 87 MTIMEtzone_create_dst (tzone_13:timezone)<-(_134:int)(rule_feb:zrule)(rule_dec:zrule)
#var tzone_13 := mtime.timezone(60, rule_feb, rule_dec); 	# 88  (_135:str)
    rc_a := calc.*(24,60);	# 89 CALCbinaryMULintint (rc_a:int)<-(_137:int)(_134:int)
    tzone_15 := mtime.timezone(rc_a,rule_apr,rule_nov);	# 90 MTIMEtzone_create_dst (tzone_15:timezone)<-(rc_a:int)(rule_apr:zrule)(rule_nov:zrule)
#var tzone_15 := mtime.timezone(24*60, rule_apr, rule_nov); 	# 91  (_139:str)
    tzone_bat := bat.new(:oid,:timezone);	# 92 CMDBATnew (tzone_bat:bat[:oid,:timezone])<-(_141:oid)(_142:timezone)
#var tzone_bat := bat.new(oid,tzone); 	# 93  (_143:str)
    bat.insert(tzone_bat,0@0,tzone_00);	# 94 BKCinsert_bun (_144:void)<-(tzone_bat:bat[:oid,:timezone])(_145:oid)(tzone_00:timezone)
    bat.insert(tzone_bat,1@0,tzone_01);	# 95 BKCinsert_bun (_146:void)<-(tzone_bat:bat[:oid,:timezone])(_147:oid)(tzone_01:timezone)
    bat.insert(tzone_bat,2@0,tzone_02);	# 96 BKCinsert_bun (_148:void)<-(tzone_bat:bat[:oid,:timezone])(_149:oid)(tzone_02:timezone)
#tzone_bat.bat.insert(0@0, tzone_00).insert(1@0, tzone_01).insert(2@0, tzone_02); 	# 97  (_150:str)
    bat.insert(tzone_bat,3@0,tzone_03);	# 98 BKCinsert_bun (_151:void)<-(tzone_bat:bat[:oid,:timezone])(_152:oid)(tzone_03:timezone)
    bat.insert(tzone_bat,4@0,tzone_04);	# 99 BKCinsert_bun (_153:void)<-(tzone_bat:bat[:oid,:timezone])(_154:oid)(tzone_04:timezone)
    bat.insert(tzone_bat,5@0,tzone_05);	# 100 BKCinsert_bun (_155:void)<-(tzone_bat:bat[:oid,:timezone])(_156:oid)(tzone_05:timezone)
#tzone_bat.bat.insert(3@0, tzone_03).insert(4@0, tzone_04).insert(5@0, tzone_05); 	# 101  (_157:str)
    bat.insert(tzone_bat,6@0,tzone_06);	# 102 BKCinsert_bun (_158:void)<-(tzone_bat:bat[:oid,:timezone])(_159:oid)(tzone_06:timezone)
    bat.insert(tzone_bat,7@0,tzone_07);	# 103 BKCinsert_bun (_160:void)<-(tzone_bat:bat[:oid,:timezone])(_161:oid)(tzone_07:timezone)
    bat.insert(tzone_bat,8@0,tzone_08);	# 104 BKCinsert_bun (_162:void)<-(tzone_bat:bat[:oid,:timezone])(_163:oid)(tzone_08:timezone)
#tzone_bat.bat.insert(6@0, tzone_06).insert(7@0, tzone_07).insert(8@0, tzone_08); 	# 105  (_164:str)
    bat.insert(tzone_bat,9@0,tzone_09);	# 106 BKCinsert_bun (_165:void)<-(tzone_bat:bat[:oid,:timezone])(_166:oid)(tzone_09:timezone)
    bat.insert(tzone_bat,10@0,tzone_10);	# 107 BKCinsert_bun (_167:void)<-(tzone_bat:bat[:oid,:timezone])(_168:oid)(tzone_10:timezone)
    bat.insert(tzone_bat,11@0,tzone_11);	# 108 BKCinsert_bun (_169:void)<-(tzone_bat:bat[:oid,:timezone])(_170:oid)(tzone_11:timezone)
#tzone_bat.bat.insert(9@0, tzone_09).insert(10@0, tzone_10).insert(11@0, tzone_11); 	# 109  (_171:str)
    bat.insert(tzone_bat,12@0,tzone_12);	# 110 BKCinsert_bun (_172:void)<-(tzone_bat:bat[:oid,:timezone])(_173:oid)(tzone_12:timezone)
    bat.insert(tzone_bat,13@0,tzone_13);	# 111 BKCinsert_bun (_174:void)<-(tzone_bat:bat[:oid,:timezone])(_175:oid)(tzone_13:timezone)
    bat.insert(tzone_bat,15@0,tzone_15);	# 112 BKCinsert_bun (_176:void)<-(tzone_bat:bat[:oid,:timezone])(_177:oid)(tzone_15:timezone)
#tzone_bat.bat.insert(12@0, tzone_12).insert(13@0, tzone_13).insert(15@0, tzone_15); 	# 113  (_178:str)
##line 614 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 114  (_179:str)
## test the various ways to create dates 	# 115  (_180:str)
    date_00 := mtime.date(2000,1,1);	# 116 MTIMEdate_create (date_00:date)<-(_182:int)(_183:int)(_183:int)
#var date_00 := date(2000,01,01); 	# 117  (_184:str)
    date_01 := mtime.date("5000-JAN-01");	# 118 MTIMEdate_fromstr (date_01:date)<-(_186:str)
#var date_01 := date("5000-JAN-01"); 	# 119  (_187:str)
    date_02 := mtime.date("1968-FEBR-29");	# 120 MTIMEdate_fromstr (date_02:date)<-(_189:str)
#var date_02 := date("1968-FEBR-29"); 	# 121  (_190:str)
    date_03 := mtime.date("1-MARCH-01");	# 122 MTIMEdate_fromstr (date_03:date)<-(_192:str)
#var date_03 := date("1-MARCH-01"); 	# 123  (_193:str)
    date_04 := mtime.date("-5867411-JAN-1");	# 124 MTIMEdate_fromstr (date_04:date)<-(_195:str)
#var date_04 := date("-5867411-JAN-1"); 	# 125  (_196:str)
    date_05 := mtime.date("-768/octobe/01");	# 126 MTIMEdate_fromstr (date_05:date)<-(_198:str)
#var date_05 := date("-768/octobe/01"); 	# 127  (_199:str)
    date_06 := mtime.date("5000\\novembe\\01");	# 128 MTIMEdate_fromstr (date_06:date)<-(_201:str)
#var date_06 := date("5000\\novembe\\01"); 	# 129  (_202:str)
    date_07 := mtime.date("-1999/jun/01");	# 130 MTIMEdate_fromstr (date_07:date)<-(_204:str)
#var date_07 := date("-1999/jun/01"); 	# 131  (_205:str)
    date_08 := mtime.date("2000-jul-14");	# 132 MTIMEdate_fromstr (date_08:date)<-(_207:str)
#var date_08 := date("2000-jul-14"); 	# 133  (_208:str)
    date_09 := mtime.date("1999-sept-01");	# 134 MTIMEdate_fromstr (date_09:date)<-(_210:str)
#var date_09 := date("1999-sept-01"); 	# 135  (_211:str)
    date_10 := mtime.date("1998-decemBeR-01");	# 136 MTIMEdate_fromstr (date_10:date)<-(_213:str)
#var date_10 := date("1998-decemBeR-01"); 	# 137  (_214:str)
    date_11 := mtime.date("1953 may                01");	# 138 MTIMEdate_fromstr (date_11:date)<-(_216:str)
#var date_11 := date("1953 may                01"); 	# 139  (_217:str)
    date_12 := mtime.date("5867411-DEC-31");	# 140 MTIMEdate_fromstr (date_12:date)<-(_219:str)
#var date_12 := date("5867411-DEC-31"); 	# 141  (_220:str)
## nil dates 	# 142  (_221:str)
    date_13 := mtime.date(1996,13,1);	# 143 MTIMEdate_create (date_13:date)<-(_223:int)(_224:int)(_225:int)
#var date_13 := date(1996,13,1); 	# 144  (_226:str)
    date_14 := mtime.date("999999999999999999999-01-01");	# 145 MTIMEdate_fromstr (date_14:date)<-(_228:str)
#var date_14 := date("999999999999999999999-01-01"); 	# 146  (_229:str)
    date_15 := mtime.date("1999-JANUARI-01");	# 147 MTIMEdate_fromstr (date_15:date)<-(_231:str)
#var date_15 := date("1999-JANUARI-01"); 	# 148  (_232:str)
    date_16 := mtime.date("1999-FEBR-29");	# 149 MTIMEdate_fromstr (date_16:date)<-(_234:str)
#var date_16 := date("1999-FEBR-29"); 	# 150  (_235:str)
    date_17 := mtime.date("-1-DECEMBER-0");	# 151 MTIMEdate_fromstr (date_17:date)<-(_237:str)
#var date_17 := date("-1-DECEMBER-0"); 	# 152  (_238:str)
    date_18 := mtime.date("5000\novembe31");	# 153 MTIMEdate_fromstr (date_18:date)<-(_240:str)
#var date_18 := date("5000\novembe\31"); 	# 154  (_241:str)
    date_19 := mtime.date("nil");	# 155 MTIMEdate_fromstr (date_19:date)<-(_243:str)
#var date_19 := date("nil"); 	# 156  (_244:str)
    date_20 := mtime.date("1999-sept-31");	# 157 MTIMEdate_fromstr (date_20:date)<-(_246:str)
#var date_20 := date("1999-sept-31"); 	# 158  (_247:str)
    date_bat := bat.new(:oid,:date);	# 159 CMDBATnew (date_bat:bat[:oid,:date])<-(_141:oid)(_249:date)
#var date_bat := bat.new(oid,date); 	# 160  (_250:str)
    bat.insert(date_bat,0@0,date_00);	# 161 BKCinsert_bun (_251:void)<-(date_bat:bat[:oid,:date])(_252:oid)(date_00:date)
    bat.insert(date_bat,1@0,date_01);	# 162 BKCinsert_bun (_253:void)<-(date_bat:bat[:oid,:date])(_254:oid)(date_01:date)
    bat.insert(date_bat,2@0,date_02);	# 163 BKCinsert_bun (_255:void)<-(date_bat:bat[:oid,:date])(_256:oid)(date_02:date)
#date_bat.bat.insert(0@0, date_00).insert(1@0, date_01).insert(2@0, date_02); 	# 164  (_257:str)
    bat.insert(date_bat,3@0,date_03);	# 165 BKCinsert_bun (_258:void)<-(date_bat:bat[:oid,:date])(_259:oid)(date_03:date)
    bat.insert(date_bat,4@0,date_04);	# 166 BKCinsert_bun (_260:void)<-(date_bat:bat[:oid,:date])(_261:oid)(date_04:date)
    bat.insert(date_bat,5@0,date_05);	# 167 BKCinsert_bun (_262:void)<-(date_bat:bat[:oid,:date])(_263:oid)(date_05:date)
#date_bat.bat.insert(3@0, date_03).insert(4@0, date_04).insert(5@0, date_05); 	# 168  (_264:str)
    bat.insert(date_bat,6@0,date_06);	# 169 BKCinsert_bun (_265:void)<-(date_bat:bat[:oid,:date])(_266:oid)(date_06:date)
    bat.insert(date_bat,7@0,date_07);	# 170 BKCinsert_bun (_267:void)<-(date_bat:bat[:oid,:date])(_268:oid)(date_07:date)
    bat.insert(date_bat,8@0,date_08);	# 171 BKCinsert_bun (_269:void)<-(date_bat:bat[:oid,:date])(_270:oid)(date_08:date)
#date_bat.bat.insert(6@0, date_06).insert(7@0, date_07).insert(8@0, date_08); 	# 172  (_271:str)
    bat.insert(date_bat,9@0,date_09);	# 173 BKCinsert_bun (_272:void)<-(date_bat:bat[:oid,:date])(_273:oid)(date_09:date)
    bat.insert(date_bat,10@0,date_10);	# 174 BKCinsert_bun (_274:void)<-(date_bat:bat[:oid,:date])(_275:oid)(date_10:date)
    bat.insert(date_bat,11@0,date_11);	# 175 BKCinsert_bun (_276:void)<-(date_bat:bat[:oid,:date])(_277:oid)(date_11:date)
#date_bat.bat.insert(9@0, date_09).insert(10@0, date_10).insert(11@0, date_11); 	# 176  (_278:str)
    bat.insert(date_bat,12@0,date_12);	# 177 BKCinsert_bun (_279:void)<-(date_bat:bat[:oid,:date])(_280:oid)(date_12:date)
    bat.insert(date_bat,13@0,date_13);	# 178 BKCinsert_bun (_281:void)<-(date_bat:bat[:oid,:date])(_282:oid)(date_13:date)
    bat.insert(date_bat,14@0,date_14);	# 179 BKCinsert_bun (_283:void)<-(date_bat:bat[:oid,:date])(_284:oid)(date_14:date)
#date_bat.bat.insert(12@0, date_12).insert(13@0, date_13).insert(14@0, date_14); 	# 180  (_285:str)
    bat.insert(date_bat,15@0,date_15);	# 181 BKCinsert_bun (_286:void)<-(date_bat:bat[:oid,:date])(_287:oid)(date_15:date)
    bat.insert(date_bat,16@0,date_16);	# 182 BKCinsert_bun (_288:void)<-(date_bat:bat[:oid,:date])(_289:oid)(date_16:date)
    bat.insert(date_bat,17@0,date_17);	# 183 BKCinsert_bun (_290:void)<-(date_bat:bat[:oid,:date])(_291:oid)(date_17:date)
#date_bat.bat.insert(15@0, date_15).insert(16@0, date_16).insert(17@0, date_17); 	# 184  (_292:str)
    bat.insert(date_bat,18@0,date_18);	# 185 BKCinsert_bun (_293:void)<-(date_bat:bat[:oid,:date])(_294:oid)(date_18:date)
    bat.insert(date_bat,19@0,date_19);	# 186 BKCinsert_bun (_295:void)<-(date_bat:bat[:oid,:date])(_296:oid)(date_19:date)
    bat.insert(date_bat,20@0,date_20);	# 187 BKCinsert_bun (_297:void)<-(date_bat:bat[:oid,:date])(_298:oid)(date_20:date)
#date_bat.bat.insert(18@0, date_18).insert(19@0, date_19).insert(20@0, date_20); 	# 188  (_299:str)
## test the operations on dates 	# 189  (_300:str)
    ne_a := bat.setColumn(date_bat,"date");	# 190 BKCsetColumn (ne_a:void)<-(date_bat:bat[:oid,:date])(_302:str)
#io.print(date_bat.bat.setColumn("date"), 	# 191  (_303:str)
    _360 := bat.new(nil:oid,nil:int);	# 192 CMDBATnew (_360:bat[:oid,:int])<-(_361:oid)(_362:int)
barrier (_364,_365,_366):= bat.newIterator(date_bat);	# 193 CHPbunIterator (_364:lng)(_365:oid)(_366:date)<-(date_bat:bat[:oid,:date]) jump 200
    _368 := mtime.year(_366);	# 194 MTIMEdate_extract_year (_368:int)<-(_366:date)
    bat.insert(_360,_365,_368);	# 195 BKCinsert_bun (_369:void)<-(_360:bat[:oid,:int])(_365:oid)(_368:int)
    redo (_364,_365,_366):= bat.hasMoreElements(date_bat);	# 196 CHPbunHasMoreElements (_364:lng)(_365:oid)(_366:date)<-(date_bat:bat[:oid,:date]) jump 194
catch MALException:str ;	# 197  (MALException:str) jump 199
    redo (_364,_365,_366):= bat.hasMoreElements(date_bat);	# 198 CHPbunHasMoreElements (_364:lng)(_365:oid)(_366:date)<-(date_bat:bat[:oid,:date]) jump 194
exit MALException:str ;	# 199  (MALException:str)
exit (_364,_365,_366);	# 200  (_364:lng)(_365:oid)(_366:date)
    oe_a:bat[:oid,:int]  := _360;	# 201  (oe_a:bat[:oid,:int])<-(_360:bat[:oid,:int])
    pe_a := bat.setColumn(oe_a,"year");	# 202 BKCsetColumn (pe_a:void)<-(oe_a:bat[:oid,:int])(_306:str)
#      [year](date_bat).bat.setColumn("year"), 	# 203  (_308:str)
    _375 := bat.new(nil:oid,nil:int);	# 204 CMDBATnew (_375:bat[:oid,:int])<-(_361:oid)(_362:int)
barrier (_377,_378,_379):= bat.newIterator(date_bat);	# 205 CHPbunIterator (_377:lng)(_378:oid)(_379:date)<-(date_bat:bat[:oid,:date]) jump 212
    _381 := mtime.day(_379);	# 206 MTIMEdate_extract_day (_381:int)<-(_379:date)
    bat.insert(_375,_378,_381);	# 207 BKCinsert_bun (_382:void)<-(_375:bat[:oid,:int])(_378:oid)(_381:int)
    redo (_377,_378,_379):= bat.hasMoreElements(date_bat);	# 208 CHPbunHasMoreElements (_377:lng)(_378:oid)(_379:date)<-(date_bat:bat[:oid,:date]) jump 206
catch MALException:str ;	# 209  (MALException:str) jump 211
    redo (_377,_378,_379):= bat.hasMoreElements(date_bat);	# 210 CHPbunHasMoreElements (_377:lng)(_378:oid)(_379:date)<-(date_bat:bat[:oid,:date]) jump 206
exit MALException:str ;	# 211  (MALException:str)
exit (_377,_378,_379);	# 212  (_377:lng)(_378:oid)(_379:date)
    qe_a:bat[:oid,:int]  := _375;	# 213  (qe_a:bat[:oid,:int])<-(_375:bat[:oid,:int])
    re_a := bat.setColumn(qe_a,"day");	# 214 BKCsetColumn (re_a:void)<-(qe_a:bat[:oid,:int])(_310:str)
#      [day](date_bat).bat.setColumn("day"), 	# 215  (_312:str)
    _388 := bat.new(nil:oid,nil:int);	# 216 CMDBATnew (_388:bat[:oid,:int])<-(_361:oid)(_362:int)
barrier (_390,_391,_392):= bat.newIterator(date_bat);	# 217 CHPbunIterator (_390:lng)(_391:oid)(_392:date)<-(date_bat:bat[:oid,:date]) jump 224
    _394 := mtime.month(_392);	# 218 MTIMEdate_extract_month (_394:int)<-(_392:date)
    bat.insert(_388,_391,_394);	# 219 BKCinsert_bun (_395:void)<-(_388:bat[:oid,:int])(_391:oid)(_394:int)
    redo (_390,_391,_392):= bat.hasMoreElements(date_bat);	# 220 CHPbunHasMoreElements (_390:lng)(_391:oid)(_392:date)<-(date_bat:bat[:oid,:date]) jump 218
catch MALException:str ;	# 221  (MALException:str) jump 223
    redo (_390,_391,_392):= bat.hasMoreElements(date_bat);	# 222 CHPbunHasMoreElements (_390:lng)(_391:oid)(_392:date)<-(date_bat:bat[:oid,:date]) jump 218
exit MALException:str ;	# 223  (MALException:str)
exit (_390,_391,_392);	# 224  (_390:lng)(_391:oid)(_392:date)
    se_a:bat[:oid,:int]  := _388;	# 225  (se_a:bat[:oid,:int])<-(_388:bat[:oid,:int])
    _401 := bat.new(nil:oid,nil:str);	# 226 CMDBATnew (_401:bat[:oid,:str])<-(_402:oid)(_403:str)
barrier (_405,_406,_407):= bat.newIterator(se_a);	# 227 CHPbunIterator (_405:lng)(_406:oid)(_407:int)<-(se_a:bat[:oid,:int]) jump 234
    _409 := mtime.monthname(_407);	# 228 MTIMEmonth_to_str (_409:str)<-(_407:int)
    bat.insert(_401,_406,_409);	# 229 BKCinsert_bun (_410:void)<-(_401:bat[:oid,:str])(_406:oid)(_409:str)
    redo (_405,_406,_407):= bat.hasMoreElements(se_a);	# 230 CHPbunHasMoreElements (_405:lng)(_406:oid)(_407:int)<-(se_a:bat[:oid,:int]) jump 228
catch MALException:str ;	# 231  (MALException:str) jump 233
    redo (_405,_406,_407):= bat.hasMoreElements(se_a);	# 232 CHPbunHasMoreElements (_405:lng)(_406:oid)(_407:int)<-(se_a:bat[:oid,:int]) jump 228
exit MALException:str ;	# 233  (MALException:str)
exit (_405,_406,_407);	# 234  (_405:lng)(_406:oid)(_407:int)
    te_a:bat[:oid,:str]  := _401;	# 235  (te_a:bat[:oid,:str])<-(_401:bat[:oid,:str])
    ue_a := bat.setColumn(te_a,"monthname");	# 236 BKCsetColumn (ue_a:void)<-(te_a:bat[:oid,:str])(_316:str)
#      [monthname]([month](date_bat)).bat.setColumn("monthname"), 	# 237  (_318:str)
    _416 := bat.new(nil:oid,nil:int);	# 238 CMDBATnew (_416:bat[:oid,:int])<-(_402:oid)(_417:int)
barrier (_419,_420,_421):= bat.newIterator(date_bat);	# 239 CHPbunIterator (_419:lng)(_420:oid)(_421:date)<-(date_bat:bat[:oid,:date]) jump 246
    _423 := mtime.month(_421);	# 240 MTIMEdate_extract_month (_423:int)<-(_421:date)
    bat.insert(_416,_420,_423);	# 241 BKCinsert_bun (_424:void)<-(_416:bat[:oid,:int])(_420:oid)(_423:int)
    redo (_419,_420,_421):= bat.hasMoreElements(date_bat);	# 242 CHPbunHasMoreElements (_419:lng)(_420:oid)(_421:date)<-(date_bat:bat[:oid,:date]) jump 240
catch MALException:str ;	# 243  (MALException:str) jump 245
    redo (_419,_420,_421):= bat.hasMoreElements(date_bat);	# 244 CHPbunHasMoreElements (_419:lng)(_420:oid)(_421:date)<-(date_bat:bat[:oid,:date]) jump 240
exit MALException:str ;	# 245  (MALException:str)
exit (_419,_420,_421);	# 246  (_419:lng)(_420:oid)(_421:date)
    ve_a:bat[:oid,:int]  := _416;	# 247  (ve_a:bat[:oid,:int])<-(_416:bat[:oid,:int])
    _430 := bat.new(nil:oid,nil:str);	# 248 CMDBATnew (_430:bat[:oid,:str])<-(_402:oid)(_403:str)
barrier (_432,_433,_434):= bat.newIterator(ve_a);	# 249 CHPbunIterator (_432:lng)(_433:oid)(_434:int)<-(ve_a:bat[:oid,:int]) jump 256
    _436 := mtime.monthname(_434);	# 250 MTIMEmonth_to_str (_436:str)<-(_434:int)
    bat.insert(_430,_433,_436);	# 251 BKCinsert_bun (_437:void)<-(_430:bat[:oid,:str])(_433:oid)(_436:str)
    redo (_432,_433,_434):= bat.hasMoreElements(ve_a);	# 252 CHPbunHasMoreElements (_432:lng)(_433:oid)(_434:int)<-(ve_a:bat[:oid,:int]) jump 250
catch MALException:str ;	# 253  (MALException:str) jump 255
    redo (_432,_433,_434):= bat.hasMoreElements(ve_a);	# 254 CHPbunHasMoreElements (_432:lng)(_433:oid)(_434:int)<-(ve_a:bat[:oid,:int]) jump 250
exit MALException:str ;	# 255  (MALException:str)
exit (_432,_433,_434);	# 256  (_432:lng)(_433:oid)(_434:int)
    we_a:bat[:oid,:str]  := _430;	# 257  (we_a:bat[:oid,:str])<-(_430:bat[:oid,:str])
    _443 := bat.new(nil:oid,nil:int);	# 258 CMDBATnew (_443:bat[:oid,:int])<-(_444:oid)(_417:int)
barrier (_446,_447,_448):= bat.newIterator(we_a);	# 259 CHPbunIterator (_446:lng)(_447:oid)(_448:str)<-(we_a:bat[:oid,:str]) jump 266
    _450 := mtime.monthnum(_448);	# 260 MTIMEmonth_from_str (_450:int)<-(_448:str)
    bat.insert(_443,_447,_450);	# 261 BKCinsert_bun (_451:void)<-(_443:bat[:oid,:int])(_447:oid)(_450:int)
    redo (_446,_447,_448):= bat.hasMoreElements(we_a);	# 262 CHPbunHasMoreElements (_446:lng)(_447:oid)(_448:str)<-(we_a:bat[:oid,:str]) jump 260
catch MALException:str ;	# 263  (MALException:str) jump 265
    redo (_446,_447,_448):= bat.hasMoreElements(we_a);	# 264 CHPbunHasMoreElements (_446:lng)(_447:oid)(_448:str)<-(we_a:bat[:oid,:str]) jump 260
exit MALException:str ;	# 265  (MALException:str)
exit (_446,_447,_448);	# 266  (_446:lng)(_447:oid)(_448:str)
    xe_a:bat[:oid,:int]  := _443;	# 267  (xe_a:bat[:oid,:int])<-(_443:bat[:oid,:int])
    ye_a := bat.setColumn(xe_a,"monthnum");	# 268 BKCsetColumn (ye_a:void)<-(xe_a:bat[:oid,:int])(_322:str)
    io.print("print(date_bat,oe_a,qe_a,te_a,xe_a)");	# 269 IOprint_val (_324:void)<-(_325:str)
    af_a := io.print(date_bat,oe_a,qe_a,te_a,xe_a);	# 270 IOtable (af_a:void)<-(date_bat:bat[:oid,:date])(oe_a:bat[:oid,:int])(qe_a:bat[:oid,:int])(te_a:bat[:oid,:str])(xe_a:bat[:oid,:int])
#      [monthnum]([monthname]([month](date_bat))).bat.setColumn("monthnum")); 	# 271  (_327:str)
    _457 := bat.new(nil:oid,nil:date);	# 272 CMDBATnew (_457:bat[:oid,:date])<-(_444:oid)(_458:date)
barrier (_460,_461,_462):= bat.newIterator(date_bat);	# 273 CHPbunIterator (_460:lng)(_461:oid)(_462:date)<-(date_bat:bat[:oid,:date]) jump 280
    _464 := mtime.addyears(_462,-100);	# 274 MTIMEdate_addyears (_464:date)<-(_462:date)(_330:int)
    bat.insert(_457,_461,_464);	# 275 BKCinsert_bun (_465:void)<-(_457:bat[:oid,:date])(_461:oid)(_464:date)
    redo (_460,_461,_462):= bat.hasMoreElements(date_bat);	# 276 CHPbunHasMoreElements (_460:lng)(_461:oid)(_462:date)<-(date_bat:bat[:oid,:date]) jump 274
catch MALException:str ;	# 277  (MALException:str) jump 279
    redo (_460,_461,_462):= bat.hasMoreElements(date_bat);	# 278 CHPbunHasMoreElements (_460:lng)(_461:oid)(_462:date)<-(date_bat:bat[:oid,:date]) jump 274
exit MALException:str ;	# 279  (MALException:str)
exit (_460,_461,_462);	# 280  (_460:lng)(_461:oid)(_462:date)
    date_addyears:bat[:oid,:date]  := _457;	# 281  (date_addyears:bat[:oid,:date])<-(_457:bat[:oid,:date])
#var date_addyears := [addyears](date_bat, -100); 	# 282  (_331:str)
    _471 := bat.new(nil:oid,nil:date);	# 283 CMDBATnew (_471:bat[:oid,:date])<-(_444:oid)(_458:date)
barrier (_473,_474,_475):= bat.newIterator(date_bat);	# 284 CHPbunIterator (_473:lng)(_474:oid)(_475:date)<-(date_bat:bat[:oid,:date]) jump 291
    _477 := mtime.addmonths(_475,1);	# 285 MTIMEdate_addmonths (_477:date)<-(_475:date)(_334:int)
    bat.insert(_471,_474,_477);	# 286 BKCinsert_bun (_478:void)<-(_471:bat[:oid,:date])(_474:oid)(_477:date)
    redo (_473,_474,_475):= bat.hasMoreElements(date_bat);	# 287 CHPbunHasMoreElements (_473:lng)(_474:oid)(_475:date)<-(date_bat:bat[:oid,:date]) jump 285
catch MALException:str ;	# 288  (MALException:str) jump 290
    redo (_473,_474,_475):= bat.hasMoreElements(date_bat);	# 289 CHPbunHasMoreElements (_473:lng)(_474:oid)(_475:date)<-(date_bat:bat[:oid,:date]) jump 285
exit MALException:str ;	# 290  (MALException:str)
exit (_473,_474,_475);	# 291  (_473:lng)(_474:oid)(_475:date)
    date_addmonths:bat[:oid,:date]  := _471;	# 292  (date_addmonths:bat[:oid,:date])<-(_471:bat[:oid,:date])
#var date_addmonths := [addmonths](date_bat, 1); 	# 293  (_335:str)
    bat.setColumn(date_bat,"date");	# 294 BKCsetColumn (_336:void)<-(date_bat:bat[:oid,:date])(_337:str)
#io.print(date_bat.bat.setColumn("date"), 	# 295  (_338:str)
    bat.setColumn(date_addyears,"min100y");	# 296 BKCsetColumn (_339:void)<-(date_addyears:bat[:oid,:date])(_340:str)
#      date_addyears.bat.setColumn("min100y"), 	# 297  (_341:str)
    _484 := bat.new(nil:oid,nil:int);	# 298 CMDBATnew (_484:bat[:oid,:int])<-(_485:oid)(_486:int)
barrier (_488,_489,_490):= bat.newIterator(date_addyears);	# 299 CHPbunIterator (_488:lng)(_489:oid)(_490:date)<-(date_addyears:bat[:oid,:date]) jump 307
    _492 := algebra.find(date_bat,_489);	# 300 ALGfind (_492:date)<-(date_bat:bat[:oid,:date])(_489:oid)
    _494 := mtime.diff(_490,_492);	# 301 MTIMEdate_diff (_494:int)<-(_490:date)(_492:date)
    bat.insert(_484,_489,_494);	# 302 BKCinsert_bun (_495:void)<-(_484:bat[:oid,:int])(_489:oid)(_494:int)
    redo (_488,_489,_490):= bat.hasMoreElements(date_addyears);	# 303 CHPbunHasMoreElements (_488:lng)(_489:oid)(_490:date)<-(date_addyears:bat[:oid,:date]) jump 300
catch MALException:str ;	# 304  (MALException:str) jump 306
    redo (_488,_489,_490):= bat.hasMoreElements(date_addyears);	# 305 CHPbunHasMoreElements (_488:lng)(_489:oid)(_490:date)<-(date_addyears:bat[:oid,:date]) jump 300
exit MALException:str ;	# 306  (MALException:str)
exit (_488,_489,_490);	# 307  (_488:lng)(_489:oid)(_490:date)
    df_a:bat[:oid,:int]  := _484;	# 308  (df_a:bat[:oid,:int])<-(_484:bat[:oid,:int])
    bat.setColumn(df_a,"diff");	# 309 BKCsetColumn (_345:void)<-(df_a:bat[:oid,:int])(_344:str)
    io.print("print(date_bat,date_addyears,df_a)");	# 310 IOprint_val (_346:void)<-(_347:str)
    ff_a := io.print(date_bat,date_addyears,df_a);	# 311 IOtable (ff_a:void)<-(date_bat:bat[:oid,:date])(date_addyears:bat[:oid,:date])(df_a:bat[:oid,:int])
#      [diff](date_addyears, date_bat).bat.setColumn("diff")); 	# 312  (_349:str)
    bat.setColumn(date_bat,"date");	# 313 BKCsetColumn (_350:void)<-(date_bat:bat[:oid,:date])(_337:str)
#io.print(date_bat.bat.setColumn("date"), 	# 314  (_338:str)
    bat.setColumn(date_addmonths,"plus1m");	# 315 BKCsetColumn (_351:void)<-(date_addmonths:bat[:oid,:date])(_352:str)
#      date_addmonths.bat.setColumn("plus1m"), 	# 316  (_353:str)
    _501 := bat.new(nil:oid,nil:int);	# 317 CMDBATnew (_501:bat[:oid,:int])<-(_485:oid)(_486:int)
barrier (_503,_504,_505):= bat.newIterator(date_addmonths);	# 318 CHPbunIterator (_503:lng)(_504:oid)(_505:date)<-(date_addmonths:bat[:oid,:date]) jump 326
    _507 := algebra.find(date_bat,_504);	# 319 ALGfind (_507:date)<-(date_bat:bat[:oid,:date])(_504:oid)
    _509 := mtime.diff(_505,_507);	# 320 MTIMEdate_diff (_509:int)<-(_505:date)(_507:date)
    bat.insert(_501,_504,_509);	# 321 BKCinsert_bun (_510:void)<-(_501:bat[:oid,:int])(_504:oid)(_509:int)
    redo (_503,_504,_505):= bat.hasMoreElements(date_addmonths);	# 322 CHPbunHasMoreElements (_503:lng)(_504:oid)(_505:date)<-(date_addmonths:bat[:oid,:date]) jump 319
catch MALException:str ;	# 323  (MALException:str) jump 325
    redo (_503,_504,_505):= bat.hasMoreElements(date_addmonths);	# 324 CHPbunHasMoreElements (_503:lng)(_504:oid)(_505:date)<-(date_addmonths:bat[:oid,:date]) jump 319
exit MALException:str ;	# 325  (MALException:str)
exit (_503,_504,_505);	# 326  (_503:lng)(_504:oid)(_505:date)
    if_a:bat[:oid,:int]  := _501;	# 327  (if_a:bat[:oid,:int])<-(_501:bat[:oid,:int])
    bat.setColumn(if_a,"diff");	# 328 BKCsetColumn (_355:void)<-(if_a:bat[:oid,:int])(_344:str)
    io.print(" print(date_bat,date_addmonths,if_a)");	# 329 IOprint_val (_356:void)<-(_357:str)
    kf_a := io.print(date_bat,date_addmonths,if_a);	# 330 IOtable (kf_a:void)<-(date_bat:bat[:oid,:date])(date_addmonths:bat[:oid,:date])(if_a:bat[:oid,:int])
#      [diff](date_addmonths, date_bat).bat.setColumn("diff")); 	# 331  (_358:str)
end main;	# 332  
[ "print(date_bat,oe_a,qe_a,te_a,xe_a)" ]
#---------------------------------------------------------------------------------#
# h	date		year		day	monthname	monthnum		  # name
# void	date		int		int	str		int		  # type
#---------------------------------------------------------------------------------#
[ 0@0,	  2000-01-01,	  2000,		  1,	  "january",	  1		  ]
[ 1@0,	  5000-01-01,	  5000,		  1,	  "january",	  1		  ]
[ 2@0,	  1968-02-29,	  1968,		  29,	  "february",	  2		  ]
[ 3@0,	  1-03-01,	  1,		  1,	  "march",	  3		  ]
[ 4@0,	  -5867411-01-01, -5867411,	  1,	  "january",	  1		  ]
[ 5@0,	  -768-10-01,	  -768,		  1,	  "october",	  10		  ]
[ 6@0,	  5000-11-01,	  5000,		  1,	  "november",	  11		  ]
[ 7@0,	  -1999-06-01,	  -1999,	  1,	  "june",	  6		  ]
[ 8@0,	  2000-07-14,	  2000,		  14,	  "july",	  7		  ]
[ 9@0,	  1999-09-01,	  1999,		  1,	  "september",	  9		  ]
[ 10@0,	  1998-12-01,	  1998,		  1,	  "december",	  12		  ]
[ 11@0,	  1953-05-01,	  1953,		  1,	  "may",	  5		  ]
[ 12@0,	  5867411-12-31,  5867411,	  31,	  "december",	  12		  ]
[ 13@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 14@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 15@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 16@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 17@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 18@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 19@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 20@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ "print(date_bat,date_addyears,df_a)" ]
#-------------------------------------------------#
# лллл;	date		min100y		diff	  # name
# void	date		date		int	  # type
#-------------------------------------------------#
[ 0@0,	  2000-01-01,	  1900-01-01,	  -36524  ]
[ 1@0,	  5000-01-01,	  4900-01-01,	  -36524  ]
[ 2@0,	  1968-02-29,	  1868-02-29,	  -36524  ]
[ 3@0,	  1-03-01,	  -100-03-01,	  -36525  ]
[ 4@0,	  -5867411-01-01, nil,		  nil	  ]
[ 5@0,	  -768-10-01,	  -868-10-01,	  -36525  ]
[ 6@0,	  5000-11-01,	  4900-11-01,	  -36524  ]
[ 7@0,	  -1999-06-01,	  -2099-06-01,	  -36525  ]
[ 8@0,	  2000-07-14,	  1900-07-14,	  -36525  ]
[ 9@0,	  1999-09-01,	  1899-09-01,	  -36524  ]
[ 10@0,	  1998-12-01,	  1898-12-01,	  -36524  ]
[ 11@0,	  1953-05-01,	  1853-05-01,	  -36524  ]
[ 12@0,	  5867411-12-31,  5867311-12-31,  -36524  ]
[ 13@0,	  nil,		  nil,		  nil	  ]
[ 14@0,	  nil,		  nil,		  nil	  ]
[ 15@0,	  nil,		  nil,		  nil	  ]
[ 16@0,	  nil,		  nil,		  nil	  ]
[ 17@0,	  nil,		  nil,		  nil	  ]
[ 18@0,	  nil,		  nil,		  nil	  ]
[ 19@0,	  nil,		  nil,		  nil	  ]
[ 20@0,	  nil,		  nil,		  nil	  ]
[ " print(date_bat,date_addmonths,if_a)" ]
#---------------------------------------------------------#
# лллллллл		date		plus1m		diff	  # name
# void		date		date		int	  # type
#---------------------------------------------------------#
[ 0@0,		  2000-01-01,	  2000-02-01,	  31	  ]
[ 1@0,		  5000-01-01,	  5000-02-01,	  31	  ]
[ 2@0,		  1968-02-29,	  1968-03-29,	  29	  ]
[ 3@0,		  1-03-01,	  1-04-01,	  31	  ]
[ 4@0,		  -5867411-01-01, -5867411-02-01, 31	  ]
[ 5@0,		  -768-10-01,	  -768-11-01,	  31	  ]
[ 6@0,		  5000-11-01,	  5000-12-01,	  30	  ]
[ 7@0,		  -1999-06-01,	  -1999-07-01,	  30	  ]
[ 8@0,		  2000-07-14,	  2000-08-14,	  31	  ]
[ 9@0,		  1999-09-01,	  1999-10-01,	  30	  ]
[ 10@0,		  1998-12-01,	  1999-01-01,	  31	  ]
[ 11@0,		  1953-05-01,	  1953-06-01,	  31	  ]
[ 12@0,		  5867411-12-31,  nil,		  nil	  ]
[ 13@0,		  nil,		  nil,		  nil	  ]
[ 14@0,		  nil,		  nil,		  nil	  ]
[ 15@0,		  nil,		  nil,		  nil	  ]
[ 16@0,		  nil,		  nil,		  nil	  ]
[ 17@0,		  nil,		  nil,		  nil	  ]
[ 18@0,		  nil,		  nil,		  nil	  ]
[ 19@0,		  nil,		  nil,		  nil	  ]
[ 20@0,		  nil,		  nil,		  nil	  ]

# 23:31:31 >  
# 23:31:31 >  Done.
# 23:31:31 >  

