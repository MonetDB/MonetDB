stdout of test 'tst1203` in directory 'src/mal` itself:


# 23:31:30 >  
# 23:31:30 >  Mtimeout -timeout 60 mserver5 "--config=/ufs/mk/monet5/Linux/etc/monetdb5.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5//Linux/lib/MonetDB5:/ufs/mk/monet5//Linux/lib/MonetDB5/lib:/ufs/mk/monet5//Linux/lib/MonetDB5/bin" --set "gdk_dbfarm=/ufs/mk/monet5//Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/sql_logs" --set "xquery_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/xquery_logs" --set mapi_port=35239 --set xrpc_port=40860 --set monet_prompt= --trace --dbname=mTests_src_mal  tst1203.mal
# 23:31:30 >  

# MonetDB Server v5.0.0_beta2_1
# Copyright (c) 1993-2007 CWI, all rights reserved
# Compiled for x86_64-redhat-linux-gnu/64bit with 64bit OIDs dynamically linked
# dbname:mTests_src_mal
# Visit http://monetdb.cwi.nl/ for further information
## Mil compiler Version 1.0)
## Copyright (c) 1993-2001, CWI. All rights reserved.
#
## Predefined code segment
##
###line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
##module(monettime,alarm);
##
##
##
#lzone:= mtime.timezone("GMT+1");
#mtime.timezone_local(lzone);
###line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create rules
#	rule_jan:= mtime.rule("1st MON from start of JAN@01:15");
##var rule_jan := mtime.rule("1st MON from start of JAN@01:15");
#	rule_mar:= mtime.rule("first WEDNE on or after march 10@01:15");
##var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");
#	rule_apr:= mtime.rule("last THU on or before aPr 1@01:15");
##var rule_apr := mtime.rule("last THU on or before aPr 1@01:15");
#	rule_may:= mtime.rule("MAY 26@01:15");
##var rule_may := mtime.rule("MAY 26@01:15");
#	rule_jun:= mtime.rule("2nd TUE from end of june@01:15");
##var rule_jun := mtime.rule("2nd TUE from end of june@01:15");
#	rule_jul:= mtime.rule(7,1,1,75);
##var rule_jul := mtime.rule(7,1,1,75);
#	rule_aug:= mtime.rule(8,-1,1,75);
##var rule_aug := mtime.rule(8,-1,1,75);
#	rule_sep:= mtime.rule(9,-10,3,75);
##var rule_sep := mtime.rule(9,-10,3,75);
#	rule_oct:= mtime.rule(10,31,0,75);
##var rule_oct := mtime.rule(10,31,0,75);
#	rule_nov:= mtime.rule(11,-10,-4,75);
##var rule_nov := mtime.rule(11,-10,-4,75);
### nil rules
#	rule_dec:= mtime.rule(12,-31,0,75);
##var rule_dec := mtime.rule(12,-31,0,75);
#	rule_feb:= mtime.rule("first fRiDaY on or after february 30@01:15");
##var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");
## 
#	rule_bat:= bat.new(:str,:zrule,10);
##var rule_bat := bat.new(str,rule,10);
#	bat.insert(rule_bat,"jan",rule_jan);
#	bat.insert(rule_bat,"feb",rule_feb);
#	bat.insert(rule_bat,"mar",rule_mar);
#	bat.insert(rule_bat,"apr",rule_apr);
##rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr);
#	bat.insert(rule_bat,"may",rule_may);
#	bat.insert(rule_bat,"jun",rule_jun);
#	bat.insert(rule_bat,"jul",rule_jul);
#	bat.insert(rule_bat,"aug",rule_aug);
##rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug);
#	bat.insert(rule_bat,"sep",rule_sep);
#	bat.insert(rule_bat,"oct",rule_oct);
#	bat.insert(rule_bat,"nov",rule_nov);
#	bat.insert(rule_bat,"dec",rule_dec);
##rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec);
##
##
###line 580 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create timezones, using some of the above created rules
#	tzone_00:= mtime.timezone("GMT");
##var tzone_00 := mtime.timezone("GMT");
#	tzone_01:= mtime.timezone("GMT+01:00");
##var tzone_01 := mtime.timezone("GMT+01:00");
#	tzone_02:= mtime.timezone("GMT+0100");
##var tzone_02 := mtime.timezone("GMT+0100");
#	tzone_03:= mtime.timezone(60,rule_oct,rule_mar);
##var tzone_03 := mtime.timezone(60, rule_oct, rule_mar);
#	tzone_04:= mtime.timezone(0,rule_jan,rule_aug);
##var tzone_04 := mtime.timezone(0, rule_jan, rule_aug);
#	tzone_05:= mtime.timezone(-97,rule_oct,rule_apr);
##var tzone_05 := mtime.timezone(-97, rule_oct, rule_apr);
#	tzone_06:= mtime.timezone(-97,rule_may,rule_sep);
##var tzone_06 := mtime.timezone(-97, rule_may, rule_sep);
#	mc_a := calc.*(23,60);
#	tzone_07:= mtime.timezone(mc_a,rule_apr,rule_nov);
##var tzone_07 := mtime.timezone(23*60, rule_apr, rule_nov);
#	nc_a := calc.*(-23,59);
#	oc_a := calc.-(nc_a,59);
#	tzone_08:= mtime.timezone(oc_a);
##var tzone_08 := mtime.timezone((-23*59) - 59);
#	tzone_09:= mtime.timezone(0);
##var tzone_09 := mtime.timezone(0);
#	tzone_10:= mtime.timezone(-60);
##var tzone_10 := mtime.timezone(-60);
#	pc_a := calc.*(23,60);
#	qc_a := calc.+(pc_a,59);
#	tzone_11:= mtime.timezone(qc_a);
##var tzone_11 := mtime.timezone((23*60)+59);
#	tzone_12:= mtime.timezone(60);
##var tzone_12 := mtime.timezone(60);
### nil tzones
#	tzone_13:= mtime.timezone(60,rule_feb,rule_dec);
##var tzone_13 := mtime.timezone(60, rule_feb, rule_dec);
#	rc_a := calc.*(24,60);
#	tzone_15:= mtime.timezone(rc_a,rule_apr,rule_nov);
##var tzone_15 := mtime.timezone(24*60, rule_apr, rule_nov);
##
##
#	tzone_bat:= bat.new(:oid,:timezone);
##var tzone_bat := bat.new(oid,tzone);
#	bat.insert(tzone_bat,0@0,tzone_00);
#	bat.insert(tzone_bat,1@0,tzone_01);
#	bat.insert(tzone_bat,2@0,tzone_02);
##tzone_bat.bat.insert(0@0, tzone_00).insert(1@0, tzone_01).insert(2@0, tzone_02);
#	bat.insert(tzone_bat,3@0,tzone_03);
#	bat.insert(tzone_bat,4@0,tzone_04);
#	bat.insert(tzone_bat,5@0,tzone_05);
##tzone_bat.bat.insert(3@0, tzone_03).insert(4@0, tzone_04).insert(5@0, tzone_05);
#	bat.insert(tzone_bat,6@0,tzone_06);
#	bat.insert(tzone_bat,7@0,tzone_07);
#	bat.insert(tzone_bat,8@0,tzone_08);
##tzone_bat.bat.insert(6@0, tzone_06).insert(7@0, tzone_07).insert(8@0, tzone_08);
#	bat.insert(tzone_bat,9@0,tzone_09);
#	bat.insert(tzone_bat,10@0,tzone_10);
#	bat.insert(tzone_bat,11@0,tzone_11);
##tzone_bat.bat.insert(9@0, tzone_09).insert(10@0, tzone_10).insert(11@0, tzone_11);
#	bat.insert(tzone_bat,12@0,tzone_12);
#	bat.insert(tzone_bat,13@0,tzone_13);
#	bat.insert(tzone_bat,15@0,tzone_15);
##tzone_bat.bat.insert(12@0, tzone_12).insert(13@0, tzone_13).insert(15@0, tzone_15);
##
##
###line 614 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create dates
#	date_00:= mtime.date(2000,01,01);
##var date_00 := date(2000,01,01);
#	date_01:= mtime.date("5000-JAN-01");
##var date_01 := date("5000-JAN-01");
#	date_02:= mtime.date("1968-FEBR-29");
##var date_02 := date("1968-FEBR-29");
#	date_03:= mtime.date("1-MARCH-01");
##var date_03 := date("1-MARCH-01");
#	date_04:= mtime.date("-5867411-JAN-1");
##var date_04 := date("-5867411-JAN-1");
#	date_05:= mtime.date("-768/octobe/01");
##var date_05 := date("-768/octobe/01");
#	date_06:= mtime.date("5000\\novembe\\01");
##var date_06 := date("5000\\novembe\\01");
#	date_07:= mtime.date("-1999/jun/01");
##var date_07 := date("-1999/jun/01");
#	date_08:= mtime.date("2000-jul-14");
##var date_08 := date("2000-jul-14");
#	date_09:= mtime.date("1999-sept-01");
##var date_09 := date("1999-sept-01");
#	date_10:= mtime.date("1998-decemBeR-01");
##var date_10 := date("1998-decemBeR-01");
#	date_11:= mtime.date("1953 may                01");
##var date_11 := date("1953 may                01");
#	date_12:= mtime.date("5867411-DEC-31");
##var date_12 := date("5867411-DEC-31");
### nil dates
#	date_13:= mtime.date(1996,13,1);
##var date_13 := date(1996,13,1);
#	date_14:= mtime.date("999999999999999999999-01-01");
##var date_14 := date("999999999999999999999-01-01");
#	date_15:= mtime.date("1999-JANUARI-01");
##var date_15 := date("1999-JANUARI-01");
#	date_16:= mtime.date("1999-FEBR-29");
##var date_16 := date("1999-FEBR-29");
#	date_17:= mtime.date("-1-DECEMBER-0");
##var date_17 := date("-1-DECEMBER-0");
#	date_18:= mtime.date("5000\novembe\31");
##var date_18 := date("5000\novembe\31");
#	date_19:= mtime.date("nil");
##var date_19 := date("nil");
#	date_20:= mtime.date("1999-sept-31");
##var date_20 := date("1999-sept-31");
##
#	date_bat:= bat.new(:oid,:date);
##var date_bat := bat.new(oid,date);
#	bat.insert(date_bat,0@0,date_00);
#	bat.insert(date_bat,1@0,date_01);
#	bat.insert(date_bat,2@0,date_02);
##date_bat.bat.insert(0@0, date_00).insert(1@0, date_01).insert(2@0, date_02);
#	bat.insert(date_bat,3@0,date_03);
#	bat.insert(date_bat,4@0,date_04);
#	bat.insert(date_bat,5@0,date_05);
##date_bat.bat.insert(3@0, date_03).insert(4@0, date_04).insert(5@0, date_05);
#	bat.insert(date_bat,6@0,date_06);
#	bat.insert(date_bat,7@0,date_07);
#	bat.insert(date_bat,8@0,date_08);
##date_bat.bat.insert(6@0, date_06).insert(7@0, date_07).insert(8@0, date_08);
#	bat.insert(date_bat,9@0,date_09);
#	bat.insert(date_bat,10@0,date_10);
#	bat.insert(date_bat,11@0,date_11);
##date_bat.bat.insert(9@0, date_09).insert(10@0, date_10).insert(11@0, date_11);
#	bat.insert(date_bat,12@0,date_12);
#	bat.insert(date_bat,13@0,date_13);
#	bat.insert(date_bat,14@0,date_14);
##date_bat.bat.insert(12@0, date_12).insert(13@0, date_13).insert(14@0, date_14);
#	bat.insert(date_bat,15@0,date_15);
#	bat.insert(date_bat,16@0,date_16);
#	bat.insert(date_bat,17@0,date_17);
##date_bat.bat.insert(15@0, date_15).insert(16@0, date_16).insert(17@0, date_17);
#	bat.insert(date_bat,18@0,date_18);
#	bat.insert(date_bat,19@0,date_19);
#	bat.insert(date_bat,20@0,date_20);
##date_bat.bat.insert(18@0, date_18).insert(19@0, date_19).insert(20@0, date_20);
##
### test the operations on dates
#	ne_a := bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	oe_a:bat[:oid,:int] := mal.multiplex("mtime","year",date_bat);
#	pe_a := bat.setColumn(oe_a,"year");
##      [year](date_bat).bat.setColumn("year"),
#	qe_a:bat[:oid,:int] := mal.multiplex("mtime","day",date_bat);
#	re_a := bat.setColumn(qe_a,"day");
##      [day](date_bat).bat.setColumn("day"),
#	se_a:bat[:oid,:int] := mal.multiplex("mtime","month",date_bat);
#	te_a:bat[:oid,:str] := mal.multiplex("mtime","monthname",se_a);
#	ue_a := bat.setColumn(te_a,"monthname");
##      [monthname]([month](date_bat)).bat.setColumn("monthname"),
#	ve_a:bat[:oid,:int] := mal.multiplex("mtime","month",date_bat);
#	we_a:bat[:oid,:str] := mal.multiplex("mtime","monthname",ve_a);
#	xe_a:bat[:oid,:int] := mal.multiplex("mtime","monthnum",we_a);
#	ye_a := bat.setColumn(xe_a,"monthnum");
#	io.print("print(date_bat,oe_a,qe_a,te_a,xe_a)");
#	af_a := io.print(date_bat,oe_a,qe_a,te_a,xe_a);
##      [monthnum]([monthname]([month](date_bat))).bat.setColumn("monthnum"));
##
#	date_addyears:bat[:oid,:date]:= mal.multiplex("mtime","addyears",date_bat,-100);
##var date_addyears := [addyears](date_bat, -100);
#	date_addmonths:bat[:oid,:date]:= mal.multiplex("mtime","addmonths",date_bat,1);
##var date_addmonths := [addmonths](date_bat, 1);
##
#	bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	bat.setColumn(date_addyears,"min100y");
##      date_addyears.bat.setColumn("min100y"),
#	df_a:bat[:oid,:int] := mal.multiplex("mtime","diff",date_addyears,date_bat);
#	bat.setColumn(df_a,"diff");
#	io.print("print(date_bat,date_addyears,df_a)");
#	ff_a := io.print(date_bat,date_addyears,df_a);
##      [diff](date_addyears, date_bat).bat.setColumn("diff"));
##
#	bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	bat.setColumn(date_addmonths,"plus1m");
##      date_addmonths.bat.setColumn("plus1m"),
#	if_a:bat[:oid,:int] := mal.multiplex("mtime","diff",date_addmonths,date_bat);
#	bat.setColumn(if_a,"diff");
#	io.print(" print(date_bat,date_addmonths,if_a)");
#	kf_a := io.print(date_bat,date_addmonths,if_a);
##      [diff](date_addmonths, date_bat).bat.setColumn("diff"));
#
function user.main():void;              #  0 main:void := user.main() {G}
# Mil compiler Version 1.0) 
# Copyright (c) 1993-2001, CWI. All rights reserved. 
# Predefined code segment 
##line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 
#module(monettime,alarm); 
    lzone := mtime.timezone("GMT+1");   #  6 lzone:timezone := MTIMEtzone_fromstr(_7:str) 
    mtime.timezone_local(lzone);        #  7 _8:void := MTIMEtzone_set_local(lzone:timezone) 
##line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 
## test the various ways to create rules 
    rule_jan := mtime.rule("1st MON from start of JAN@01:15");# 10 rule_jan:zrule := MTIMErule_fromstr(_12:str) 
#var rule_jan := mtime.rule("1st MON from start of JAN@01:15"); 
    rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");# 12 rule_mar:zrule := MTIMErule_fromstr(_15:str) 
#var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15"); 
    rule_apr := mtime.rule("last THU on or before aPr 1@01:15");# 14 rule_apr:zrule := MTIMErule_fromstr(_18:str) 
#var rule_apr := mtime.rule("last THU on or before aPr 1@01:15"); 
    rule_may := mtime.rule("MAY 26@01:15");# 16 rule_may:zrule := MTIMErule_fromstr(_21:str) 
#var rule_may := mtime.rule("MAY 26@01:15"); 
    rule_jun := mtime.rule("2nd TUE from end of june@01:15");# 18 rule_jun:zrule := MTIMErule_fromstr(_24:str) 
#var rule_jun := mtime.rule("2nd TUE from end of june@01:15"); 
    rule_jul := mtime.rule(7,1,1,75);   # 20 rule_jul:zrule := MTIMErule_create(_27:int, _28:int, _28:int, _29:int) 
#var rule_jul := mtime.rule(7,1,1,75); 
    rule_aug := mtime.rule(8,-1,1,75);  # 22 rule_aug:zrule := MTIMErule_create(_32:int, _33:int, _28:int, _29:int) 
#var rule_aug := mtime.rule(8,-1,1,75); 
    rule_sep := mtime.rule(9,-10,3,75); # 24 rule_sep:zrule := MTIMErule_create(_36:int, _37:int, _38:int, _29:int) 
#var rule_sep := mtime.rule(9,-10,3,75); 
    rule_oct := mtime.rule(10,31,0,75); # 26 rule_oct:zrule := MTIMErule_create(_41:int, _42:int, _43:int, _29:int) 
#var rule_oct := mtime.rule(10,31,0,75); 
    rule_nov := mtime.rule(11,-10,-4,75);# 28 rule_nov:zrule := MTIMErule_create(_46:int, _37:int, _47:int, _29:int) 
#var rule_nov := mtime.rule(11,-10,-4,75); 
## nil rules 
    rule_dec := mtime.rule(12,-31,0,75);# 31 rule_dec:zrule := MTIMErule_create(_51:int, _52:int, _43:int, _29:int) 
#var rule_dec := mtime.rule(12,-31,0,75); 
    rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");# 33 rule_feb:zrule := MTIMErule_fromstr(_55:str) 
#var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15"); 
#  
    rule_bat := bat.new(:str,:zrule,10);# 36 rule_bat:bat[:str,:zrule] := CMDBATnewint(_59:str, _60:zrule, _41:int) {G}
#var rule_bat := bat.new(str,rule,10); 
    bat.insert(rule_bat,"jan",rule_jan);# 38 _62:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _63:str, rule_jan:zrule) 
    bat.insert(rule_bat,"feb",rule_feb);# 39 _64:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _65:str, rule_feb:zrule) 
    bat.insert(rule_bat,"mar",rule_mar);# 40 _66:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _67:str, rule_mar:zrule) 
    bat.insert(rule_bat,"apr",rule_apr);# 41 _68:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _69:str, rule_apr:zrule) 
#rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr); 
    bat.insert(rule_bat,"may",rule_may);# 43 _71:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _72:str, rule_may:zrule) 
    bat.insert(rule_bat,"jun",rule_jun);# 44 _73:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _74:str, rule_jun:zrule) 
    bat.insert(rule_bat,"jul",rule_jul);# 45 _75:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _76:str, rule_jul:zrule) 
    bat.insert(rule_bat,"aug",rule_aug);# 46 _77:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _78:str, rule_aug:zrule) 
#rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug); 
    bat.insert(rule_bat,"sep",rule_sep);# 48 _80:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _81:str, rule_sep:zrule) 
    bat.insert(rule_bat,"oct",rule_oct);# 49 _82:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _83:str, rule_oct:zrule) 
    bat.insert(rule_bat,"nov",rule_nov);# 50 _84:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _85:str, rule_nov:zrule) 
    bat.insert(rule_bat,"dec",rule_dec);# 51 _86:void := BKCinsert_bun(rule_bat:bat[:str,:zrule], _87:str, rule_dec:zrule) 
#rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec); 
##line 580 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 
## test the various ways to create timezones, using some of the above created rules 
    tzone_00 := mtime.timezone("GMT");  # 55 tzone_00:timezone := MTIMEtzone_fromstr(_92:str) 
#var tzone_00 := mtime.timezone("GMT"); 
    tzone_01 := mtime.timezone("GMT+01:00");# 57 tzone_01:timezone := MTIMEtzone_fromstr(_95:str) 
#var tzone_01 := mtime.timezone("GMT+01:00"); 
    tzone_02 := mtime.timezone("GMT+0100");# 59 tzone_02:timezone := MTIMEtzone_fromstr(_98:str) 
#var tzone_02 := mtime.timezone("GMT+0100"); 
    tzone_03 := mtime.timezone(60,rule_oct,rule_mar);# 61 tzone_03:timezone := MTIMEtzone_create_dst(_101:int, rule_oct:zrule, rule_mar:zrule) 
#var tzone_03 := mtime.timezone(60, rule_oct, rule_mar); 
    tzone_04 := mtime.timezone(0,rule_jan,rule_aug);# 63 tzone_04:timezone := MTIMEtzone_create_dst(_104:int, rule_jan:zrule, rule_aug:zrule) 
#var tzone_04 := mtime.timezone(0, rule_jan, rule_aug); 
    tzone_05 := mtime.timezone(-97,rule_oct,rule_apr);# 65 tzone_05:timezone := MTIMEtzone_create_dst(_107:int, rule_oct:zrule, rule_apr:zrule) 
#var tzone_05 := mtime.timezone(-97, rule_oct, rule_apr); 
    tzone_06 := mtime.timezone(-97,rule_may,rule_sep);# 67 tzone_06:timezone := MTIMEtzone_create_dst(_107:int, rule_may:zrule, rule_sep:zrule) 
#var tzone_06 := mtime.timezone(-97, rule_may, rule_sep); 
    mc_a := calc.*(23,60);              # 69 mc_a:int := CALCbinaryMULintint(_112:int, _101:int) 
    tzone_07 := mtime.timezone(mc_a,rule_apr,rule_nov);# 70 tzone_07:timezone := MTIMEtzone_create_dst(mc_a:int, rule_apr:zrule, rule_nov:zrule) 
#var tzone_07 := mtime.timezone(23*60, rule_apr, rule_nov); 
    nc_a := calc.*(-23,59);             # 72 nc_a:int := CALCbinaryMULintint(_116:int, _117:int) 
    oc_a := calc.-(nc_a,59);            # 73 oc_a:int := CALCbinarySUBintint(nc_a:int, _117:int) 
    tzone_08 := mtime.timezone(oc_a);   # 74 tzone_08:timezone := MTIMEtzone_create(oc_a:int) 
#var tzone_08 := mtime.timezone((-23*59) - 59); 
    tzone_09 := mtime.timezone(0);      # 76 tzone_09:timezone := MTIMEtzone_create(_104:int) 
#var tzone_09 := mtime.timezone(0); 
    tzone_10 := mtime.timezone(-60);    # 78 tzone_10:timezone := MTIMEtzone_create(_124:int) 
#var tzone_10 := mtime.timezone(-60); 
    pc_a := calc.*(23,60);              # 80 pc_a:int := CALCbinaryMULintint(_112:int, _101:int) 
    qc_a := calc.+(pc_a,59);            # 81 qc_a:int := CALCbinaryADDintint(pc_a:int, _117:int) 
    tzone_11 := mtime.timezone(qc_a);   # 82 tzone_11:timezone := MTIMEtzone_create(qc_a:int) 
#var tzone_11 := mtime.timezone((23*60)+59); 
    tzone_12 := mtime.timezone(60);     # 84 tzone_12:timezone := MTIMEtzone_create(_101:int) 
#var tzone_12 := mtime.timezone(60); 
## nil tzones 
    tzone_13 := mtime.timezone(60,rule_feb,rule_dec);# 87 tzone_13:timezone := MTIMEtzone_create_dst(_134:int, rule_feb:zrule, rule_dec:zrule) 
#var tzone_13 := mtime.timezone(60, rule_feb, rule_dec); 
    rc_a := calc.*(24,60);              # 89 rc_a:int := CALCbinaryMULintint(_137:int, _134:int) 
    tzone_15 := mtime.timezone(rc_a,rule_apr,rule_nov);# 90 tzone_15:timezone := MTIMEtzone_create_dst(rc_a:int, rule_apr:zrule, rule_nov:zrule) 
#var tzone_15 := mtime.timezone(24*60, rule_apr, rule_nov); 
    tzone_bat := bat.new(:oid,:timezone);# 92 tzone_bat:bat[:oid,:timezone] := CMDBATnew(_141:oid, _142:timezone) {G}
#var tzone_bat := bat.new(oid,tzone); 
    bat.insert(tzone_bat,0@0,tzone_00); # 94 _144:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _145:oid, tzone_00:timezone) 
    bat.insert(tzone_bat,1@0,tzone_01); # 95 _146:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _147:oid, tzone_01:timezone) 
    bat.insert(tzone_bat,2@0,tzone_02); # 96 _148:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _149:oid, tzone_02:timezone) 
#tzone_bat.bat.insert(0@0, tzone_00).insert(1@0, tzone_01).insert(2@0, tzone_02); 
    bat.insert(tzone_bat,3@0,tzone_03); # 98 _151:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _152:oid, tzone_03:timezone) 
    bat.insert(tzone_bat,4@0,tzone_04); # 99 _153:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _154:oid, tzone_04:timezone) 
    bat.insert(tzone_bat,5@0,tzone_05); #100 _155:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _156:oid, tzone_05:timezone) 
#tzone_bat.bat.insert(3@0, tzone_03).insert(4@0, tzone_04).insert(5@0, tzone_05); 
    bat.insert(tzone_bat,6@0,tzone_06); #102 _158:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _159:oid, tzone_06:timezone) 
    bat.insert(tzone_bat,7@0,tzone_07); #103 _160:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _161:oid, tzone_07:timezone) 
    bat.insert(tzone_bat,8@0,tzone_08); #104 _162:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _163:oid, tzone_08:timezone) 
#tzone_bat.bat.insert(6@0, tzone_06).insert(7@0, tzone_07).insert(8@0, tzone_08); 
    bat.insert(tzone_bat,9@0,tzone_09); #106 _165:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _166:oid, tzone_09:timezone) 
    bat.insert(tzone_bat,10@0,tzone_10);#107 _167:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _168:oid, tzone_10:timezone) 
    bat.insert(tzone_bat,11@0,tzone_11);#108 _169:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _170:oid, tzone_11:timezone) 
#tzone_bat.bat.insert(9@0, tzone_09).insert(10@0, tzone_10).insert(11@0, tzone_11); 
    bat.insert(tzone_bat,12@0,tzone_12);#110 _172:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _173:oid, tzone_12:timezone) 
    bat.insert(tzone_bat,13@0,tzone_13);#111 _174:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _175:oid, tzone_13:timezone) 
    bat.insert(tzone_bat,15@0,tzone_15);#112 _176:void := BKCinsert_bun(tzone_bat:bat[:oid,:timezone], _177:oid, tzone_15:timezone) 
#tzone_bat.bat.insert(12@0, tzone_12).insert(13@0, tzone_13).insert(15@0, tzone_15); 
##line 614 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 
## test the various ways to create dates 
    date_00 := mtime.date(2000,1,1);    #116 date_00:date := MTIMEdate_create(_182:int, _183:int, _183:int) 
#var date_00 := date(2000,01,01); 
    date_01 := mtime.date("5000-JAN-01");#118 date_01:date := MTIMEdate_fromstr(_186:str) 
#var date_01 := date("5000-JAN-01"); 
    date_02 := mtime.date("1968-FEBR-29");#120 date_02:date := MTIMEdate_fromstr(_189:str) 
#var date_02 := date("1968-FEBR-29"); 
    date_03 := mtime.date("1-MARCH-01");#122 date_03:date := MTIMEdate_fromstr(_192:str) 
#var date_03 := date("1-MARCH-01"); 
    date_04 := mtime.date("-5867411-JAN-1");#124 date_04:date := MTIMEdate_fromstr(_195:str) 
#var date_04 := date("-5867411-JAN-1"); 
    date_05 := mtime.date("-768/octobe/01");#126 date_05:date := MTIMEdate_fromstr(_198:str) 
#var date_05 := date("-768/octobe/01"); 
    date_06 := mtime.date("5000\\novembe\\01");#128 date_06:date := MTIMEdate_fromstr(_201:str) 
#var date_06 := date("5000\\novembe\\01"); 
    date_07 := mtime.date("-1999/jun/01");#130 date_07:date := MTIMEdate_fromstr(_204:str) 
#var date_07 := date("-1999/jun/01"); 
    date_08 := mtime.date("2000-jul-14");#132 date_08:date := MTIMEdate_fromstr(_207:str) 
#var date_08 := date("2000-jul-14"); 
    date_09 := mtime.date("1999-sept-01");#134 date_09:date := MTIMEdate_fromstr(_210:str) 
#var date_09 := date("1999-sept-01"); 
    date_10 := mtime.date("1998-decemBeR-01");#136 date_10:date := MTIMEdate_fromstr(_213:str) 
#var date_10 := date("1998-decemBeR-01"); 
    date_11 := mtime.date("1953 may                01");#138 date_11:date := MTIMEdate_fromstr(_216:str) 
#var date_11 := date("1953 may                01"); 
    date_12 := mtime.date("5867411-DEC-31");#140 date_12:date := MTIMEdate_fromstr(_219:str) 
#var date_12 := date("5867411-DEC-31"); 
## nil dates 
    date_13 := mtime.date(1996,13,1);   #143 date_13:date := MTIMEdate_create(_223:int, _224:int, _225:int) 
#var date_13 := date(1996,13,1); 
    date_14 := mtime.date("999999999999999999999-01-01");#145 date_14:date := MTIMEdate_fromstr(_228:str) 
#var date_14 := date("999999999999999999999-01-01"); 
    date_15 := mtime.date("1999-JANUARI-01");#147 date_15:date := MTIMEdate_fromstr(_231:str) 
#var date_15 := date("1999-JANUARI-01"); 
    date_16 := mtime.date("1999-FEBR-29");#149 date_16:date := MTIMEdate_fromstr(_234:str) 
#var date_16 := date("1999-FEBR-29"); 
    date_17 := mtime.date("-1-DECEMBER-0");#151 date_17:date := MTIMEdate_fromstr(_237:str) 
#var date_17 := date("-1-DECEMBER-0"); 
    date_18 := mtime.date("5000\novembe31");#153 date_18:date := MTIMEdate_fromstr(_240:str) 
#var date_18 := date("5000\novembe\31"); 
    date_19 := mtime.date("nil");       #155 date_19:date := MTIMEdate_fromstr(_243:str) 
#var date_19 := date("nil"); 
    date_20 := mtime.date("1999-sept-31");#157 date_20:date := MTIMEdate_fromstr(_246:str) 
#var date_20 := date("1999-sept-31"); 
    date_bat := bat.new(:oid,:date);    #159 date_bat:bat[:oid,:date] := CMDBATnew(_141:oid, _249:date) {G}
#var date_bat := bat.new(oid,date); 
    bat.insert(date_bat,0@0,date_00);   #161 _251:void := BKCinsert_bun(date_bat:bat[:oid,:date], _252:oid, date_00:date) 
    bat.insert(date_bat,1@0,date_01);   #162 _253:void := BKCinsert_bun(date_bat:bat[:oid,:date], _254:oid, date_01:date) 
    bat.insert(date_bat,2@0,date_02);   #163 _255:void := BKCinsert_bun(date_bat:bat[:oid,:date], _256:oid, date_02:date) 
#date_bat.bat.insert(0@0, date_00).insert(1@0, date_01).insert(2@0, date_02); 
    bat.insert(date_bat,3@0,date_03);   #165 _258:void := BKCinsert_bun(date_bat:bat[:oid,:date], _259:oid, date_03:date) 
    bat.insert(date_bat,4@0,date_04);   #166 _260:void := BKCinsert_bun(date_bat:bat[:oid,:date], _261:oid, date_04:date) 
    bat.insert(date_bat,5@0,date_05);   #167 _262:void := BKCinsert_bun(date_bat:bat[:oid,:date], _263:oid, date_05:date) 
#date_bat.bat.insert(3@0, date_03).insert(4@0, date_04).insert(5@0, date_05); 
    bat.insert(date_bat,6@0,date_06);   #169 _265:void := BKCinsert_bun(date_bat:bat[:oid,:date], _266:oid, date_06:date) 
    bat.insert(date_bat,7@0,date_07);   #170 _267:void := BKCinsert_bun(date_bat:bat[:oid,:date], _268:oid, date_07:date) 
    bat.insert(date_bat,8@0,date_08);   #171 _269:void := BKCinsert_bun(date_bat:bat[:oid,:date], _270:oid, date_08:date) 
#date_bat.bat.insert(6@0, date_06).insert(7@0, date_07).insert(8@0, date_08); 
    bat.insert(date_bat,9@0,date_09);   #173 _272:void := BKCinsert_bun(date_bat:bat[:oid,:date], _273:oid, date_09:date) 
    bat.insert(date_bat,10@0,date_10);  #174 _274:void := BKCinsert_bun(date_bat:bat[:oid,:date], _275:oid, date_10:date) 
    bat.insert(date_bat,11@0,date_11);  #175 _276:void := BKCinsert_bun(date_bat:bat[:oid,:date], _277:oid, date_11:date) 
#date_bat.bat.insert(9@0, date_09).insert(10@0, date_10).insert(11@0, date_11); 
    bat.insert(date_bat,12@0,date_12);  #177 _279:void := BKCinsert_bun(date_bat:bat[:oid,:date], _280:oid, date_12:date) 
    bat.insert(date_bat,13@0,date_13);  #178 _281:void := BKCinsert_bun(date_bat:bat[:oid,:date], _282:oid, date_13:date) 
    bat.insert(date_bat,14@0,date_14);  #179 _283:void := BKCinsert_bun(date_bat:bat[:oid,:date], _284:oid, date_14:date) 
#date_bat.bat.insert(12@0, date_12).insert(13@0, date_13).insert(14@0, date_14); 
    bat.insert(date_bat,15@0,date_15);  #181 _286:void := BKCinsert_bun(date_bat:bat[:oid,:date], _287:oid, date_15:date) 
    bat.insert(date_bat,16@0,date_16);  #182 _288:void := BKCinsert_bun(date_bat:bat[:oid,:date], _289:oid, date_16:date) 
    bat.insert(date_bat,17@0,date_17);  #183 _290:void := BKCinsert_bun(date_bat:bat[:oid,:date], _291:oid, date_17:date) 
#date_bat.bat.insert(15@0, date_15).insert(16@0, date_16).insert(17@0, date_17); 
    bat.insert(date_bat,18@0,date_18);  #185 _293:void := BKCinsert_bun(date_bat:bat[:oid,:date], _294:oid, date_18:date) 
    bat.insert(date_bat,19@0,date_19);  #186 _295:void := BKCinsert_bun(date_bat:bat[:oid,:date], _296:oid, date_19:date) 
    bat.insert(date_bat,20@0,date_20);  #187 _297:void := BKCinsert_bun(date_bat:bat[:oid,:date], _298:oid, date_20:date) 
#date_bat.bat.insert(18@0, date_18).insert(19@0, date_19).insert(20@0, date_20); 
## test the operations on dates 
    ne_a := bat.setColumn(date_bat,"date");#190 ne_a:void := BKCsetColumn(date_bat:bat[:oid,:date], _302:str) 
#io.print(date_bat.bat.setColumn("date"), 
    _361 := bat.new(nil:oid,nil:int);   #192 _361:bat[:oid,:int] := CMDBATnew(_362:oid, _363:int) {G}
barrier (_365,_366,_367):= bat.newIterator(date_bat);#193 (_365:lng, _366:oid, _367:date) := CHPbunIterator(date_bat:bat[:oid,:date]) {J197}
    _369 := mtime.year(_367);           #194 _369:int := MTIMEdate_extract_year(_367:date) 
    bat.insert(_361,_366,_369);         #195 _370:void := BKCinsert_bun(_361:bat[:oid,:int], _366:oid, _369:int) 
    redo (_365,_366,_367):= bat.hasMoreElements(date_bat);#196 (_365:lng, _366:oid, _367:date) := CHPbunHasMoreElements(date_bat:bat[:oid,:date]) {J194}
exit (_365,_366,_367);                  #197 (_365:lng, _366:oid, _367:date) 
    oe_a:bat[:oid,:int]  := _361;       #198 oe_a:bat[:oid,:int] := _361:bat[:oid,:int] {G}
    pe_a := bat.setColumn(oe_a,"year"); #199 pe_a:void := BKCsetColumn(oe_a:bat[:oid,:int], _306:str) 
#      [year](date_bat).bat.setColumn("year"), 
    _374 := bat.new(nil:oid,nil:int);   #201 _374:bat[:oid,:int] := CMDBATnew(_362:oid, _363:int) {G}
barrier (_376,_377,_378):= bat.newIterator(date_bat);#202 (_376:lng, _377:oid, _378:date) := CHPbunIterator(date_bat:bat[:oid,:date]) {J206}
    _380 := mtime.day(_378);            #203 _380:int := MTIMEdate_extract_day(_378:date) 
    bat.insert(_374,_377,_380);         #204 _381:void := BKCinsert_bun(_374:bat[:oid,:int], _377:oid, _380:int) 
    redo (_376,_377,_378):= bat.hasMoreElements(date_bat);#205 (_376:lng, _377:oid, _378:date) := CHPbunHasMoreElements(date_bat:bat[:oid,:date]) {J203}
exit (_376,_377,_378);                  #206 (_376:lng, _377:oid, _378:date) 
    qe_a:bat[:oid,:int]  := _374;       #207 qe_a:bat[:oid,:int] := _374:bat[:oid,:int] {G}
    re_a := bat.setColumn(qe_a,"day");  #208 re_a:void := BKCsetColumn(qe_a:bat[:oid,:int], _310:str) 
#      [day](date_bat).bat.setColumn("day"), 
    _385 := bat.new(nil:oid,nil:int);   #210 _385:bat[:oid,:int] := CMDBATnew(_362:oid, _363:int) {G}
barrier (_387,_388,_389):= bat.newIterator(date_bat);#211 (_387:lng, _388:oid, _389:date) := CHPbunIterator(date_bat:bat[:oid,:date]) {J215}
    _391 := mtime.month(_389);          #212 _391:int := MTIMEdate_extract_month(_389:date) 
    bat.insert(_385,_388,_391);         #213 _392:void := BKCinsert_bun(_385:bat[:oid,:int], _388:oid, _391:int) 
    redo (_387,_388,_389):= bat.hasMoreElements(date_bat);#214 (_387:lng, _388:oid, _389:date) := CHPbunHasMoreElements(date_bat:bat[:oid,:date]) {J212}
exit (_387,_388,_389);                  #215 (_387:lng, _388:oid, _389:date) 
    se_a:bat[:oid,:int]  := _385;       #216 se_a:bat[:oid,:int] := _385:bat[:oid,:int] {G}
    _396 := bat.new(nil:oid,nil:str);   #217 _396:bat[:oid,:str] := CMDBATnew(_397:oid, _398:str) {G}
barrier (_400,_401,_402):= bat.newIterator(se_a);#218 (_400:lng, _401:oid, _402:int) := CHPbunIterator(se_a:bat[:oid,:int]) {J222}
    _404 := mtime.monthname(_402);      #219 _404:str := MTIMEmonth_to_str(_402:int) {G}
    bat.insert(_396,_401,_404);         #220 _405:void := BKCinsert_bun(_396:bat[:oid,:str], _401:oid, _404:str) 
    redo (_400,_401,_402):= bat.hasMoreElements(se_a);#221 (_400:lng, _401:oid, _402:int) := CHPbunHasMoreElements(se_a:bat[:oid,:int]) {J219}
exit (_400,_401,_402);                  #222 (_400:lng, _401:oid, _402:int) 
    te_a:bat[:oid,:str]  := _396;       #223 te_a:bat[:oid,:str] := _396:bat[:oid,:str] {G}
    ue_a := bat.setColumn(te_a,"monthname");#224 ue_a:void := BKCsetColumn(te_a:bat[:oid,:str], _316:str) 
#      [monthname]([month](date_bat)).bat.setColumn("monthname"), 
    _409 := bat.new(nil:oid,nil:int);   #226 _409:bat[:oid,:int] := CMDBATnew(_397:oid, _410:int) {G}
barrier (_412,_413,_414):= bat.newIterator(date_bat);#227 (_412:lng, _413:oid, _414:date) := CHPbunIterator(date_bat:bat[:oid,:date]) {J231}
    _416 := mtime.month(_414);          #228 _416:int := MTIMEdate_extract_month(_414:date) 
    bat.insert(_409,_413,_416);         #229 _417:void := BKCinsert_bun(_409:bat[:oid,:int], _413:oid, _416:int) 
    redo (_412,_413,_414):= bat.hasMoreElements(date_bat);#230 (_412:lng, _413:oid, _414:date) := CHPbunHasMoreElements(date_bat:bat[:oid,:date]) {J228}
exit (_412,_413,_414);                  #231 (_412:lng, _413:oid, _414:date) 
    ve_a:bat[:oid,:int]  := _409;       #232 ve_a:bat[:oid,:int] := _409:bat[:oid,:int] {G}
    _421 := bat.new(nil:oid,nil:str);   #233 _421:bat[:oid,:str] := CMDBATnew(_397:oid, _398:str) {G}
barrier (_423,_424,_425):= bat.newIterator(ve_a);#234 (_423:lng, _424:oid, _425:int) := CHPbunIterator(ve_a:bat[:oid,:int]) {J238}
    _427 := mtime.monthname(_425);      #235 _427:str := MTIMEmonth_to_str(_425:int) {G}
    bat.insert(_421,_424,_427);         #236 _428:void := BKCinsert_bun(_421:bat[:oid,:str], _424:oid, _427:str) 
    redo (_423,_424,_425):= bat.hasMoreElements(ve_a);#237 (_423:lng, _424:oid, _425:int) := CHPbunHasMoreElements(ve_a:bat[:oid,:int]) {J235}
exit (_423,_424,_425);                  #238 (_423:lng, _424:oid, _425:int) 
    we_a:bat[:oid,:str]  := _421;       #239 we_a:bat[:oid,:str] := _421:bat[:oid,:str] {G}
    _432 := bat.new(nil:oid,nil:int);   #240 _432:bat[:oid,:int] := CMDBATnew(_433:oid, _410:int) {G}
barrier (_435,_436,_437):= bat.newIterator(we_a);#241 (_435:lng, _436:oid, _437:str) := CHPbunIterator(we_a:bat[:oid,:str]) {GJ245}
    _439 := mtime.monthnum(_437);       #242 _439:int := MTIMEmonth_from_str(_437:str) 
    bat.insert(_432,_436,_439);         #243 _440:void := BKCinsert_bun(_432:bat[:oid,:int], _436:oid, _439:int) 
    redo (_435,_436,_437):= bat.hasMoreElements(we_a);#244 (_435:lng, _436:oid, _437:str) := CHPbunHasMoreElements(we_a:bat[:oid,:str]) {GJ242}
exit (_435,_436,_437);                  #245 (_435:lng, _436:oid, _437:str) 
    xe_a:bat[:oid,:int]  := _432;       #246 xe_a:bat[:oid,:int] := _432:bat[:oid,:int] {G}
    ye_a := bat.setColumn(xe_a,"monthnum");#247 ye_a:void := BKCsetColumn(xe_a:bat[:oid,:int], _322:str) 
    io.print("print(date_bat,oe_a,qe_a,te_a,xe_a)");#248 _324:void := IOprint_val(_325:str) 
    af_a := io.print(date_bat,oe_a,qe_a,te_a,xe_a);#249 af_a:void := IOtable(date_bat:bat[:oid,:date], oe_a:bat[:oid,:int], qe_a:bat[:oid,:int], te_a:bat[:oid,:str], xe_a:bat[:oid,:int]) 
#      [monthnum]([monthname]([month](date_bat))).bat.setColumn("monthnum")); 
    _444 := bat.new(nil:oid,nil:date);  #251 _444:bat[:oid,:date] := CMDBATnew(_433:oid, _445:date) {G}
barrier (_447,_448,_449):= bat.newIterator(date_bat);#252 (_447:lng, _448:oid, _449:date) := CHPbunIterator(date_bat:bat[:oid,:date]) {J256}
    _451 := mtime.addyears(_449,-100);  #253 _451:date := MTIMEdate_addyears(_449:date, _330:int) 
    bat.insert(_444,_448,_451);         #254 _452:void := BKCinsert_bun(_444:bat[:oid,:date], _448:oid, _451:date) 
    redo (_447,_448,_449):= bat.hasMoreElements(date_bat);#255 (_447:lng, _448:oid, _449:date) := CHPbunHasMoreElements(date_bat:bat[:oid,:date]) {J253}
exit (_447,_448,_449);                  #256 (_447:lng, _448:oid, _449:date) 
    date_addyears:bat[:oid,:date]  := _444;#257 date_addyears:bat[:oid,:date] := _444:bat[:oid,:date] {G}
#var date_addyears := [addyears](date_bat, -100); 
    _456 := bat.new(nil:oid,nil:date);  #259 _456:bat[:oid,:date] := CMDBATnew(_433:oid, _445:date) {G}
barrier (_458,_459,_460):= bat.newIterator(date_bat);#260 (_458:lng, _459:oid, _460:date) := CHPbunIterator(date_bat:bat[:oid,:date]) {J264}
    _462 := mtime.addmonths(_460,1);    #261 _462:date := MTIMEdate_addmonths(_460:date, _334:int) 
    bat.insert(_456,_459,_462);         #262 _463:void := BKCinsert_bun(_456:bat[:oid,:date], _459:oid, _462:date) 
    redo (_458,_459,_460):= bat.hasMoreElements(date_bat);#263 (_458:lng, _459:oid, _460:date) := CHPbunHasMoreElements(date_bat:bat[:oid,:date]) {J261}
exit (_458,_459,_460);                  #264 (_458:lng, _459:oid, _460:date) 
    date_addmonths:bat[:oid,:date]  := _456;#265 date_addmonths:bat[:oid,:date] := _456:bat[:oid,:date] {G}
#var date_addmonths := [addmonths](date_bat, 1); 
    bat.setColumn(date_bat,"date");     #267 _336:void := BKCsetColumn(date_bat:bat[:oid,:date], _337:str) 
#io.print(date_bat.bat.setColumn("date"), 
    bat.setColumn(date_addyears,"min100y");#269 _339:void := BKCsetColumn(date_addyears:bat[:oid,:date], _340:str) 
#      date_addyears.bat.setColumn("min100y"), 
    _467 := bat.new(nil:oid,nil:int);   #271 _467:bat[:oid,:int] := CMDBATnew(_468:oid, _469:int) {G}
barrier (_471,_472,_473):= bat.newIterator(date_addyears);#272 (_471:lng, _472:oid, _473:date) := CHPbunIterator(date_addyears:bat[:oid,:date]) {J277}
    _475 := algebra.find(date_bat,_472);#273 _475:date := ALGfind(date_bat:bat[:oid,:date], _472:oid) 
    _477 := mtime.diff(_473,_475);      #274 _477:int := MTIMEdate_diff(_473:date, _475:date) 
    bat.insert(_467,_472,_477);         #275 _478:void := BKCinsert_bun(_467:bat[:oid,:int], _472:oid, _477:int) 
    redo (_471,_472,_473):= bat.hasMoreElements(date_addyears);#276 (_471:lng, _472:oid, _473:date) := CHPbunHasMoreElements(date_addyears:bat[:oid,:date]) {J273}
exit (_471,_472,_473);                  #277 (_471:lng, _472:oid, _473:date) 
    df_a:bat[:oid,:int]  := _467;       #278 df_a:bat[:oid,:int] := _467:bat[:oid,:int] {G}
    bat.setColumn(df_a,"diff");         #279 _345:void := BKCsetColumn(df_a:bat[:oid,:int], _344:str) 
    io.print("print(date_bat,date_addyears,df_a)");#280 _346:void := IOprint_val(_347:str) 
    ff_a := io.print(date_bat,date_addyears,df_a);#281 ff_a:void := IOtable(date_bat:bat[:oid,:date], date_addyears:bat[:oid,:date], df_a:bat[:oid,:int]) 
#      [diff](date_addyears, date_bat).bat.setColumn("diff")); 
    bat.setColumn(date_bat,"date");     #283 _350:void := BKCsetColumn(date_bat:bat[:oid,:date], _337:str) 
#io.print(date_bat.bat.setColumn("date"), 
    bat.setColumn(date_addmonths,"plus1m");#285 _352:void := BKCsetColumn(date_addmonths:bat[:oid,:date], _353:str) 
#      date_addmonths.bat.setColumn("plus1m"), 
    _482 := bat.new(nil:oid,nil:int);   #287 _482:bat[:oid,:int] := CMDBATnew(_468:oid, _469:int) {G}
barrier (_484,_485,_486):= bat.newIterator(date_addmonths);#288 (_484:lng, _485:oid, _486:date) := CHPbunIterator(date_addmonths:bat[:oid,:date]) {J293}
    _488 := algebra.find(date_bat,_485);#289 _488:date := ALGfind(date_bat:bat[:oid,:date], _485:oid) 
    _490 := mtime.diff(_486,_488);      #290 _490:int := MTIMEdate_diff(_486:date, _488:date) 
    bat.insert(_482,_485,_490);         #291 _491:void := BKCinsert_bun(_482:bat[:oid,:int], _485:oid, _490:int) 
    redo (_484,_485,_486):= bat.hasMoreElements(date_addmonths);#292 (_484:lng, _485:oid, _486:date) := CHPbunHasMoreElements(date_addmonths:bat[:oid,:date]) {J289}
exit (_484,_485,_486);                  #293 (_484:lng, _485:oid, _486:date) 
    if_a:bat[:oid,:int]  := _482;       #294 if_a:bat[:oid,:int] := _482:bat[:oid,:int] {G}
    bat.setColumn(if_a,"diff");         #295 _356:void := BKCsetColumn(if_a:bat[:oid,:int], _344:str) 
    io.print(" print(date_bat,date_addmonths,if_a)");#296 _357:void := IOprint_val(_358:str) 
    kf_a := io.print(date_bat,date_addmonths,if_a);#297 kf_a:void := IOtable(date_bat:bat[:oid,:date], date_addmonths:bat[:oid,:date], if_a:bat[:oid,:int]) 
#      [diff](date_addmonths, date_bat).bat.setColumn("diff")); 
end main;                               #299  
[ "print(date_bat,oe_a,qe_a,te_a,xe_a)" ]
#---------------------------------------------------------------------------------#
# h	date		year		day	monthname	monthnum		  # name
# void	date		int		int	str		int		  # type
#---------------------------------------------------------------------------------#
[ 0@0,	  2000-01-01,	  2000,		  1,	  "january",	  1		  ]
[ 1@0,	  5000-01-01,	  5000,		  1,	  "january",	  1		  ]
[ 2@0,	  1968-02-29,	  1968,		  29,	  "february",	  2		  ]
[ 3@0,	  1-03-01,	  1,		  1,	  "march",	  3		  ]
[ 4@0,	  -5867411-01-01, -5867411,	  1,	  "january",	  1		  ]
[ 5@0,	  -768-10-01,	  -768,		  1,	  "october",	  10		  ]
[ 6@0,	  5000-11-01,	  5000,		  1,	  "november",	  11		  ]
[ 7@0,	  -1999-06-01,	  -1999,	  1,	  "june",	  6		  ]
[ 8@0,	  2000-07-14,	  2000,		  14,	  "july",	  7		  ]
[ 9@0,	  1999-09-01,	  1999,		  1,	  "september",	  9		  ]
[ 10@0,	  1998-12-01,	  1998,		  1,	  "december",	  12		  ]
[ 11@0,	  1953-05-01,	  1953,		  1,	  "may",	  5		  ]
[ 12@0,	  5867411-12-31,  5867411,	  31,	  "december",	  12		  ]
[ 13@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 14@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 15@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 16@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 17@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 18@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 19@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 20@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ "print(date_bat,date_addyears,df_a)" ]
#-------------------------------------------------#
# лллл;	date		min100y		diff	  # name
# void	date		date		int	  # type
#-------------------------------------------------#
[ 0@0,	  2000-01-01,	  1900-01-01,	  -36524  ]
[ 1@0,	  5000-01-01,	  4900-01-01,	  -36524  ]
[ 2@0,	  1968-02-29,	  1868-02-29,	  -36524  ]
[ 3@0,	  1-03-01,	  -100-03-01,	  -36525  ]
[ 4@0,	  -5867411-01-01, nil,		  nil	  ]
[ 5@0,	  -768-10-01,	  -868-10-01,	  -36525  ]
[ 6@0,	  5000-11-01,	  4900-11-01,	  -36524  ]
[ 7@0,	  -1999-06-01,	  -2099-06-01,	  -36525  ]
[ 8@0,	  2000-07-14,	  1900-07-14,	  -36525  ]
[ 9@0,	  1999-09-01,	  1899-09-01,	  -36524  ]
[ 10@0,	  1998-12-01,	  1898-12-01,	  -36524  ]
[ 11@0,	  1953-05-01,	  1853-05-01,	  -36524  ]
[ 12@0,	  5867411-12-31,  5867311-12-31,  -36524  ]
[ 13@0,	  nil,		  nil,		  nil	  ]
[ 14@0,	  nil,		  nil,		  nil	  ]
[ 15@0,	  nil,		  nil,		  nil	  ]
[ 16@0,	  nil,		  nil,		  nil	  ]
[ 17@0,	  nil,		  nil,		  nil	  ]
[ 18@0,	  nil,		  nil,		  nil	  ]
[ 19@0,	  nil,		  nil,		  nil	  ]
[ 20@0,	  nil,		  nil,		  nil	  ]
[ " print(date_bat,date_addmonths,if_a)" ]
#---------------------------------------------------------#
# лллллллл		date		plus1m		diff	  # name
# void		date		date		int	  # type
#---------------------------------------------------------#
[ 0@0,		  2000-01-01,	  2000-02-01,	  31	  ]
[ 1@0,		  5000-01-01,	  5000-02-01,	  31	  ]
[ 2@0,		  1968-02-29,	  1968-03-29,	  29	  ]
[ 3@0,		  1-03-01,	  1-04-01,	  31	  ]
[ 4@0,		  -5867411-01-01, -5867411-02-01, 31	  ]
[ 5@0,		  -768-10-01,	  -768-11-01,	  31	  ]
[ 6@0,		  5000-11-01,	  5000-12-01,	  30	  ]
[ 7@0,		  -1999-06-01,	  -1999-07-01,	  30	  ]
[ 8@0,		  2000-07-14,	  2000-08-14,	  31	  ]
[ 9@0,		  1999-09-01,	  1999-10-01,	  30	  ]
[ 10@0,		  1998-12-01,	  1999-01-01,	  31	  ]
[ 11@0,		  1953-05-01,	  1953-06-01,	  31	  ]
[ 12@0,		  5867411-12-31,  nil,		  nil	  ]
[ 13@0,		  nil,		  nil,		  nil	  ]
[ 14@0,		  nil,		  nil,		  nil	  ]
[ 15@0,		  nil,		  nil,		  nil	  ]
[ 16@0,		  nil,		  nil,		  nil	  ]
[ 17@0,		  nil,		  nil,		  nil	  ]
[ 18@0,		  nil,		  nil,		  nil	  ]
[ 19@0,		  nil,		  nil,		  nil	  ]
[ 20@0,		  nil,		  nil,		  nil	  ]

# 23:31:31 >  
# 23:31:31 >  Done.
# 23:31:31 >  

