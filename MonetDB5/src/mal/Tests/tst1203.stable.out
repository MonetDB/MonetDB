stdout of test 'tst1203` in directory 'src/mal` itself:


# 23:31:30 >  
# 23:31:30 >  Mtimeout -timeout 60 mserver5 "--config=/ufs/mk/monet5/Linux/etc/monetdb5.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5//Linux/lib/MonetDB5:/ufs/mk/monet5//Linux/lib/MonetDB5/lib:/ufs/mk/monet5//Linux/lib/MonetDB5/bin" --set "gdk_dbfarm=/ufs/mk/monet5//Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/sql_logs" --set "xquery_logdir=/ufs/mk/monet5//Linux/var/MonetDB5/xquery_logs" --set mapi_port=35239 --set xrpc_port=40860 --set monet_prompt= --trace --dbname=mTests_src_mal  tst1203.mal
# 23:31:30 >  

# MonetDB Server v5.0.0_beta2_1
# Copyright (c) 1993-2007 CWI, all rights reserved
# Compiled for x86_64-redhat-linux-gnu/64bit with 64bit OIDs dynamically linked
# dbname:mTests_src_mal
# Visit http://monetdb.cwi.nl/ for further information
## Mil compiler Version 1.0)
## Copyright (c) 1993-2001, CWI. All rights reserved.
#
## Predefined code segment
##
###line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
##module(monettime,alarm);
##
##
##
#lzone:= mtime.timezone("GMT+1");
#mtime.timezone_local(lzone);
###line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create rules
#	rule_jan:= mtime.rule("1st MON from start of JAN@01:15");
##var rule_jan := mtime.rule("1st MON from start of JAN@01:15");
#	rule_mar:= mtime.rule("first WEDNE on or after march 10@01:15");
##var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");
#	rule_apr:= mtime.rule("last THU on or before aPr 1@01:15");
##var rule_apr := mtime.rule("last THU on or before aPr 1@01:15");
#	rule_may:= mtime.rule("MAY 26@01:15");
##var rule_may := mtime.rule("MAY 26@01:15");
#	rule_jun:= mtime.rule("2nd TUE from end of june@01:15");
##var rule_jun := mtime.rule("2nd TUE from end of june@01:15");
#	rule_jul:= mtime.rule(7,1,1,75);
##var rule_jul := mtime.rule(7,1,1,75);
#	rule_aug:= mtime.rule(8,-1,1,75);
##var rule_aug := mtime.rule(8,-1,1,75);
#	rule_sep:= mtime.rule(9,-10,3,75);
##var rule_sep := mtime.rule(9,-10,3,75);
#	rule_oct:= mtime.rule(10,31,0,75);
##var rule_oct := mtime.rule(10,31,0,75);
#	rule_nov:= mtime.rule(11,-10,-4,75);
##var rule_nov := mtime.rule(11,-10,-4,75);
### nil rules
#	rule_dec:= mtime.rule(12,-31,0,75);
##var rule_dec := mtime.rule(12,-31,0,75);
#	rule_feb:= mtime.rule("first fRiDaY on or after february 30@01:15");
##var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");
## 
#	rule_bat:= bat.new(:str,:zrule,10);
##var rule_bat := bat.new(str,rule,10);
#	bat.insert(rule_bat,"jan",rule_jan);
#	bat.insert(rule_bat,"feb",rule_feb);
#	bat.insert(rule_bat,"mar",rule_mar);
#	bat.insert(rule_bat,"apr",rule_apr);
##rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr);
#	bat.insert(rule_bat,"may",rule_may);
#	bat.insert(rule_bat,"jun",rule_jun);
#	bat.insert(rule_bat,"jul",rule_jul);
#	bat.insert(rule_bat,"aug",rule_aug);
##rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug);
#	bat.insert(rule_bat,"sep",rule_sep);
#	bat.insert(rule_bat,"oct",rule_oct);
#	bat.insert(rule_bat,"nov",rule_nov);
#	bat.insert(rule_bat,"dec",rule_dec);
##rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec);
##
##
###line 580 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create timezones, using some of the above created rules
#	tzone_00:= mtime.timezone("GMT");
##var tzone_00 := mtime.timezone("GMT");
#	tzone_01:= mtime.timezone("GMT+01:00");
##var tzone_01 := mtime.timezone("GMT+01:00");
#	tzone_02:= mtime.timezone("GMT+0100");
##var tzone_02 := mtime.timezone("GMT+0100");
#	tzone_03:= mtime.timezone(60,rule_oct,rule_mar);
##var tzone_03 := mtime.timezone(60, rule_oct, rule_mar);
#	tzone_04:= mtime.timezone(0,rule_jan,rule_aug);
##var tzone_04 := mtime.timezone(0, rule_jan, rule_aug);
#	tzone_05:= mtime.timezone(-97,rule_oct,rule_apr);
##var tzone_05 := mtime.timezone(-97, rule_oct, rule_apr);
#	tzone_06:= mtime.timezone(-97,rule_may,rule_sep);
##var tzone_06 := mtime.timezone(-97, rule_may, rule_sep);
#	mc_a := calc.*(23,60);
#	tzone_07:= mtime.timezone(mc_a,rule_apr,rule_nov);
##var tzone_07 := mtime.timezone(23*60, rule_apr, rule_nov);
#	nc_a := calc.*(-23,59);
#	oc_a := calc.-(nc_a,59);
#	tzone_08:= mtime.timezone(oc_a);
##var tzone_08 := mtime.timezone((-23*59) - 59);
#	tzone_09:= mtime.timezone(0);
##var tzone_09 := mtime.timezone(0);
#	tzone_10:= mtime.timezone(-60);
##var tzone_10 := mtime.timezone(-60);
#	pc_a := calc.*(23,60);
#	qc_a := calc.+(pc_a,59);
#	tzone_11:= mtime.timezone(qc_a);
##var tzone_11 := mtime.timezone((23*60)+59);
#	tzone_12:= mtime.timezone(60);
##var tzone_12 := mtime.timezone(60);
### nil tzones
#	tzone_13:= mtime.timezone(60,rule_feb,rule_dec);
##var tzone_13 := mtime.timezone(60, rule_feb, rule_dec);
#	rc_a := calc.*(24,60);
#	tzone_15:= mtime.timezone(rc_a,rule_apr,rule_nov);
##var tzone_15 := mtime.timezone(24*60, rule_apr, rule_nov);
##
##
#	tzone_bat:= bat.new(:oid,:timezone);
##var tzone_bat := bat.new(oid,tzone);
#	bat.insert(tzone_bat,0@0,tzone_00);
#	bat.insert(tzone_bat,1@0,tzone_01);
#	bat.insert(tzone_bat,2@0,tzone_02);
##tzone_bat.bat.insert(0@0, tzone_00).insert(1@0, tzone_01).insert(2@0, tzone_02);
#	bat.insert(tzone_bat,3@0,tzone_03);
#	bat.insert(tzone_bat,4@0,tzone_04);
#	bat.insert(tzone_bat,5@0,tzone_05);
##tzone_bat.bat.insert(3@0, tzone_03).insert(4@0, tzone_04).insert(5@0, tzone_05);
#	bat.insert(tzone_bat,6@0,tzone_06);
#	bat.insert(tzone_bat,7@0,tzone_07);
#	bat.insert(tzone_bat,8@0,tzone_08);
##tzone_bat.bat.insert(6@0, tzone_06).insert(7@0, tzone_07).insert(8@0, tzone_08);
#	bat.insert(tzone_bat,9@0,tzone_09);
#	bat.insert(tzone_bat,10@0,tzone_10);
#	bat.insert(tzone_bat,11@0,tzone_11);
##tzone_bat.bat.insert(9@0, tzone_09).insert(10@0, tzone_10).insert(11@0, tzone_11);
#	bat.insert(tzone_bat,12@0,tzone_12);
#	bat.insert(tzone_bat,13@0,tzone_13);
#	bat.insert(tzone_bat,15@0,tzone_15);
##tzone_bat.bat.insert(12@0, tzone_12).insert(13@0, tzone_13).insert(15@0, tzone_15);
##
##
###line 614 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx"
### test the various ways to create dates
#	date_00:= mtime.date(2000,01,01);
##var date_00 := date(2000,01,01);
#	date_01:= mtime.date("5000-JAN-01");
##var date_01 := date("5000-JAN-01");
#	date_02:= mtime.date("1968-FEBR-29");
##var date_02 := date("1968-FEBR-29");
#	date_03:= mtime.date("1-MARCH-01");
##var date_03 := date("1-MARCH-01");
#	date_04:= mtime.date("-5867411-JAN-1");
##var date_04 := date("-5867411-JAN-1");
#	date_05:= mtime.date("-768/octobe/01");
##var date_05 := date("-768/octobe/01");
#	date_06:= mtime.date("5000\\novembe\\01");
##var date_06 := date("5000\\novembe\\01");
#	date_07:= mtime.date("-1999/jun/01");
##var date_07 := date("-1999/jun/01");
#	date_08:= mtime.date("2000-jul-14");
##var date_08 := date("2000-jul-14");
#	date_09:= mtime.date("1999-sept-01");
##var date_09 := date("1999-sept-01");
#	date_10:= mtime.date("1998-decemBeR-01");
##var date_10 := date("1998-decemBeR-01");
#	date_11:= mtime.date("1953 may                01");
##var date_11 := date("1953 may                01");
#	date_12:= mtime.date("5867411-DEC-31");
##var date_12 := date("5867411-DEC-31");
### nil dates
#	date_13:= mtime.date(1996,13,1);
##var date_13 := date(1996,13,1);
#	date_14:= mtime.date("999999999999999999999-01-01");
##var date_14 := date("999999999999999999999-01-01");
#	date_15:= mtime.date("1999-JANUARI-01");
##var date_15 := date("1999-JANUARI-01");
#	date_16:= mtime.date("1999-FEBR-29");
##var date_16 := date("1999-FEBR-29");
#	date_17:= mtime.date("-1-DECEMBER-0");
##var date_17 := date("-1-DECEMBER-0");
#	date_18:= mtime.date("5000\novembe\31");
##var date_18 := date("5000\novembe\31");
#	date_19:= mtime.date("nil");
##var date_19 := date("nil");
#	date_20:= mtime.date("1999-sept-31");
##var date_20 := date("1999-sept-31");
##
#	date_bat:= bat.new(:oid,:date);
##var date_bat := bat.new(oid,date);
#	bat.insert(date_bat,0@0,date_00);
#	bat.insert(date_bat,1@0,date_01);
#	bat.insert(date_bat,2@0,date_02);
##date_bat.bat.insert(0@0, date_00).insert(1@0, date_01).insert(2@0, date_02);
#	bat.insert(date_bat,3@0,date_03);
#	bat.insert(date_bat,4@0,date_04);
#	bat.insert(date_bat,5@0,date_05);
##date_bat.bat.insert(3@0, date_03).insert(4@0, date_04).insert(5@0, date_05);
#	bat.insert(date_bat,6@0,date_06);
#	bat.insert(date_bat,7@0,date_07);
#	bat.insert(date_bat,8@0,date_08);
##date_bat.bat.insert(6@0, date_06).insert(7@0, date_07).insert(8@0, date_08);
#	bat.insert(date_bat,9@0,date_09);
#	bat.insert(date_bat,10@0,date_10);
#	bat.insert(date_bat,11@0,date_11);
##date_bat.bat.insert(9@0, date_09).insert(10@0, date_10).insert(11@0, date_11);
#	bat.insert(date_bat,12@0,date_12);
#	bat.insert(date_bat,13@0,date_13);
#	bat.insert(date_bat,14@0,date_14);
##date_bat.bat.insert(12@0, date_12).insert(13@0, date_13).insert(14@0, date_14);
#	bat.insert(date_bat,15@0,date_15);
#	bat.insert(date_bat,16@0,date_16);
#	bat.insert(date_bat,17@0,date_17);
##date_bat.bat.insert(15@0, date_15).insert(16@0, date_16).insert(17@0, date_17);
#	bat.insert(date_bat,18@0,date_18);
#	bat.insert(date_bat,19@0,date_19);
#	bat.insert(date_bat,20@0,date_20);
##date_bat.bat.insert(18@0, date_18).insert(19@0, date_19).insert(20@0, date_20);
##
### test the operations on dates
#	ne_a := bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	oe_a:bat[:oid,:int] := mal.multiplex("mtime","year",date_bat);
#	pe_a := bat.setColumn(oe_a,"year");
##      [year](date_bat).bat.setColumn("year"),
#	qe_a:bat[:oid,:int] := mal.multiplex("mtime","day",date_bat);
#	re_a := bat.setColumn(qe_a,"day");
##      [day](date_bat).bat.setColumn("day"),
#	se_a:bat[:oid,:int] := mal.multiplex("mtime","month",date_bat);
#	te_a:bat[:oid,:str] := mal.multiplex("mtime","monthname",se_a);
#	ue_a := bat.setColumn(te_a,"monthname");
##      [monthname]([month](date_bat)).bat.setColumn("monthname"),
#	ve_a:bat[:oid,:int] := mal.multiplex("mtime","month",date_bat);
#	we_a:bat[:oid,:str] := mal.multiplex("mtime","monthname",ve_a);
#	xe_a:bat[:oid,:int] := mal.multiplex("mtime","monthnum",we_a);
#	ye_a := bat.setColumn(xe_a,"monthnum");
#	io.print("print(date_bat,oe_a,qe_a,te_a,xe_a)");
#	af_a := io.print(date_bat,oe_a,qe_a,te_a,xe_a);
##      [monthnum]([monthname]([month](date_bat))).bat.setColumn("monthnum"));
##
#	date_addyears:bat[:oid,:date]:= mal.multiplex("mtime","addyears",date_bat,-100);
##var date_addyears := [addyears](date_bat, -100);
#	date_addmonths:bat[:oid,:date]:= mal.multiplex("mtime","addmonths",date_bat,1);
##var date_addmonths := [addmonths](date_bat, 1);
##
#	bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	bat.setColumn(date_addyears,"min100y");
##      date_addyears.bat.setColumn("min100y"),
#	df_a:bat[:oid,:int] := mal.multiplex("mtime","diff",date_addyears,date_bat);
#	bat.setColumn(df_a,"diff");
#	io.print("print(date_bat,date_addyears,df_a)");
#	ff_a := io.print(date_bat,date_addyears,df_a);
##      [diff](date_addyears, date_bat).bat.setColumn("diff"));
##
#	bat.setColumn(date_bat,"date");
##io.print(date_bat.bat.setColumn("date"),
#	bat.setColumn(date_addmonths,"plus1m");
##      date_addmonths.bat.setColumn("plus1m"),
#	if_a:bat[:oid,:int] := mal.multiplex("mtime","diff",date_addmonths,date_bat);
#	bat.setColumn(if_a,"diff");
#	io.print(" print(date_bat,date_addmonths,if_a)");
#	kf_a := io.print(date_bat,date_addmonths,if_a);
##      [diff](date_addmonths, date_bat).bat.setColumn("diff"));
#
function user.main():void;	# 0  (main:void)
# Mil compiler Version 1.0) 	# 1  (_1:str)
# Copyright (c) 1993-2001, CWI. All rights reserved. 	# 2  (_2:str)
# Predefined code segment 	# 3  (_3:str)
##line 531 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 4  (_4:str)
#module(monettime,alarm); 	# 5  (_5:str)
    lzone := mtime.timezone("GMT+1");	# 6 MTIMEtzone_fromstr (lzone:timezone)<-(_7:str)
    mtime.timezone_local(lzone);	# 7 MTIMEtzone_set_local (_8:void)<-(lzone:timezone)
##line 535 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 8  (_9:str)
## test the various ways to create rules 	# 9  (_10:str)
    rule_jan := mtime.rule("1st MON from start of JAN@01:15");	# 10 MTIMErule_fromstr (rule_jan:zrule)<-(_12:str)
#var rule_jan := mtime.rule("1st MON from start of JAN@01:15"); 	# 11  (_13:str)
    rule_mar := mtime.rule("first WEDNE on or after march 10@01:15");	# 12 MTIMErule_fromstr (rule_mar:zrule)<-(_15:str)
#var rule_mar := mtime.rule("first WEDNE on or after march 10@01:15"); 	# 13  (_16:str)
    rule_apr := mtime.rule("last THU on or before aPr 1@01:15");	# 14 MTIMErule_fromstr (rule_apr:zrule)<-(_18:str)
#var rule_apr := mtime.rule("last THU on or before aPr 1@01:15"); 	# 15  (_19:str)
    rule_may := mtime.rule("MAY 26@01:15");	# 16 MTIMErule_fromstr (rule_may:zrule)<-(_21:str)
#var rule_may := mtime.rule("MAY 26@01:15"); 	# 17  (_22:str)
    rule_jun := mtime.rule("2nd TUE from end of june@01:15");	# 18 MTIMErule_fromstr (rule_jun:zrule)<-(_24:str)
#var rule_jun := mtime.rule("2nd TUE from end of june@01:15"); 	# 19  (_25:str)
    rule_jul := mtime.rule(7,1,1,75);	# 20 MTIMErule_create (rule_jul:zrule)<-(_27:int)(_28:int)(_28:int)(_29:int)
#var rule_jul := mtime.rule(7,1,1,75); 	# 21  (_30:str)
    rule_aug := mtime.rule(8,-1,1,75);	# 22 MTIMErule_create (rule_aug:zrule)<-(_32:int)(_33:int)(_28:int)(_29:int)
#var rule_aug := mtime.rule(8,-1,1,75); 	# 23  (_34:str)
    rule_sep := mtime.rule(9,-10,3,75);	# 24 MTIMErule_create (rule_sep:zrule)<-(_36:int)(_37:int)(_38:int)(_29:int)
#var rule_sep := mtime.rule(9,-10,3,75); 	# 25  (_39:str)
    rule_oct := mtime.rule(10,31,0,75);	# 26 MTIMErule_create (rule_oct:zrule)<-(_41:int)(_42:int)(_43:int)(_29:int)
#var rule_oct := mtime.rule(10,31,0,75); 	# 27  (_44:str)
    rule_nov := mtime.rule(11,-10,-4,75);	# 28 MTIMErule_create (rule_nov:zrule)<-(_46:int)(_37:int)(_47:int)(_29:int)
#var rule_nov := mtime.rule(11,-10,-4,75); 	# 29  (_48:str)
## nil rules 	# 30  (_49:str)
    rule_dec := mtime.rule(12,-31,0,75);	# 31 MTIMErule_create (rule_dec:zrule)<-(_51:int)(_52:int)(_43:int)(_29:int)
#var rule_dec := mtime.rule(12,-31,0,75); 	# 32  (_53:str)
    rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15");	# 33 MTIMErule_fromstr (rule_feb:zrule)<-(_55:str)
#var rule_feb := mtime.rule("first fRiDaY on or after february 30@01:15"); 	# 34  (_56:str)
#  	# 35  (_57:str)
    rule_bat := bat.new(:str,:zrule,10);	# 36 CMDBATnewint (rule_bat:bat[:str,:zrule])<-(_59:str)(_60:zrule)(_41:int)
#var rule_bat := bat.new(str,rule,10); 	# 37  (_61:str)
    bat.insert(rule_bat,"jan",rule_jan);	# 38 BKCinsert_bun (_62:void)<-(rule_bat:bat[:str,:zrule])(_63:str)(rule_jan:zrule)
    bat.insert(rule_bat,"feb",rule_feb);	# 39 BKCinsert_bun (_64:void)<-(rule_bat:bat[:str,:zrule])(_65:str)(rule_feb:zrule)
    bat.insert(rule_bat,"mar",rule_mar);	# 40 BKCinsert_bun (_66:void)<-(rule_bat:bat[:str,:zrule])(_67:str)(rule_mar:zrule)
    bat.insert(rule_bat,"apr",rule_apr);	# 41 BKCinsert_bun (_68:void)<-(rule_bat:bat[:str,:zrule])(_69:str)(rule_apr:zrule)
#rule_bat.bat.insert("jan",rule_jan).insert("feb",rule_feb).insert("mar",rule_mar).insert("apr",rule_apr); 	# 42  (_70:str)
    bat.insert(rule_bat,"may",rule_may);	# 43 BKCinsert_bun (_71:void)<-(rule_bat:bat[:str,:zrule])(_72:str)(rule_may:zrule)
    bat.insert(rule_bat,"jun",rule_jun);	# 44 BKCinsert_bun (_73:void)<-(rule_bat:bat[:str,:zrule])(_74:str)(rule_jun:zrule)
    bat.insert(rule_bat,"jul",rule_jul);	# 45 BKCinsert_bun (_75:void)<-(rule_bat:bat[:str,:zrule])(_76:str)(rule_jul:zrule)
    bat.insert(rule_bat,"aug",rule_aug);	# 46 BKCinsert_bun (_77:void)<-(rule_bat:bat[:str,:zrule])(_78:str)(rule_aug:zrule)
#rule_bat.bat.insert("may",rule_may).insert("jun",rule_jun).insert("jul",rule_jul).insert("aug",rule_aug); 	# 47  (_79:str)
    bat.insert(rule_bat,"sep",rule_sep);	# 48 BKCinsert_bun (_80:void)<-(rule_bat:bat[:str,:zrule])(_81:str)(rule_sep:zrule)
    bat.insert(rule_bat,"oct",rule_oct);	# 49 BKCinsert_bun (_82:void)<-(rule_bat:bat[:str,:zrule])(_83:str)(rule_oct:zrule)
    bat.insert(rule_bat,"nov",rule_nov);	# 50 BKCinsert_bun (_84:void)<-(rule_bat:bat[:str,:zrule])(_85:str)(rule_nov:zrule)
    bat.insert(rule_bat,"dec",rule_dec);	# 51 BKCinsert_bun (_86:void)<-(rule_bat:bat[:str,:zrule])(_87:str)(rule_dec:zrule)
#rule_bat.bat.insert("sep",rule_sep).insert("oct",rule_oct).insert("nov",rule_nov).insert("dec",rule_dec); 	# 52  (_88:str)
##line 580 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 53  (_89:str)
## test the various ways to create timezones, using some of the above created rules 	# 54  (_90:str)
    tzone_00 := mtime.timezone("GMT");	# 55 MTIMEtzone_fromstr (tzone_00:timezone)<-(_92:str)
#var tzone_00 := mtime.timezone("GMT"); 	# 56  (_93:str)
    tzone_01 := mtime.timezone("GMT+01:00");	# 57 MTIMEtzone_fromstr (tzone_01:timezone)<-(_95:str)
#var tzone_01 := mtime.timezone("GMT+01:00"); 	# 58  (_96:str)
    tzone_02 := mtime.timezone("GMT+0100");	# 59 MTIMEtzone_fromstr (tzone_02:timezone)<-(_98:str)
#var tzone_02 := mtime.timezone("GMT+0100"); 	# 60  (_99:str)
    tzone_03 := mtime.timezone(60,rule_oct,rule_mar);	# 61 MTIMEtzone_create_dst (tzone_03:timezone)<-(_101:int)(rule_oct:zrule)(rule_mar:zrule)
#var tzone_03 := mtime.timezone(60, rule_oct, rule_mar); 	# 62  (_102:str)
    tzone_04 := mtime.timezone(0,rule_jan,rule_aug);	# 63 MTIMEtzone_create_dst (tzone_04:timezone)<-(_104:int)(rule_jan:zrule)(rule_aug:zrule)
#var tzone_04 := mtime.timezone(0, rule_jan, rule_aug); 	# 64  (_105:str)
    tzone_05 := mtime.timezone(-97,rule_oct,rule_apr);	# 65 MTIMEtzone_create_dst (tzone_05:timezone)<-(_107:int)(rule_oct:zrule)(rule_apr:zrule)
#var tzone_05 := mtime.timezone(-97, rule_oct, rule_apr); 	# 66  (_108:str)
    tzone_06 := mtime.timezone(-97,rule_may,rule_sep);	# 67 MTIMEtzone_create_dst (tzone_06:timezone)<-(_107:int)(rule_may:zrule)(rule_sep:zrule)
#var tzone_06 := mtime.timezone(-97, rule_may, rule_sep); 	# 68  (_110:str)
    mc_a := calc.*(23,60);	# 69 CALCbinaryMULintint (mc_a:int)<-(_112:int)(_101:int)
    tzone_07 := mtime.timezone(mc_a,rule_apr,rule_nov);	# 70 MTIMEtzone_create_dst (tzone_07:timezone)<-(mc_a:int)(rule_apr:zrule)(rule_nov:zrule)
#var tzone_07 := mtime.timezone(23*60, rule_apr, rule_nov); 	# 71  (_114:str)
    nc_a := calc.*(-23,59);	# 72 CALCbinaryMULintint (nc_a:int)<-(_116:int)(_117:int)
    oc_a := calc.-(nc_a,59);	# 73 CALCbinarySUBintint (oc_a:int)<-(nc_a:int)(_117:int)
    tzone_08 := mtime.timezone(oc_a);	# 74 MTIMEtzone_create (tzone_08:timezone)<-(oc_a:int)
#var tzone_08 := mtime.timezone((-23*59) - 59); 	# 75  (_120:str)
    tzone_09 := mtime.timezone(0);	# 76 MTIMEtzone_create (tzone_09:timezone)<-(_104:int)
#var tzone_09 := mtime.timezone(0); 	# 77  (_122:str)
    tzone_10 := mtime.timezone(-60);	# 78 MTIMEtzone_create (tzone_10:timezone)<-(_124:int)
#var tzone_10 := mtime.timezone(-60); 	# 79  (_125:str)
    pc_a := calc.*(23,60);	# 80 CALCbinaryMULintint (pc_a:int)<-(_112:int)(_101:int)
    qc_a := calc.+(pc_a,59);	# 81 CALCbinaryADDintint (qc_a:int)<-(pc_a:int)(_117:int)
    tzone_11 := mtime.timezone(qc_a);	# 82 MTIMEtzone_create (tzone_11:timezone)<-(qc_a:int)
#var tzone_11 := mtime.timezone((23*60)+59); 	# 83  (_129:str)
    tzone_12 := mtime.timezone(60);	# 84 MTIMEtzone_create (tzone_12:timezone)<-(_101:int)
#var tzone_12 := mtime.timezone(60); 	# 85  (_131:str)
## nil tzones 	# 86  (_132:str)
    tzone_13 := mtime.timezone(60,rule_feb,rule_dec);	# 87 MTIMEtzone_create_dst (tzone_13:timezone)<-(_101:int)(rule_feb:zrule)(rule_dec:zrule)
#var tzone_13 := mtime.timezone(60, rule_feb, rule_dec); 	# 88  (_134:str)
    rc_a := calc.*(24,60);	# 89 CALCbinaryMULintint (rc_a:int)<-(_136:int)(_101:int)
    tzone_15 := mtime.timezone(rc_a,rule_apr,rule_nov);	# 90 MTIMEtzone_create_dst (tzone_15:timezone)<-(rc_a:int)(rule_apr:zrule)(rule_nov:zrule)
#var tzone_15 := mtime.timezone(24*60, rule_apr, rule_nov); 	# 91  (_138:str)
    tzone_bat := bat.new(:oid,:timezone);	# 92 CMDBATnew (tzone_bat:bat[:oid,:timezone])<-(_140:oid)(_141:timezone)
#var tzone_bat := bat.new(oid,tzone); 	# 93  (_142:str)
    bat.insert(tzone_bat,0@0,tzone_00);	# 94 BKCinsert_bun (_143:void)<-(tzone_bat:bat[:oid,:timezone])(_144:oid)(tzone_00:timezone)
    bat.insert(tzone_bat,1@0,tzone_01);	# 95 BKCinsert_bun (_145:void)<-(tzone_bat:bat[:oid,:timezone])(_146:oid)(tzone_01:timezone)
    bat.insert(tzone_bat,2@0,tzone_02);	# 96 BKCinsert_bun (_147:void)<-(tzone_bat:bat[:oid,:timezone])(_148:oid)(tzone_02:timezone)
#tzone_bat.bat.insert(0@0, tzone_00).insert(1@0, tzone_01).insert(2@0, tzone_02); 	# 97  (_149:str)
    bat.insert(tzone_bat,3@0,tzone_03);	# 98 BKCinsert_bun (_150:void)<-(tzone_bat:bat[:oid,:timezone])(_151:oid)(tzone_03:timezone)
    bat.insert(tzone_bat,4@0,tzone_04);	# 99 BKCinsert_bun (_152:void)<-(tzone_bat:bat[:oid,:timezone])(_153:oid)(tzone_04:timezone)
    bat.insert(tzone_bat,5@0,tzone_05);	# 100 BKCinsert_bun (_154:void)<-(tzone_bat:bat[:oid,:timezone])(_155:oid)(tzone_05:timezone)
#tzone_bat.bat.insert(3@0, tzone_03).insert(4@0, tzone_04).insert(5@0, tzone_05); 	# 101  (_156:str)
    bat.insert(tzone_bat,6@0,tzone_06);	# 102 BKCinsert_bun (_157:void)<-(tzone_bat:bat[:oid,:timezone])(_158:oid)(tzone_06:timezone)
    bat.insert(tzone_bat,7@0,tzone_07);	# 103 BKCinsert_bun (_159:void)<-(tzone_bat:bat[:oid,:timezone])(_160:oid)(tzone_07:timezone)
    bat.insert(tzone_bat,8@0,tzone_08);	# 104 BKCinsert_bun (_161:void)<-(tzone_bat:bat[:oid,:timezone])(_162:oid)(tzone_08:timezone)
#tzone_bat.bat.insert(6@0, tzone_06).insert(7@0, tzone_07).insert(8@0, tzone_08); 	# 105  (_163:str)
    bat.insert(tzone_bat,9@0,tzone_09);	# 106 BKCinsert_bun (_164:void)<-(tzone_bat:bat[:oid,:timezone])(_165:oid)(tzone_09:timezone)
    bat.insert(tzone_bat,10@0,tzone_10);	# 107 BKCinsert_bun (_166:void)<-(tzone_bat:bat[:oid,:timezone])(_167:oid)(tzone_10:timezone)
    bat.insert(tzone_bat,11@0,tzone_11);	# 108 BKCinsert_bun (_168:void)<-(tzone_bat:bat[:oid,:timezone])(_169:oid)(tzone_11:timezone)
#tzone_bat.bat.insert(9@0, tzone_09).insert(10@0, tzone_10).insert(11@0, tzone_11); 	# 109  (_170:str)
    bat.insert(tzone_bat,12@0,tzone_12);	# 110 BKCinsert_bun (_171:void)<-(tzone_bat:bat[:oid,:timezone])(_172:oid)(tzone_12:timezone)
    bat.insert(tzone_bat,13@0,tzone_13);	# 111 BKCinsert_bun (_173:void)<-(tzone_bat:bat[:oid,:timezone])(_174:oid)(tzone_13:timezone)
    bat.insert(tzone_bat,15@0,tzone_15);	# 112 BKCinsert_bun (_175:void)<-(tzone_bat:bat[:oid,:timezone])(_176:oid)(tzone_15:timezone)
#tzone_bat.bat.insert(12@0, tzone_12).insert(13@0, tzone_13).insert(15@0, tzone_15); 	# 113  (_177:str)
##line 614 "/ufs/mk/monet_5-0/src/modules/atoms/monettime.mx" 	# 114  (_178:str)
## test the various ways to create dates 	# 115  (_179:str)
    date_00 := mtime.date(2000,1,1);	# 116 MTIMEdate_create (date_00:date)<-(_181:int)(_182:int)(_182:int)
#var date_00 := date(2000,01,01); 	# 117  (_183:str)
    date_01 := mtime.date("5000-JAN-01");	# 118 MTIMEdate_fromstr (date_01:date)<-(_185:str)
#var date_01 := date("5000-JAN-01"); 	# 119  (_186:str)
    date_02 := mtime.date("1968-FEBR-29");	# 120 MTIMEdate_fromstr (date_02:date)<-(_188:str)
#var date_02 := date("1968-FEBR-29"); 	# 121  (_189:str)
    date_03 := mtime.date("1-MARCH-01");	# 122 MTIMEdate_fromstr (date_03:date)<-(_191:str)
#var date_03 := date("1-MARCH-01"); 	# 123  (_192:str)
    date_04 := mtime.date("-5867411-JAN-1");	# 124 MTIMEdate_fromstr (date_04:date)<-(_194:str)
#var date_04 := date("-5867411-JAN-1"); 	# 125  (_195:str)
    date_05 := mtime.date("-768/octobe/01");	# 126 MTIMEdate_fromstr (date_05:date)<-(_197:str)
#var date_05 := date("-768/octobe/01"); 	# 127  (_198:str)
    date_06 := mtime.date("5000\\novembe\\01");	# 128 MTIMEdate_fromstr (date_06:date)<-(_200:str)
#var date_06 := date("5000\\novembe\\01"); 	# 129  (_201:str)
    date_07 := mtime.date("-1999/jun/01");	# 130 MTIMEdate_fromstr (date_07:date)<-(_203:str)
#var date_07 := date("-1999/jun/01"); 	# 131  (_204:str)
    date_08 := mtime.date("2000-jul-14");	# 132 MTIMEdate_fromstr (date_08:date)<-(_206:str)
#var date_08 := date("2000-jul-14"); 	# 133  (_207:str)
    date_09 := mtime.date("1999-sept-01");	# 134 MTIMEdate_fromstr (date_09:date)<-(_209:str)
#var date_09 := date("1999-sept-01"); 	# 135  (_210:str)
    date_10 := mtime.date("1998-decemBeR-01");	# 136 MTIMEdate_fromstr (date_10:date)<-(_212:str)
#var date_10 := date("1998-decemBeR-01"); 	# 137  (_213:str)
    date_11 := mtime.date("1953 may                01");	# 138 MTIMEdate_fromstr (date_11:date)<-(_215:str)
#var date_11 := date("1953 may                01"); 	# 139  (_216:str)
    date_12 := mtime.date("5867411-DEC-31");	# 140 MTIMEdate_fromstr (date_12:date)<-(_218:str)
#var date_12 := date("5867411-DEC-31"); 	# 141  (_219:str)
## nil dates 	# 142  (_220:str)
    date_13 := mtime.date(1996,13,1);	# 143 MTIMEdate_create (date_13:date)<-(_222:int)(_223:int)(_224:int)
#var date_13 := date(1996,13,1); 	# 144  (_225:str)
    date_14 := mtime.date("999999999999999999999-01-01");	# 145 MTIMEdate_fromstr (date_14:date)<-(_227:str)
#var date_14 := date("999999999999999999999-01-01"); 	# 146  (_228:str)
    date_15 := mtime.date("1999-JANUARI-01");	# 147 MTIMEdate_fromstr (date_15:date)<-(_230:str)
#var date_15 := date("1999-JANUARI-01"); 	# 148  (_231:str)
    date_16 := mtime.date("1999-FEBR-29");	# 149 MTIMEdate_fromstr (date_16:date)<-(_233:str)
#var date_16 := date("1999-FEBR-29"); 	# 150  (_234:str)
    date_17 := mtime.date("-1-DECEMBER-0");	# 151 MTIMEdate_fromstr (date_17:date)<-(_236:str)
#var date_17 := date("-1-DECEMBER-0"); 	# 152  (_237:str)
    date_18 := mtime.date("5000\novembe31");	# 153 MTIMEdate_fromstr (date_18:date)<-(_239:str)
#var date_18 := date("5000\novembe\31"); 	# 154  (_240:str)
    date_19 := mtime.date("nil");	# 155 MTIMEdate_fromstr (date_19:date)<-(_242:str)
#var date_19 := date("nil"); 	# 156  (_243:str)
    date_20 := mtime.date("1999-sept-31");	# 157 MTIMEdate_fromstr (date_20:date)<-(_245:str)
#var date_20 := date("1999-sept-31"); 	# 158  (_246:str)
    date_bat := bat.new(:oid,:date);	# 159 CMDBATnew (date_bat:bat[:oid,:date])<-(_140:oid)(_248:date)
#var date_bat := bat.new(oid,date); 	# 160  (_249:str)
    bat.insert(date_bat,0@0,date_00);	# 161 BKCinsert_bun (_250:void)<-(date_bat:bat[:oid,:date])(_251:oid)(date_00:date)
    bat.insert(date_bat,1@0,date_01);	# 162 BKCinsert_bun (_252:void)<-(date_bat:bat[:oid,:date])(_253:oid)(date_01:date)
    bat.insert(date_bat,2@0,date_02);	# 163 BKCinsert_bun (_254:void)<-(date_bat:bat[:oid,:date])(_255:oid)(date_02:date)
#date_bat.bat.insert(0@0, date_00).insert(1@0, date_01).insert(2@0, date_02); 	# 164  (_256:str)
    bat.insert(date_bat,3@0,date_03);	# 165 BKCinsert_bun (_257:void)<-(date_bat:bat[:oid,:date])(_258:oid)(date_03:date)
    bat.insert(date_bat,4@0,date_04);	# 166 BKCinsert_bun (_259:void)<-(date_bat:bat[:oid,:date])(_260:oid)(date_04:date)
    bat.insert(date_bat,5@0,date_05);	# 167 BKCinsert_bun (_261:void)<-(date_bat:bat[:oid,:date])(_262:oid)(date_05:date)
#date_bat.bat.insert(3@0, date_03).insert(4@0, date_04).insert(5@0, date_05); 	# 168  (_263:str)
    bat.insert(date_bat,6@0,date_06);	# 169 BKCinsert_bun (_264:void)<-(date_bat:bat[:oid,:date])(_265:oid)(date_06:date)
    bat.insert(date_bat,7@0,date_07);	# 170 BKCinsert_bun (_266:void)<-(date_bat:bat[:oid,:date])(_267:oid)(date_07:date)
    bat.insert(date_bat,8@0,date_08);	# 171 BKCinsert_bun (_268:void)<-(date_bat:bat[:oid,:date])(_269:oid)(date_08:date)
#date_bat.bat.insert(6@0, date_06).insert(7@0, date_07).insert(8@0, date_08); 	# 172  (_270:str)
    bat.insert(date_bat,9@0,date_09);	# 173 BKCinsert_bun (_271:void)<-(date_bat:bat[:oid,:date])(_272:oid)(date_09:date)
    bat.insert(date_bat,10@0,date_10);	# 174 BKCinsert_bun (_273:void)<-(date_bat:bat[:oid,:date])(_274:oid)(date_10:date)
    bat.insert(date_bat,11@0,date_11);	# 175 BKCinsert_bun (_275:void)<-(date_bat:bat[:oid,:date])(_276:oid)(date_11:date)
#date_bat.bat.insert(9@0, date_09).insert(10@0, date_10).insert(11@0, date_11); 	# 176  (_277:str)
    bat.insert(date_bat,12@0,date_12);	# 177 BKCinsert_bun (_278:void)<-(date_bat:bat[:oid,:date])(_279:oid)(date_12:date)
    bat.insert(date_bat,13@0,date_13);	# 178 BKCinsert_bun (_280:void)<-(date_bat:bat[:oid,:date])(_281:oid)(date_13:date)
    bat.insert(date_bat,14@0,date_14);	# 179 BKCinsert_bun (_282:void)<-(date_bat:bat[:oid,:date])(_283:oid)(date_14:date)
#date_bat.bat.insert(12@0, date_12).insert(13@0, date_13).insert(14@0, date_14); 	# 180  (_284:str)
    bat.insert(date_bat,15@0,date_15);	# 181 BKCinsert_bun (_285:void)<-(date_bat:bat[:oid,:date])(_286:oid)(date_15:date)
    bat.insert(date_bat,16@0,date_16);	# 182 BKCinsert_bun (_287:void)<-(date_bat:bat[:oid,:date])(_288:oid)(date_16:date)
    bat.insert(date_bat,17@0,date_17);	# 183 BKCinsert_bun (_289:void)<-(date_bat:bat[:oid,:date])(_290:oid)(date_17:date)
#date_bat.bat.insert(15@0, date_15).insert(16@0, date_16).insert(17@0, date_17); 	# 184  (_291:str)
    bat.insert(date_bat,18@0,date_18);	# 185 BKCinsert_bun (_292:void)<-(date_bat:bat[:oid,:date])(_293:oid)(date_18:date)
    bat.insert(date_bat,19@0,date_19);	# 186 BKCinsert_bun (_294:void)<-(date_bat:bat[:oid,:date])(_295:oid)(date_19:date)
    bat.insert(date_bat,20@0,date_20);	# 187 BKCinsert_bun (_296:void)<-(date_bat:bat[:oid,:date])(_297:oid)(date_20:date)
#date_bat.bat.insert(18@0, date_18).insert(19@0, date_19).insert(20@0, date_20); 	# 188  (_298:str)
## test the operations on dates 	# 189  (_299:str)
    ne_a := bat.setColumn(date_bat,"date");	# 190 BKCsetColumn (ne_a:void)<-(date_bat:bat[:oid,:date])(_301:str)
#io.print(date_bat.bat.setColumn("date"), 	# 191  (_302:str)
    _359 := bat.new(nil:oid,nil:int);	# 192 CMDBATnew (_359:bat[:oid,:int])<-(_360:oid)(_361:int)
barrier (_363,_364,_365):= bat.newIterator(date_bat);	# 193 CHPbunIterator (_363:lng)(_364:oid)(_365:date)<-(date_bat:bat[:oid,:date]) jump 200
    _367 := mtime.year(_365);	# 194 MTIMEdate_extract_year (_367:int)<-(_365:date)
    bat.insert(_359,_364,_367);	# 195 BKCinsert_bun (_368:void)<-(_359:bat[:oid,:int])(_364:oid)(_367:int)
    redo (_363,_364,_365):= bat.hasMoreElements(date_bat);	# 196 CHPbunHasMoreElements (_363:lng)(_364:oid)(_365:date)<-(date_bat:bat[:oid,:date]) jump 194
catch MALException:str ;	# 197  (MALException:str) jump 199
    redo (_363,_364,_365):= bat.hasMoreElements(date_bat);	# 198 CHPbunHasMoreElements (_363:lng)(_364:oid)(_365:date)<-(date_bat:bat[:oid,:date]) jump 194
exit MALException:str ;	# 199  (MALException:str)
exit (_363,_364,_365);	# 200  (_363:lng)(_364:oid)(_365:date)
    oe_a:bat[:oid,:int]  := _359;	# 201  (oe_a:bat[:oid,:int])<-(_359:bat[:oid,:int])
    pe_a := bat.setColumn(oe_a,"year");	# 202 BKCsetColumn (pe_a:void)<-(oe_a:bat[:oid,:int])(_305:str)
#      [year](date_bat).bat.setColumn("year"), 	# 203  (_307:str)
    _374 := bat.new(nil:oid,nil:int);	# 204 CMDBATnew (_374:bat[:oid,:int])<-(_360:oid)(_361:int)
barrier (_376,_377,_378):= bat.newIterator(date_bat);	# 205 CHPbunIterator (_376:lng)(_377:oid)(_378:date)<-(date_bat:bat[:oid,:date]) jump 212
    _380 := mtime.day(_378);	# 206 MTIMEdate_extract_day (_380:int)<-(_378:date)
    bat.insert(_374,_377,_380);	# 207 BKCinsert_bun (_381:void)<-(_374:bat[:oid,:int])(_377:oid)(_380:int)
    redo (_376,_377,_378):= bat.hasMoreElements(date_bat);	# 208 CHPbunHasMoreElements (_376:lng)(_377:oid)(_378:date)<-(date_bat:bat[:oid,:date]) jump 206
catch MALException:str ;	# 209  (MALException:str) jump 211
    redo (_376,_377,_378):= bat.hasMoreElements(date_bat);	# 210 CHPbunHasMoreElements (_376:lng)(_377:oid)(_378:date)<-(date_bat:bat[:oid,:date]) jump 206
exit MALException:str ;	# 211  (MALException:str)
exit (_376,_377,_378);	# 212  (_376:lng)(_377:oid)(_378:date)
    qe_a:bat[:oid,:int]  := _374;	# 213  (qe_a:bat[:oid,:int])<-(_374:bat[:oid,:int])
    re_a := bat.setColumn(qe_a,"day");	# 214 BKCsetColumn (re_a:void)<-(qe_a:bat[:oid,:int])(_309:str)
#      [day](date_bat).bat.setColumn("day"), 	# 215  (_311:str)
    _387 := bat.new(nil:oid,nil:int);	# 216 CMDBATnew (_387:bat[:oid,:int])<-(_360:oid)(_361:int)
barrier (_389,_390,_391):= bat.newIterator(date_bat);	# 217 CHPbunIterator (_389:lng)(_390:oid)(_391:date)<-(date_bat:bat[:oid,:date]) jump 224
    _393 := mtime.month(_391);	# 218 MTIMEdate_extract_month (_393:int)<-(_391:date)
    bat.insert(_387,_390,_393);	# 219 BKCinsert_bun (_394:void)<-(_387:bat[:oid,:int])(_390:oid)(_393:int)
    redo (_389,_390,_391):= bat.hasMoreElements(date_bat);	# 220 CHPbunHasMoreElements (_389:lng)(_390:oid)(_391:date)<-(date_bat:bat[:oid,:date]) jump 218
catch MALException:str ;	# 221  (MALException:str) jump 223
    redo (_389,_390,_391):= bat.hasMoreElements(date_bat);	# 222 CHPbunHasMoreElements (_389:lng)(_390:oid)(_391:date)<-(date_bat:bat[:oid,:date]) jump 218
exit MALException:str ;	# 223  (MALException:str)
exit (_389,_390,_391);	# 224  (_389:lng)(_390:oid)(_391:date)
    se_a:bat[:oid,:int]  := _387;	# 225  (se_a:bat[:oid,:int])<-(_387:bat[:oid,:int])
    _400 := bat.new(nil:oid,nil:str);	# 226 CMDBATnew (_400:bat[:oid,:str])<-(_401:oid)(_402:str)
barrier (_404,_405,_406):= bat.newIterator(se_a);	# 227 CHPbunIterator (_404:lng)(_405:oid)(_406:int)<-(se_a:bat[:oid,:int]) jump 234
    _408 := mtime.monthname(_406);	# 228 MTIMEmonth_to_str (_408:str)<-(_406:int)
    bat.insert(_400,_405,_408);	# 229 BKCinsert_bun (_409:void)<-(_400:bat[:oid,:str])(_405:oid)(_408:str)
    redo (_404,_405,_406):= bat.hasMoreElements(se_a);	# 230 CHPbunHasMoreElements (_404:lng)(_405:oid)(_406:int)<-(se_a:bat[:oid,:int]) jump 228
catch MALException:str ;	# 231  (MALException:str) jump 233
    redo (_404,_405,_406):= bat.hasMoreElements(se_a);	# 232 CHPbunHasMoreElements (_404:lng)(_405:oid)(_406:int)<-(se_a:bat[:oid,:int]) jump 228
exit MALException:str ;	# 233  (MALException:str)
exit (_404,_405,_406);	# 234  (_404:lng)(_405:oid)(_406:int)
    te_a:bat[:oid,:str]  := _400;	# 235  (te_a:bat[:oid,:str])<-(_400:bat[:oid,:str])
    ue_a := bat.setColumn(te_a,"monthname");	# 236 BKCsetColumn (ue_a:void)<-(te_a:bat[:oid,:str])(_315:str)
#      [monthname]([month](date_bat)).bat.setColumn("monthname"), 	# 237  (_317:str)
    _415 := bat.new(nil:oid,nil:int);	# 238 CMDBATnew (_415:bat[:oid,:int])<-(_401:oid)(_416:int)
barrier (_418,_419,_420):= bat.newIterator(date_bat);	# 239 CHPbunIterator (_418:lng)(_419:oid)(_420:date)<-(date_bat:bat[:oid,:date]) jump 246
    _422 := mtime.month(_420);	# 240 MTIMEdate_extract_month (_422:int)<-(_420:date)
    bat.insert(_415,_419,_422);	# 241 BKCinsert_bun (_423:void)<-(_415:bat[:oid,:int])(_419:oid)(_422:int)
    redo (_418,_419,_420):= bat.hasMoreElements(date_bat);	# 242 CHPbunHasMoreElements (_418:lng)(_419:oid)(_420:date)<-(date_bat:bat[:oid,:date]) jump 240
catch MALException:str ;	# 243  (MALException:str) jump 245
    redo (_418,_419,_420):= bat.hasMoreElements(date_bat);	# 244 CHPbunHasMoreElements (_418:lng)(_419:oid)(_420:date)<-(date_bat:bat[:oid,:date]) jump 240
exit MALException:str ;	# 245  (MALException:str)
exit (_418,_419,_420);	# 246  (_418:lng)(_419:oid)(_420:date)
    ve_a:bat[:oid,:int]  := _415;	# 247  (ve_a:bat[:oid,:int])<-(_415:bat[:oid,:int])
    _429 := bat.new(nil:oid,nil:str);	# 248 CMDBATnew (_429:bat[:oid,:str])<-(_401:oid)(_402:str)
barrier (_431,_432,_433):= bat.newIterator(ve_a);	# 249 CHPbunIterator (_431:lng)(_432:oid)(_433:int)<-(ve_a:bat[:oid,:int]) jump 256
    _435 := mtime.monthname(_433);	# 250 MTIMEmonth_to_str (_435:str)<-(_433:int)
    bat.insert(_429,_432,_435);	# 251 BKCinsert_bun (_436:void)<-(_429:bat[:oid,:str])(_432:oid)(_435:str)
    redo (_431,_432,_433):= bat.hasMoreElements(ve_a);	# 252 CHPbunHasMoreElements (_431:lng)(_432:oid)(_433:int)<-(ve_a:bat[:oid,:int]) jump 250
catch MALException:str ;	# 253  (MALException:str) jump 255
    redo (_431,_432,_433):= bat.hasMoreElements(ve_a);	# 254 CHPbunHasMoreElements (_431:lng)(_432:oid)(_433:int)<-(ve_a:bat[:oid,:int]) jump 250
exit MALException:str ;	# 255  (MALException:str)
exit (_431,_432,_433);	# 256  (_431:lng)(_432:oid)(_433:int)
    we_a:bat[:oid,:str]  := _429;	# 257  (we_a:bat[:oid,:str])<-(_429:bat[:oid,:str])
    _442 := bat.new(nil:oid,nil:int);	# 258 CMDBATnew (_442:bat[:oid,:int])<-(_443:oid)(_416:int)
barrier (_445,_446,_447):= bat.newIterator(we_a);	# 259 CHPbunIterator (_445:lng)(_446:oid)(_447:str)<-(we_a:bat[:oid,:str]) jump 266
    _449 := mtime.monthnum(_447);	# 260 MTIMEmonth_from_str (_449:int)<-(_447:str)
    bat.insert(_442,_446,_449);	# 261 BKCinsert_bun (_450:void)<-(_442:bat[:oid,:int])(_446:oid)(_449:int)
    redo (_445,_446,_447):= bat.hasMoreElements(we_a);	# 262 CHPbunHasMoreElements (_445:lng)(_446:oid)(_447:str)<-(we_a:bat[:oid,:str]) jump 260
catch MALException:str ;	# 263  (MALException:str) jump 265
    redo (_445,_446,_447):= bat.hasMoreElements(we_a);	# 264 CHPbunHasMoreElements (_445:lng)(_446:oid)(_447:str)<-(we_a:bat[:oid,:str]) jump 260
exit MALException:str ;	# 265  (MALException:str)
exit (_445,_446,_447);	# 266  (_445:lng)(_446:oid)(_447:str)
    xe_a:bat[:oid,:int]  := _442;	# 267  (xe_a:bat[:oid,:int])<-(_442:bat[:oid,:int])
    ye_a := bat.setColumn(xe_a,"monthnum");	# 268 BKCsetColumn (ye_a:void)<-(xe_a:bat[:oid,:int])(_321:str)
    io.print("print(date_bat,oe_a,qe_a,te_a,xe_a)");	# 269 IOprint_val (_323:void)<-(_324:str)
    af_a := io.print(date_bat,oe_a,qe_a,te_a,xe_a);	# 270 IOtable (af_a:void)<-(date_bat:bat[:oid,:date])(oe_a:bat[:oid,:int])(qe_a:bat[:oid,:int])(te_a:bat[:oid,:str])(xe_a:bat[:oid,:int])
#      [monthnum]([monthname]([month](date_bat))).bat.setColumn("monthnum")); 	# 271  (_326:str)
    _456 := bat.new(nil:oid,nil:date);	# 272 CMDBATnew (_456:bat[:oid,:date])<-(_443:oid)(_457:date)
barrier (_459,_460,_461):= bat.newIterator(date_bat);	# 273 CHPbunIterator (_459:lng)(_460:oid)(_461:date)<-(date_bat:bat[:oid,:date]) jump 280
    _463 := mtime.addyears(_461,-100);	# 274 MTIMEdate_addyears (_463:date)<-(_461:date)(_329:int)
    bat.insert(_456,_460,_463);	# 275 BKCinsert_bun (_464:void)<-(_456:bat[:oid,:date])(_460:oid)(_463:date)
    redo (_459,_460,_461):= bat.hasMoreElements(date_bat);	# 276 CHPbunHasMoreElements (_459:lng)(_460:oid)(_461:date)<-(date_bat:bat[:oid,:date]) jump 274
catch MALException:str ;	# 277  (MALException:str) jump 279
    redo (_459,_460,_461):= bat.hasMoreElements(date_bat);	# 278 CHPbunHasMoreElements (_459:lng)(_460:oid)(_461:date)<-(date_bat:bat[:oid,:date]) jump 274
exit MALException:str ;	# 279  (MALException:str)
exit (_459,_460,_461);	# 280  (_459:lng)(_460:oid)(_461:date)
    date_addyears:bat[:oid,:date]  := _456;	# 281  (date_addyears:bat[:oid,:date])<-(_456:bat[:oid,:date])
#var date_addyears := [addyears](date_bat, -100); 	# 282  (_330:str)
    _470 := bat.new(nil:oid,nil:date);	# 283 CMDBATnew (_470:bat[:oid,:date])<-(_443:oid)(_457:date)
barrier (_472,_473,_474):= bat.newIterator(date_bat);	# 284 CHPbunIterator (_472:lng)(_473:oid)(_474:date)<-(date_bat:bat[:oid,:date]) jump 291
    _476 := mtime.addmonths(_474,1);	# 285 MTIMEdate_addmonths (_476:date)<-(_474:date)(_333:int)
    bat.insert(_470,_473,_476);	# 286 BKCinsert_bun (_477:void)<-(_470:bat[:oid,:date])(_473:oid)(_476:date)
    redo (_472,_473,_474):= bat.hasMoreElements(date_bat);	# 287 CHPbunHasMoreElements (_472:lng)(_473:oid)(_474:date)<-(date_bat:bat[:oid,:date]) jump 285
catch MALException:str ;	# 288  (MALException:str) jump 290
    redo (_472,_473,_474):= bat.hasMoreElements(date_bat);	# 289 CHPbunHasMoreElements (_472:lng)(_473:oid)(_474:date)<-(date_bat:bat[:oid,:date]) jump 285
exit MALException:str ;	# 290  (MALException:str)
exit (_472,_473,_474);	# 291  (_472:lng)(_473:oid)(_474:date)
    date_addmonths:bat[:oid,:date]  := _470;	# 292  (date_addmonths:bat[:oid,:date])<-(_470:bat[:oid,:date])
#var date_addmonths := [addmonths](date_bat, 1); 	# 293  (_334:str)
    bat.setColumn(date_bat,"date");	# 294 BKCsetColumn (_335:void)<-(date_bat:bat[:oid,:date])(_301:str)
#io.print(date_bat.bat.setColumn("date"), 	# 295  (_302:str)
    bat.setColumn(date_addyears,"min100y");	# 296 BKCsetColumn (_336:void)<-(date_addyears:bat[:oid,:date])(_337:str)
#      date_addyears.bat.setColumn("min100y"), 	# 297  (_338:str)
    _483 := bat.new(nil:oid,nil:int);	# 298 CMDBATnew (_483:bat[:oid,:int])<-(_484:oid)(_485:int)
barrier (_487,_488,_489):= bat.newIterator(date_addyears);	# 299 CHPbunIterator (_487:lng)(_488:oid)(_489:date)<-(date_addyears:bat[:oid,:date]) jump 307
    _491 := algebra.find(date_bat,_488);	# 300 ALGfind (_491:date)<-(date_bat:bat[:oid,:date])(_488:oid)
    _493 := mtime.diff(_489,_491);	# 301 MTIMEdate_diff (_493:int)<-(_489:date)(_491:date)
    bat.insert(_483,_488,_493);	# 302 BKCinsert_bun (_494:void)<-(_483:bat[:oid,:int])(_488:oid)(_493:int)
    redo (_487,_488,_489):= bat.hasMoreElements(date_addyears);	# 303 CHPbunHasMoreElements (_487:lng)(_488:oid)(_489:date)<-(date_addyears:bat[:oid,:date]) jump 300
catch MALException:str ;	# 304  (MALException:str) jump 306
    redo (_487,_488,_489):= bat.hasMoreElements(date_addyears);	# 305 CHPbunHasMoreElements (_487:lng)(_488:oid)(_489:date)<-(date_addyears:bat[:oid,:date]) jump 300
exit MALException:str ;	# 306  (MALException:str)
exit (_487,_488,_489);	# 307  (_487:lng)(_488:oid)(_489:date)
    df_a:bat[:oid,:int]  := _483;	# 308  (df_a:bat[:oid,:int])<-(_483:bat[:oid,:int])
    bat.setColumn(df_a,"diff");	# 309 BKCsetColumn (_341:void)<-(df_a:bat[:oid,:int])(_340:str)
    io.print("print(date_bat,date_addyears,df_a)");	# 310 IOprint_val (_342:void)<-(_343:str)
    ff_a := io.print(date_bat,date_addyears,df_a);	# 311 IOtable (ff_a:void)<-(date_bat:bat[:oid,:date])(date_addyears:bat[:oid,:date])(df_a:bat[:oid,:int])
#      [diff](date_addyears, date_bat).bat.setColumn("diff")); 	# 312  (_345:str)
    bat.setColumn(date_bat,"date");	# 313 BKCsetColumn (_346:void)<-(date_bat:bat[:oid,:date])(_347:str)
#io.print(date_bat.bat.setColumn("date"), 	# 314  (_348:str)
    bat.setColumn(date_addmonths,"plus1m");	# 315 BKCsetColumn (_349:void)<-(date_addmonths:bat[:oid,:date])(_350:str)
#      date_addmonths.bat.setColumn("plus1m"), 	# 316  (_351:str)
    _500 := bat.new(nil:oid,nil:int);	# 317 CMDBATnew (_500:bat[:oid,:int])<-(_484:oid)(_485:int)
barrier (_502,_503,_504):= bat.newIterator(date_addmonths);	# 318 CHPbunIterator (_502:lng)(_503:oid)(_504:date)<-(date_addmonths:bat[:oid,:date]) jump 326
    _506 := algebra.find(date_bat,_503);	# 319 ALGfind (_506:date)<-(date_bat:bat[:oid,:date])(_503:oid)
    _508 := mtime.diff(_504,_506);	# 320 MTIMEdate_diff (_508:int)<-(_504:date)(_506:date)
    bat.insert(_500,_503,_508);	# 321 BKCinsert_bun (_509:void)<-(_500:bat[:oid,:int])(_503:oid)(_508:int)
    redo (_502,_503,_504):= bat.hasMoreElements(date_addmonths);	# 322 CHPbunHasMoreElements (_502:lng)(_503:oid)(_504:date)<-(date_addmonths:bat[:oid,:date]) jump 319
catch MALException:str ;	# 323  (MALException:str) jump 325
    redo (_502,_503,_504):= bat.hasMoreElements(date_addmonths);	# 324 CHPbunHasMoreElements (_502:lng)(_503:oid)(_504:date)<-(date_addmonths:bat[:oid,:date]) jump 319
exit MALException:str ;	# 325  (MALException:str)
exit (_502,_503,_504);	# 326  (_502:lng)(_503:oid)(_504:date)
    if_a:bat[:oid,:int]  := _500;	# 327  (if_a:bat[:oid,:int])<-(_500:bat[:oid,:int])
    bat.setColumn(if_a,"diff");	# 328 BKCsetColumn (_354:void)<-(if_a:bat[:oid,:int])(_340:str)
    io.print(" print(date_bat,date_addmonths,if_a)");	# 329 IOprint_val (_355:void)<-(_356:str)
    kf_a := io.print(date_bat,date_addmonths,if_a);	# 330 IOtable (kf_a:void)<-(date_bat:bat[:oid,:date])(date_addmonths:bat[:oid,:date])(if_a:bat[:oid,:int])
#      [diff](date_addmonths, date_bat).bat.setColumn("diff")); 	# 331  (_358:str)
end main;	# 332  
[ "print(date_bat,oe_a,qe_a,te_a,xe_a)" ]
#---------------------------------------------------------------------------------#
# h	date		year		day	monthname	monthnum		  # name
# void	date		int		int	str		int		  # type
#---------------------------------------------------------------------------------#
[ 0@0,	  2000-01-01,	  2000,		  1,	  "january",	  1		  ]
[ 1@0,	  5000-01-01,	  5000,		  1,	  "january",	  1		  ]
[ 2@0,	  1968-02-29,	  1968,		  29,	  "february",	  2		  ]
[ 3@0,	  1-03-01,	  1,		  1,	  "march",	  3		  ]
[ 4@0,	  -5867411-01-01, -5867411,	  1,	  "january",	  1		  ]
[ 5@0,	  -768-10-01,	  -768,		  1,	  "october",	  10		  ]
[ 6@0,	  5000-11-01,	  5000,		  1,	  "november",	  11		  ]
[ 7@0,	  -1999-06-01,	  -1999,	  1,	  "june",	  6		  ]
[ 8@0,	  2000-07-14,	  2000,		  14,	  "july",	  7		  ]
[ 9@0,	  1999-09-01,	  1999,		  1,	  "september",	  9		  ]
[ 10@0,	  1998-12-01,	  1998,		  1,	  "december",	  12		  ]
[ 11@0,	  1953-05-01,	  1953,		  1,	  "may",	  5		  ]
[ 12@0,	  5867411-12-31,  5867411,	  31,	  "december",	  12		  ]
[ 13@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 14@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 15@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 16@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 17@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 18@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 19@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ 20@0,	  nil,		  nil,		  nil,	  nil,		  nil		  ]
[ "print(date_bat,date_addyears,df_a)" ]
#-------------------------------------------------#
# лллл;	date		min100y		diff	  # name
# void	date		date		int	  # type
#-------------------------------------------------#
[ 0@0,	  2000-01-01,	  1900-01-01,	  -36524  ]
[ 1@0,	  5000-01-01,	  4900-01-01,	  -36524  ]
[ 2@0,	  1968-02-29,	  1868-02-29,	  -36524  ]
[ 3@0,	  1-03-01,	  -100-03-01,	  -36525  ]
[ 4@0,	  -5867411-01-01, nil,		  nil	  ]
[ 5@0,	  -768-10-01,	  -868-10-01,	  -36525  ]
[ 6@0,	  5000-11-01,	  4900-11-01,	  -36524  ]
[ 7@0,	  -1999-06-01,	  -2099-06-01,	  -36525  ]
[ 8@0,	  2000-07-14,	  1900-07-14,	  -36525  ]
[ 9@0,	  1999-09-01,	  1899-09-01,	  -36524  ]
[ 10@0,	  1998-12-01,	  1898-12-01,	  -36524  ]
[ 11@0,	  1953-05-01,	  1853-05-01,	  -36524  ]
[ 12@0,	  5867411-12-31,  5867311-12-31,  -36524  ]
[ 13@0,	  nil,		  nil,		  nil	  ]
[ 14@0,	  nil,		  nil,		  nil	  ]
[ 15@0,	  nil,		  nil,		  nil	  ]
[ 16@0,	  nil,		  nil,		  nil	  ]
[ 17@0,	  nil,		  nil,		  nil	  ]
[ 18@0,	  nil,		  nil,		  nil	  ]
[ 19@0,	  nil,		  nil,		  nil	  ]
[ 20@0,	  nil,		  nil,		  nil	  ]
[ " print(date_bat,date_addmonths,if_a)" ]
#---------------------------------------------------------#
# лллллллл		date		plus1m		diff	  # name
# void		date		date		int	  # type
#---------------------------------------------------------#
[ 0@0,		  2000-01-01,	  2000-02-01,	  31	  ]
[ 1@0,		  5000-01-01,	  5000-02-01,	  31	  ]
[ 2@0,		  1968-02-29,	  1968-03-29,	  29	  ]
[ 3@0,		  1-03-01,	  1-04-01,	  31	  ]
[ 4@0,		  -5867411-01-01, -5867411-02-01, 31	  ]
[ 5@0,		  -768-10-01,	  -768-11-01,	  31	  ]
[ 6@0,		  5000-11-01,	  5000-12-01,	  30	  ]
[ 7@0,		  -1999-06-01,	  -1999-07-01,	  30	  ]
[ 8@0,		  2000-07-14,	  2000-08-14,	  31	  ]
[ 9@0,		  1999-09-01,	  1999-10-01,	  30	  ]
[ 10@0,		  1998-12-01,	  1999-01-01,	  31	  ]
[ 11@0,		  1953-05-01,	  1953-06-01,	  31	  ]
[ 12@0,		  5867411-12-31,  nil,		  nil	  ]
[ 13@0,		  nil,		  nil,		  nil	  ]
[ 14@0,		  nil,		  nil,		  nil	  ]
[ 15@0,		  nil,		  nil,		  nil	  ]
[ 16@0,		  nil,		  nil,		  nil	  ]
[ 17@0,		  nil,		  nil,		  nil	  ]
[ 18@0,		  nil,		  nil,		  nil	  ]
[ 19@0,		  nil,		  nil,		  nil	  ]
[ 20@0,		  nil,		  nil,		  nil	  ]

# 23:31:31 >  
# 23:31:31 >  Done.
# 23:31:31 >  

