#testing the BAT partition table with fixed capacity
a1:= bat.new(:void,:int);
bat.setSequenceBase(a1,0@0);

partitions.deposit(a1);
partitions.setCapacity(a1,3);

barrier (go,i):= mal.newRange(0);
	partitions.insert(a1,i);
	redo (go,i):= mal.nextElement(1,10);
exit (go,i);
partitions.dump();
barrier (k,b):= partitions.newIterator(a1);
	io.print(b);
	redo (k,b):= partitions.hasMoreElements(a1);
exit (k,b);

# add it


