
INCLUDES = -I../atoms -I../kernel \
        -I../../mal $(MONETDB_INCS) \
        $(Z_CFLAGS) $(BZ_CFLAGS) $(PCRE_CFLAGS)

MTSAFE

LIBS = {
	DIR = pkglibdir
	SEP = _
	SOURCES = \
		chopper.mx language.mx box.mx \
		profiler.mx const.mx print.mx \
		inspect.mx crackers.mx \
		thread.mx clients.mx \
		factory.mx mdb.mx  \
		rsbox.mx
		#datacell.mx 

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__pcre = {
	DIR = pkglibdir
	SOURCES = pcre.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS) $(PCRE_LIBS) 
}

lib__bbp = {
	DIR = pkglibdir
	SOURCES = bbp.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_bat $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__tablet = {
	DIR = pkglibdir
	SOURCES = tablet.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_algebra \
		$(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__transaction = {
	DIR = pkglibdir
	SOURCES = transaction.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_bat $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__partitions = {
	DIR = pkglibdir
	SOURCES = partitions.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_bat $(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

lib__statistics = {
	DIR = pkglibdir
	SOURCES = statistics.mx

	HEADERS = h 
	#SCRIPTS = mal mil ""
	LIBS = ../../mal/libmal ../kernel/lib_algebra \
		$(MONETDB_LIBS) -lbat -lstream \
                $(SOCKET_LIBS) $(Z_LIBS) $(BZ_LIBS) \
                $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}

scripts_mal = {
	DIR = pkglibdir
	SOURCES = language.mx mal_init.mx box.mx bbp.mx \
		profiler.mx const.mx \
		inspect.mx crackers.mx print.mal \
		chopper.mx thread.mx clients.mx \
		factory.mx mdb.mx pcre.mx  tablet.mx \
		rsbox.mx statistics.mx transaction.mx partitions.mx
	#datacell.mx 
}

#EXTRA_DIST_DIR = Tests
