@' The contents of this file are subject to the MonetDB Public
@' License Version 1.0 (the "License"); you may not use this file
@' except in compliance with the License. You may obtain a copy of
@' the License at
@' http://monetdb.cwi.nl/Legal/MonetDBLicense-1.0.html
@'
@' Software distributed under the License is distributed on an "AS
@' IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
@' implied. See the License for the specific language governing
@' rights and limitations under the License.
@'
@' The Original Code is the Monet Database System.
@'
@' The Initial Developer of the Original Code is CWI.
@' Portions created by CWI are Copyright (C) 1997-2005 CWI.
@' All Rights Reserved.

@f module
@a Niels Nes

@h
#ifndef _MODULE_H_
#define _MODULE_H_

#include "symbol.h"
#include "list.h"

class Module:public Symbol {
      public:
	Module(int t, char *n, char *fn, List * deps = NULL, List * defs = NULL);
	List *Deps() const;
	List *Defs() const;
	char *filename() const;

	virtual ostream & print(language * l, ostream & o) const;
      private:
	char *_fn;
	List *_deps;
	List *_defs;
};
#endif // _MODULE_H_

@C
#include <monetdb_config.h>
#include "module.h"
#include "language.h"
#include <string.h>


Module::Module( int t, char *n, char *fn,
		List *deps,
		List *defs ) : Symbol(t,n) {
	_fn = strdup(fn);
	_deps = deps;
	_defs = defs;
}

List *Module::Deps() const {
	return _deps;
}

List *Module::Defs() const {
	return _defs;
}

char *Module::filename() const {
	return _fn;
}

ostream &Module::print( language *l, ostream &o ) const {
	return l->gen_module( o, *this );
}
